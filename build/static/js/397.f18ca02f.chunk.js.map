{"version":3,"file":"static/js/397.f18ca02f.chunk.js","mappings":"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","sources":["webpack://web-booking/./src/pages/Community/pages/PostDetail/post-detail.module.css?6e45","pages/Community/pages/PostDetail/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"post-detail_container__89kTt\",\"head\":\"post-detail_head__0+aKK\",\"head_left\":\"post-detail_head_left__-GYR6\",\"head_left_btn\":\"post-detail_head_left_btn__iQrfc\",\"head_left_avatar\":\"post-detail_head_left_avatar__YTZT1\",\"head_right\":\"post-detail_head_right__mNzTp\",\"user_name\":\"post-detail_user_name__5Q1Gl\",\"org_name\":\"post-detail_org_name__B7jeb\",\"created_add\":\"post-detail_created_add__dcFYr\",\"post_group_cate\":\"post-detail_post_group_cate__dtlYr\",\"user_avatar\":\"post-detail_user_avatar__wfKoG\",\"post_group_name\":\"post-detail_post_group_name__-vnW1\",\"content\":\"post-detail_content__oSfxG\",\"interactive\":\"post-detail_interactive__DUDAo\",\"interactive_item\":\"post-detail_interactive_item__uEfiH\",\"post_item_head_de\":\"post-detail_post_item_head_de__Jub2q\",\"post_item_head_user\":\"post-detail_post_item_head_user__+it3N\"};","/* eslint-disable react-hooks/exhaustive-deps */\nimport { Container } from \"@mui/system\";\nimport { XButton } from \"components/Layout\";\nimport icon from \"constants/icon\";\nimport HeadTitle from \"features/HeadTitle\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport style from \"./post-detail.module.css\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { QR_KEY } from \"config\";\nimport { postApi } from \"api\";\nimport { formatDateFromNow, onErrorImg } from \"utils\";\nimport { Images, PostLoading } from \"pages/Community/components\";\nimport Comment from \"components/Comment\";\nimport { useFavorite } from \"hooks\";\nimport { formatRouterLinkOrg } from \"utils/formatRouterLink/formatRouter\";\n\nfunction PostDetail() {\n  const { id } = useParams() as any;\n  const history = useHistory();\n  const { data, isLoading } = useQuery({\n    queryKey: [QR_KEY.POSTS, id],\n    queryFn: () => postApi.post(id),\n    enabled: id ? true : false,\n    onError: () => history.replace(\"/error\"),\n  });\n  const post = data?.context;\n  const { favoriteSt, onToggleFavorite } = useFavorite({\n    id: post?.id,\n    org_id: post?.organization_id || 0,\n    type: 'POST',\n    count: post?.favorite_count || 0,\n    favorite: post?.is_favorite || false\n  })\n  const handleGotoORG = (\n    e: React.MouseEvent<HTMLDivElement>,\n    id?: number\n  ) => {\n    if (id !== undefined) {\n      history.push(formatRouterLinkOrg(id));\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n  return (\n    <>\n      <HeadTitle title={\"post?.group?.name\"} />\n      <Container>\n        {isLoading && (\n          <div\n            className={style.container}\n            style={{ padding: \"0px\", boxShadow: \"none\" }}\n          >\n            <PostLoading />\n          </div>\n        )}\n        <div className={style.container}>\n          <div className={style.head}>\n            <div className={style.head_left}>\n              <XButton\n                onClick={() => history.goBack()}\n                className={style.head_left_btn}\n                icon={icon.chevronLeft}\n                iconSize={28}\n              />\n              <div className={style.head_left_avatar}>\n                <img\n                  src={\n                    post?.user.avatar\n                      ? post?.user.avatar\n                      : post?.organization?.image_url\n                  }\n                  alt=\"\"\n                />\n              </div>\n            </div>\n            <div className={style.head_right}>\n              <p className={style.user_name}>\n                {post?.user ? post?.user?.fullname : post?.organization?.name}\n              </p>\n              <div className={style.post_item_head_de}>\n                {post?.organization !== null && (\n                  <div\n                    onClick={(e) => handleGotoORG(e, post?.organization_id)}\n                    className={style.post_item_head_user}\n                  >\n                    <img\n                      onError={(e) => onErrorImg(e)}\n                      className={style.user_avatar}\n                      src={post?.organization?.image_url}\n                      alt=\"\"\n                    />\n                    <span className={style.org_name}>\n                      {post?.organization?.name}\n                    </span>\n                  </div>\n                )}\n                <p className={style.created_add}>\n                  {formatDateFromNow(post?.created_at ?? \"\")}\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className={style.content}>{post?.content}</div>\n          <div className={style.images_cont}>\n            {post?.media_url && post?.media_url?.length > 0 && (\n              <Images images={post.media_url || []} />\n            )}\n          </div>\n          <div className={style.interactive}>\n            <div className={style.interactive_item}>\n              <XButton\n                onClick={() => onToggleFavorite()}\n                iconSize={28}\n                icon={\n                  favoriteSt.is_favorite ? icon.thumbUpPurple : icon.thumbUp\n                }\n              />\n              <span>{favoriteSt?.favorite_count}</span>\n            </div>\n            <div className={style.interactive_item}>\n              <XButton iconSize={28} icon={icon.chatSquare} />\n              <span>{post?.comment_count}</span>\n            </div>\n          </div>\n\n          <div className={style.post_detail_comment}>\n            {post && (\n              <Comment\n                commentable_type=\"POST\"\n                commentable_id={post?.id}\n                // org_id={post?.organization_id}\n              />\n            )}\n          </div>\n        </div>\n      </Container>\n    </>\n  );\n}\n\nexport default PostDetail;\n"],"names":["_post$organization","_post$user","_post$organization2","_post$organization3","_post$organization4","_post$created_at","_post$media_url","id","useParams","history","useHistory","data","isLoading","useQuery","queryKey","QR_KEY","POSTS","queryFn","postApi","post","enabled","onError","replace","context","favoriteSt","onToggleFavorite","useFavorite","org_id","organization_id","type","count","favorite_count","favorite","is_favorite","_jsxs","_Fragment","children","_jsx","HeadTitle","title","Container","className","style","container","padding","boxShadow","PostLoading","head","head_left","XButton","onClick","goBack","head_left_btn","icon","chevronLeft","iconSize","head_left_avatar","src","user","avatar","organization","image_url","alt","head_right","user_name","fullname","name","post_item_head_de","e","handleGotoORG","undefined","push","formatRouterLinkOrg","preventDefault","stopPropagation","post_item_head_user","onErrorImg","user_avatar","org_name","created_add","formatDateFromNow","created_at","content","images_cont","media_url","length","Images","images","interactive","interactive_item","thumbUpPurple","thumbUp","chatSquare","comment_count","post_detail_comment","Comment","commentable_type","commentable_id"],"sourceRoot":""}