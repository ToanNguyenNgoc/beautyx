{"version":3,"file":"static/js/769.3c28fd0c.chunk.js","mappings":"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","sources":["webpack://web-booking/./src/pages/Trends/trends.module.css?6c50","pages/Trends/TrendDetailDia.tsx","pages/Trends/index.tsx","webpack://web-booking/./src/pages/TrendsDetail/trend-detail.module.css?8158","pages/TrendsDetail/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container_large\":\"trends_container_large__B3usY\",\"trend_list\":\"trends_trend_list__b0stv\",\"video_item_cnt\":\"trends_video_item_cnt__Y04IM\",\"trend_list_video_thumb\":\"trends_trend_list_video_thumb__fiLD0\",\"trend_item_head\":\"trends_trend_item_head__bhL+j\",\"trend_item_center\":\"trends_trend_item_center__LyHmS\",\"trend_item_body\":\"trends_trend_item_body__pIhpM\",\"trend_item_video_thumb\":\"trends_trend_item_video_thumb__QZNby\",\"trend_item_bot_ex\":\"trends_trend_item_bot_ex__3tgm-\",\"trend_item_desc\":\"trends_trend_item_desc__kPdxa\",\"trend_item_bot_org\":\"trends_trend_item_bot_org__Alayd\",\"trend_item_bot_org_img\":\"trends_trend_item_bot_org_img__XSgoS\",\"trend_item_bot_org_name\":\"trends_trend_item_bot_org_name__FHDqR\",\"trend_item_head_org\":\"trends_trend_item_head_org__j14Ob\",\"trend_item_head_name\":\"trends_trend_item_head_name__RXuqV\",\"org_name\":\"trends_org_name__0zme9\",\"create_at\":\"trends_create_at__TG4lF\",\"trend_item_bot\":\"trends_trend_item_bot__GH2bq\",\"item_ex\":\"trends_item_ex__Jx-cl\",\"item_ex_icon\":\"trends_item_ex_icon__zyDMA\",\"item_ex_text\":\"trends_item_ex_text__FYVm1\"};","import { Dialog } from '@mui/material';\nimport TrendsDetail from 'pages/TrendsDetail';\nimport React from 'react';\n\ninterface TrendDetailDiaProps {\n    open: boolean, setOpen: (open: boolean) => void,\n    _id: string\n}\n\nfunction TrendDetailDia(props: TrendDetailDiaProps) {\n    const { open, setOpen, _id } = props;\n    const onClose = () => setOpen(false)\n    return (\n        <Dialog\n            fullScreen\n            open={open}\n        >\n            {open && <TrendsDetail id={_id} onClose={onClose} />}\n        </Dialog>\n    );\n}\n\nexport default TrendDetailDia;","/* eslint-disable react-hooks/exhaustive-deps */\nimport API_3RD from \"api/3rd-api\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useDeviceMobile, useElementOnScreen, useFetch } from \"hooks\";\nimport { ITrend } from \"./trend.interface\";\nimport { Container } from \"@mui/system\";\nimport style from \"./trends.module.css\";\nimport moment from \"moment\";\nimport icon from \"constants/icon\";\nimport { useHistory } from \"react-router-dom\";\nimport { XButton } from \"components/Layout\";\nimport { formatRouterLinkOrg } from \"utils/formatRouterLink/formatRouter\";\nimport TrendDetailDia from \"./TrendDetailDia\";\n\nfunction Trends() {\n    const { response } = useFetch(\n        true,\n        `${API_3RD.API_NODE}/trends`,\n        { 'include': 'services|tiktok' }\n    );\n\n    const trends: ITrend[] = response?.context?.data ?? [];\n    const [playVideo, setPlayVideo] = useState(0)\n    return (\n        <>\n            <Container>\n                <div className={style.container_large}>\n                    <ul className={style.trend_list}>\n                        {\n                            trends.map((item: ITrend, index: number) => (\n                                <li key={index} className={style.trend_list_video_thumb}>\n                                    <VideoItemThumb\n                                        item={item}\n                                        playVideo={playVideo}\n                                        setPlayVideo={setPlayVideo}\n                                        index={index}\n                                    />\n                                </li>\n                            ))\n                        }\n                    </ul>\n                </div>\n            </Container>\n        </>\n    );\n}\n\nexport default Trends;\n\ninterface VideoItemThumbProps {\n    item: ITrend, playVideo: number,\n    setPlayVideo: (playVideo: number) => void,\n    index: number\n}\n\nconst VideoItemThumb = (props: VideoItemThumbProps) => {\n    const { item, index, playVideo, setPlayVideo } = props;\n    const history = useHistory()\n    const videoRef = useRef<HTMLVideoElement>(null)\n    const itemRef = useRef<HTMLDivElement>(null)\n    const [open, setOpen] = useState(false)\n    const IS_MB = useDeviceMobile()\n    const onDetail = () => {\n        if (IS_MB) {\n            videoRef.current?.pause()\n            setOpen(true)\n        } else {\n            history.push(`/video/${item._id}`)\n        }\n    }\n    const onToggleVideo = () => {\n        if (IS_MB && index === playVideo) return setPlayVideo(-1)\n        setPlayVideo(index)\n    }\n\n    const options = {\n        root: null,\n        rootMargin: \"0px\",\n        threshold: 0.3,\n    };\n    const isVisible = useElementOnScreen(options, itemRef);\n    useEffect(() => {\n        if (isVisible) {\n            setPlayVideo(index)\n        }\n    }, [isVisible])\n    useEffect(() => {\n        if (playVideo === index) {\n            videoRef.current?.play()\n        } else {\n            videoRef.current?.pause()\n        }\n    }, [playVideo]);\n    const onOrgDetail = () => {\n        history.push(formatRouterLinkOrg(item.organization_id))\n    }\n    return (\n        <>\n            <div\n                // to={{ pathname: `/video/${item._id}` }}\n                onMouseEnter={!IS_MB ? () => onToggleVideo() : () => { }}\n                onClick={!IS_MB ? () => onDetail() : () => { }}\n                className={style.video_item_cnt}\n            >\n                <div\n                    ref={itemRef} className={style.trend_item_center}\n                >\n                    {\n                        playVideo !== index &&\n                        <XButton\n                            icon={icon.playCircle}\n                            iconSize={42}\n                        />\n                    }\n                </div>\n                <div\n                    onClick={onOrgDetail}\n                    className={style.trend_item_head}\n                >\n                    <div className={style.trend_item_head_org}>\n                        <img src={item.organization_image} alt=\"\" />\n                    </div>\n                    <div className={style.trend_item_head_name}>\n                        <p className={style.org_name}>{item.organization_name}</p>\n                        <p className={style.create_at}>{moment(item.createdAt).fromNow()}</p>\n                    </div>\n                </div>\n                <div className={style.trend_item_body}>\n                    <video\n                        onClick={IS_MB ? () => onToggleVideo() : () => { }}\n                        ref={videoRef}\n                        className={style.trend_item_video_thumb}\n                        webkit-playsinline=\"webkit-playsinline\"\n                        playsInline={true}\n                    >\n                        <source type=\"video/mp4\" src={`${item.media_url}#t=0.001`} />\n                    </video>\n                </div>\n                <div className={style.trend_item_bot}>\n                    <div onClick={onDetail} className={style.trend_item_bot_ex}>\n                        <div className={style.item_ex}>\n                            <img className={style.item_ex_icon} src={icon.heartBoldBlack} alt=\"\" />\n                            <span className={style.item_ex_text}>{item.tiktok?.digg_count}</span>\n                        </div>\n                        <div className={style.item_ex}>\n                            <img className={style.item_ex_icon} src={icon.commentBoldBlack} alt=\"\" />\n                            <span className={style.item_ex_text}>{item.tiktok?.comment_count}</span>\n                        </div>\n                        <div className={style.item_ex}>\n                            <img className={style.item_ex_icon} src={icon.shareBoldBlack} alt=\"\" />\n                            <span className={style.item_ex_text}>{item.tiktok?.share_count}</span>\n                        </div>\n                    </div>\n                    <p className={style.trend_item_desc}>\n                        {item.content}\n                    </p>\n                    <div className={style.trend_item_bot_org}>\n                        <div className={style.trend_item_bot_org_img}>\n                            <img src={item.organization_image} alt=\"\" />\n                        </div>\n                        <span className={style.trend_item_bot_org_name}>{item.organization_name}</span>\n                    </div>\n                </div>\n            </div>\n            <TrendDetailDia\n                open={open} setOpen={setOpen} _id={item._id}\n            />\n        </>\n    )\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"back_btn\":\"trend-detail_back_btn__cAjmb\",\"container\":\"trend-detail_container__LW5aw\",\"left\":\"trend-detail_left__zkPEH\",\"video_container\":\"trend-detail_video_container__NJTaI\",\"video_blur\":\"trend-detail_video_blur__BJ7VA\",\"video_wrapper\":\"trend-detail_video_wrapper__16p74\",\"video\":\"trend-detail_video__UtiV1\",\"right\":\"trend-detail_right__zzi54\",\"right_top\":\"trend-detail_right_top__s6Pbt\",\"right_top_org\":\"trend-detail_right_top_org__W77YF\",\"org_detail\":\"trend-detail_org_detail__NhzaH\",\"org_detail_img\":\"trend-detail_org_detail_img__tYN5Z\",\"org_detail_right\":\"trend-detail_org_detail_right__PcIwP\",\"org_detail_name\":\"trend-detail_org_detail_name__iZmAq\",\"time_late\":\"trend-detail_time_late__lC1tj\",\"right_top_org_btn\":\"trend-detail_right_top_org_btn__mjg6i\",\"title\":\"trend-detail_title__2lUzd\",\"content\":\"trend-detail_content__tKhqX\",\"right_top_services\":\"trend-detail_right_top_services__ruvvm\",\"service_link_text\":\"trend-detail_service_link_text__AU6Dx\",\"interactive\":\"trend-detail_interactive__pKqNC\",\"interactive_item\":\"trend-detail_interactive_item__z49BQ\",\"interactive_icon_btn\":\"trend-detail_interactive_icon_btn__8ItPJ\",\"interactive_item_text\":\"trend-detail_interactive_item_text__jwUkK\",\"comment_container\":\"trend-detail_comment_container__fcxFH\",\"comment_list\":\"trend-detail_comment_list__rx5JH\",\"comment_item_cnt\":\"trend-detail_comment_item_cnt__-K1Rg\",\"comment_item_par\":\"trend-detail_comment_item_par__C4g1p\",\"comment_user_avatar\":\"trend-detail_comment_user_avatar__xmqjw\",\"comment_item_par_right\":\"trend-detail_comment_item_par_right__RXhjR\",\"comment_item_box\":\"trend-detail_comment_item_box__cXnYc\",\"comment_text\":\"trend-detail_comment_text__lrFWT\",\"comment_user_name\":\"trend-detail_comment_user_name__QaZjT\",\"comment_bot\":\"trend-detail_comment_bot__sSat5\",\"comment_bot_create\":\"trend-detail_comment_bot_create__zNGBX\",\"comment_bot_reply\":\"trend-detail_comment_bot_reply__ueWEn\",\"comment_item_child\":\"trend-detail_comment_item_child__grHQ+\",\"comment_item_child_item\":\"trend-detail_comment_item_child_item__ZN2fE\",\"comment_input\":\"trend-detail_comment_input__YOZCG\",\"detail_comment_list\":\"trend-detail_detail_comment_list__Iz0Jf\",\"load_item\":\"trend-detail_load_item__UZLN5\",\"load_item_left\":\"trend-detail_load_item_left__5Lf8c\",\"load_item_right\":\"trend-detail_load_item_right__aUnBa\"};","import API_3RD from 'api/3rd-api';\nimport { XButton } from 'components/Layout';\nimport icon from 'constants/icon';\nimport { useFetch, useFetchInfinite } from 'hooks';\nimport moment from 'moment';\nimport { ITrend } from 'pages/Trends/trend.interface';\nimport React from 'react';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { formatRouterLinkOrg, formatRouterLinkService } from 'utils/formatRouterLink/formatRouter';\nimport style from './trend-detail.module.css'\nimport Skeleton from 'react-loading-skeleton';\nimport { ITrendComment, ITrendCommentChild } from './interface';\n\nfunction TrendsDetail({ id, onClose }: { id?: string, onClose?: () => void }) {\n    const params = useParams()\n    const trend_id = id ?? params?.id\n    const history = useHistory()\n    const trend: ITrend = useFetch(\n        trend_id,\n        `${API_3RD.API_NODE}/trends/${trend_id}`,\n        { 'include': 'services|tiktok' }\n    ).response?.context\n\n    const { resData, totalItem, isValidating } = useFetchInfinite(\n        trend_id,\n        `${API_3RD.API_NODE}/tiktok/getCommentsByUrl`,\n        { 'filter[trend]': trend_id }\n    )\n    const comments = resData ?? []\n\n    const onOrgDetail = () => history.push(formatRouterLinkOrg(trend?.organization_id))\n    const onBack = () => {\n        if (onClose) {\n            onClose()\n        } else {\n            history.goBack()\n        }\n    }\n\n    return (\n        trend ?\n            <div className={style.container} >\n                <XButton\n                    onClick={onBack}\n                    className={style.back_btn}\n                    icon={icon.backWhite}\n                    iconSize={24}\n                />\n                <div className={style.left}>\n                    <div className={style.video_container}>\n                        <video className={style.video_blur} src={`${trend.media_url}#t=0.001`}></video>\n                        <div className={style.video_wrapper}>\n                            <video\n                                className={style.video}\n                                loop\n                                controls\n                                webkit-playsinline=\"webkit-playsinline\"\n                                playsInline={true}\n                            >\n                                <source type='video/mp4' src={`${trend.media_url}#t=0.001`} />\n                            </video>\n                        </div>\n                    </div>\n                </div>\n                <div className={style.right}>\n                    <div className={style.right_top}>\n                        <div className={style.right_top_org}>\n                            <div onClick={onOrgDetail} className={style.org_detail}>\n                                <div className={style.org_detail_img}>\n                                    <img src={trend.organization_image} alt=\"\" />\n                                </div>\n                                <div className={style.org_detail_right}>\n                                    <p className={style.org_detail_name}>{trend.organization_name}</p>\n                                    <p className={style.time_late}>\n                                        {moment(trend.createdAt).locale(\"vi\").fromNow()}\n                                    </p>\n                                </div>\n                            </div>\n                            <XButton\n                                className={style.right_top_org_btn}\n                                title='Đang theo dõi'\n                            />\n                        </div>\n                        <div className={style.right_top_content}>\n                            <p className={style.title}>{trend.title}</p>\n                            <p className={style.content}>{trend.content}</p>\n                        </div>\n                        <div className={style.right_top_services}>\n                            {\n                                trend.services?.map(service => (\n                                    <Link\n                                        key={service.id}\n                                        to={{\n                                            pathname: formatRouterLinkService(\n                                                service.id,\n                                                trend.organization_id,\n                                                service.service_name\n                                            )\n                                        }}\n                                    >\n                                        <span className={style.service_link_text}>\n                                            #{service.service_name}\n                                        </span>\n                                    </Link>\n                                ))\n                            }\n                        </div>\n                        <div className={style.interactive}>\n                            <div className={style.interactive_item}>\n                                <XButton\n                                    iconSize={16}\n                                    className={style.interactive_icon_btn}\n                                    icon={icon.eyeBoldBlack}\n                                />\n                                <span className={style.interactive_item_text}>{trend?.tiktok?.play_count}</span>\n                            </div>\n                            <div className={style.interactive_item}>\n                                <XButton\n                                    iconSize={16}\n                                    className={style.interactive_icon_btn}\n                                    icon={icon.heartBoldBlack}\n                                />\n                                <span className={style.interactive_item_text}>{trend?.tiktok?.digg_count}</span>\n                            </div>\n                            <div className={style.interactive_item}>\n                                <XButton\n                                    iconSize={16}\n                                    className={style.interactive_icon_btn}\n                                    icon={icon.commentBoldBlack}\n                                />\n                                <span className={style.interactive_item_text}>{trend?.tiktok?.comment_count}</span>\n                            </div>\n                            <div className={style.interactive_item}>\n                                <XButton\n                                    iconSize={16}\n                                    className={style.interactive_icon_btn}\n                                    icon={icon.shareBoldBlack}\n                                />\n                                <span className={style.interactive_item_text}>{trend?.tiktok?.share_count}</span>\n                            </div>\n                        </div>\n                    </div>\n                    {totalItem === 1 && isValidating && <LoadComment />}\n                    {resData && <TrendsDetailComment comments={comments} />}\n                </div>\n            </div>\n            :\n            <></>\n    );\n}\n\nexport default TrendsDetail;\n\ninterface TrendsDetailCommentProps {\n    comments: ITrendComment[]\n}\n\nconst TrendsDetailComment = (props: TrendsDetailCommentProps) => {\n    const { comments } = props\n    return (\n        <>\n            <div\n                className={style.comment_container}\n            >\n                <ul className={style.comment_list}>\n                    {\n                        comments?.map((item: ITrendComment, index: number) => (\n                            <li key={index} className={style.comment_list_item}>\n                                <CommentItem comment={item} />\n                            </li>\n                        ))\n                    }\n                </ul>\n            </div>\n            {/* <div className={style.comment_input}>\n\n            </div> */}\n        </>\n    )\n}\nconst CommentItem = ({ comment }: { comment: ITrendComment }) => {\n    return (\n        <div className={style.comment_item_cnt}>\n            <div className={style.comment_item_par}>\n                <div className={style.comment_user_avatar}>\n                    <img src={comment.user?.avatar ?? icon.userCircle} alt=\"\" />\n                </div>\n                <div className={style.comment_item_par_right}>\n                    <div className={style.comment_item_box}>\n                        <p className={style.comment_text}>\n                            <span className={style.comment_user_name} >{comment.user?.fullname}</span>\n                            {comment.body}\n                        </p>\n                        <div className={style.comment_bot}>\n                            <span className={style.comment_bot_create}>\n                                {moment('2022-10-11 11:22:00').locale(\"vi\").fromNow()}\n                            </span>\n                            <span className={style.comment_bot_reply}>Reply</span>\n                        </div>\n                    </div>\n                    <ul className={style.comment_item_child}>\n                        {\n                            comment.children?.map((child: ITrendCommentChild, i: number) => (\n                                <li key={i} className={style.comment_item_child_item}>\n                                    <div className={style.comment_user_avatar}>\n                                        <img src={child.user?.avatar ?? icon.userCircle} alt=\"\" />\n                                    </div>\n                                    <div className={style.comment_item_par_right}>\n                                        <div\n                                            style={{ backgroundColor: \"#EAE9F5\" }}\n                                            className={style.comment_item_box}\n                                        >\n                                            <p className={style.comment_text}>\n                                                <span className={style.comment_user_name} >{child.user?.fullname}</span>\n                                                {child.body}\n                                            </p>\n                                            <div className={style.comment_bot}>\n                                                <span className={style.comment_bot_create}>\n                                                    {moment('2022-10-11 11:22:00').locale(\"vi\").fromNow()}\n                                                </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                            ))\n                        }\n                    </ul>\n                </div>\n            </div>\n        </div>\n    )\n}\nconst LoadComment = () => {\n    return (\n        <ul className={style.detail_comment_list}>\n            {\n                [1, 2, 3, 4].map(i => (\n                    <li key={i} className={style.load_item}>\n                        <div className={style.load_item_left}>\n                            <Skeleton width={'100%'} height={'100%'} style={{ borderRadius: \"100%\" }} />\n                        </div>\n                        <div className={style.load_item_right}>\n                            <Skeleton width={'100%'} height={'100%'} />\n                        </div>\n                    </li>\n                ))\n            }\n        </ul>\n    )\n}"],"names":["props","open","setOpen","_id","Dialog","fullScreen","TrendsDetail","id","onClose","response","useFetch","API_3RD","trends","context","data","playVideo","setPlayVideo","useState","Container","className","style","map","item","index","VideoItemThumb","history","useHistory","videoRef","useRef","itemRef","IS_MB","useDeviceMobile","onDetail","current","pause","push","onToggleVideo","isVisible","useElementOnScreen","root","rootMargin","threshold","useEffect","play","onMouseEnter","onClick","ref","icon","iconSize","formatRouterLinkOrg","organization_id","src","organization_image","alt","organization_name","moment","createdAt","fromNow","playsInline","type","media_url","tiktok","digg_count","comment_count","share_count","content","params","useParams","trend_id","trend","resData","totalItem","isValidating","useFetchInfinite","comments","goBack","loop","controls","locale","title","services","service","to","pathname","formatRouterLinkService","service_name","play_count","LoadComment","TrendsDetailComment","CommentItem","comment","user","avatar","fullname","body","children","child","i","backgroundColor","width","height","borderRadius"],"sourceRoot":""}