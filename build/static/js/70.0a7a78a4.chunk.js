"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[70],{97070:function(e,s,t){t.r(s),t.d(s,{default:function(){return p}});var a=t(84042),l=t(76012),i=t(72791),_=t(19598),c=t(91523),n=t(19073),o={container:"message_container__AxLpV",left:"message_left__k4A+R",left_head:"message_left_head__T--mk",left_head_top:"message_left_head_top__TNK6L",left_head_txt:"message_left_head_txt__MsKN9",left_head_bot:"message_left_head_bot__gwXBX",left_body:"message_left_body__xLWq0",topic:"message_topic__bGPa4",topic_left_img:"message_topic_left_img__s85aR",topic_left_online:"message_topic_left_online__7lGks",topic_right:"message_topic_right__B9HX4",topic_name:"message_topic_name__VZ3tS",topic_message:"message_topic_message__Cxfkf",right:"message_right__T+jke",left_ch:"message_left_ch__pIzTj",right_ch:"message_right_ch__Yr32q"},r=t(13557),d=t(14771),h=t(64060),m=t(47873),g=t(80184);var p=function(){const{USER:e}=(0,a.aC)(),[s]=(0,i.useState)(l.cE),t=(0,_.TH)().pathname.split("/")[2],{resData:c,onLoadMore:h,totalItem:p}=(0,a.H9)({API_URL:"topics",enable:e,params:s,dedupingInterval:0});return(0,g.jsxs)("div",{className:o.container,children:[(0,g.jsxs)("div",{className:t?`${o.left} ${o.left_ch}`:o.left,children:[(0,g.jsxs)("div",{className:o.left_head,children:[(0,g.jsxs)("div",{className:o.left_head_top,children:[(0,g.jsx)("span",{className:o.left_head_txt,children:"Chat"}),(0,g.jsx)("div",{className:o.left_head_ctl})]}),(0,g.jsxs)("div",{className:o.left_head_bot,children:[(0,g.jsx)("img",{src:r.Z.searchGray,alt:""}),(0,g.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm trong tin nh\u1eafn..."})]})]}),(0,g.jsx)("div",{className:o.left_body,children:(0,g.jsx)(d.Z,{hasMore:!0,height:"calc(100vh - 172px)",dataLength:c.length,loader:c.length<p&&(0,g.jsx)(n.a,{}),next:()=>{c.length<p&&h()},children:(0,g.jsx)("ul",{className:o.topic_list,children:c.map((e=>(0,g.jsx)("li",{className:o.topic_cnt,children:(0,g.jsx)(f,{item:e})},e._id)))})})})]}),(0,g.jsx)(_.rs,{children:(0,g.jsx)(m.Z,{children:(0,g.jsx)(_.AW,{path:"/messages/:_id",children:(0,g.jsx)("div",{style:{backgroundColor:"var(--white)"},className:t?`${o.right} ${o.right_ch}`:o.right,children:(0,g.jsx)(n.O,{})})})})})]})};const f=e=>{var s,t,a,l;let{item:i}=e;const n=(0,_.TH)();let r=i.name;var d;0!==(null===(s=i.name)||void 0===s?void 0:s.trim().length)&&i.name||(r=(0,h.Tw)(null===(d=i.topic_user)||void 0===d?void 0:d.map((e=>{var s;return null===(s=e.user)||void 0===s?void 0:s.fullname})).filter(Boolean)).join(", "));const m=n.pathname.split("/")[2];return(0,g.jsxs)(c.rU,{style:i._id===m?{backgroundColor:"var(--bg-color)"}:{},to:{pathname:`/messages/${i._id}`,state:i},className:o.topic,children:[(0,g.jsx)("div",{className:o.topic_left,children:(0,g.jsxs)("div",{className:o.topic_left_img,children:[(0,g.jsx)("img",{src:(null===(t=i.topic_user[0])||void 0===t||null===(a=t.user)||void 0===a?void 0:a.avatar)||"",onError:h.A_,alt:""}),(0,g.jsx)("span",{className:o.topic_left_online})]})}),(0,g.jsxs)("div",{className:o.topic_right,children:[(0,g.jsx)("span",{className:o.topic_name,children:r}),(0,g.jsxs)("div",{className:o.topic_message,children:[(0,g.jsx)("span",{children:null===(l=i.messages[0])||void 0===l?void 0:l.msg}),(0,g.jsx)("span",{children:(0,h.wh)(i.updated_at)})]})]})]})}}}]);
//# sourceMappingURL=70.0a7a78a4.chunk.js.map