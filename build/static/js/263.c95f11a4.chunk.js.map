{"version":3,"file":"static/js/263.c95f11a4.chunk.js","mappings":"wNACA,GAAgB,UAAY,+BAA+B,KAAO,0BAA0B,UAAY,+BAA+B,cAAgB,mCAAmC,iBAAmB,sCAAsC,WAAa,gCAAgC,UAAY,+BAA+B,SAAW,8BAA8B,YAAc,iCAAiC,gBAAkB,qCAAqC,YAAc,iCAAiC,gBAAkB,qCAAqC,QAAU,6BAA6B,YAAc,iCAAiC,iBAAmB,sCAAsC,kBAAoB,uCAAuC,oBAAsB,0C,kGC2IhyB,MA5HA,WAAuB,IAADA,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACpB,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,MACTC,GAAUC,EAAAA,EAAAA,OACV,KAAEC,EAAI,UAAEC,IAAcC,EAAAA,EAAAA,GAAS,CACnCC,SAAU,CAACC,EAAAA,GAAAA,MAAcR,GACzBS,QAASA,IAAMC,EAAAA,GAAAA,KAAaV,GAC5BW,UAASX,EACTY,QAASA,IAAMV,EAAQW,QAAQ,YAE3BC,EAAW,OAAJV,QAAI,IAAJA,OAAI,EAAJA,EAAMW,SACb,WAAEC,EAAU,iBAAEC,IAAqBC,EAAAA,EAAAA,IAAY,CACnDlB,GAAQ,OAAJc,QAAI,IAAJA,OAAI,EAAJA,EAAMd,GACVmB,QAAY,OAAJL,QAAI,IAAJA,OAAI,EAAJA,EAAMM,kBAAmB,EACjCC,KAAM,OACNC,OAAW,OAAJR,QAAI,IAAJA,OAAI,EAAJA,EAAMS,iBAAkB,EAC/BC,UAAc,OAAJV,QAAI,IAAJA,OAAI,EAAJA,EAAMW,eAAe,IAYjC,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CAACC,MAAO,uBAClBL,EAAAA,EAAAA,MAACM,EAAAA,EAAS,CAAAJ,SAAA,CACPvB,IACCwB,EAAAA,EAAAA,KAAA,OACEI,UAAWC,EAAAA,UACXA,MAAO,CAAEC,QAAS,MAAOC,UAAW,QAASR,UAE7CC,EAAAA,EAAAA,KAACQ,EAAAA,GAAW,OAGhBX,EAAAA,EAAAA,MAAA,OAAKO,UAAWC,EAAAA,UAAgBN,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,OAAKO,UAAWC,EAAAA,KAAWN,SAAA,EACzBF,EAAAA,EAAAA,MAAA,OAAKO,UAAWC,EAAAA,UAAgBN,SAAA,EAC9BC,EAAAA,EAAAA,KAACS,EAAAA,GAAO,CACNC,QAASA,IAAMrC,EAAQsC,SACvBP,UAAWC,EAAAA,cACXO,KAAMA,EAAAA,EAAAA,YACNC,SAAU,MAEZb,EAAAA,EAAAA,KAAA,OAAKI,UAAWC,EAAAA,iBAAuBN,UACrCC,EAAAA,EAAAA,KAAA,OACEc,IACM,OAAJ7B,QAAI,IAAJA,GAAAA,EAAM8B,KAAKC,OACH,OAAJ/B,QAAI,IAAJA,OAAI,EAAJA,EAAM8B,KAAKC,OACP,OAAJ/B,QAAI,IAAJA,GAAkB,QAAdrB,EAAJqB,EAAMgC,oBAAY,IAAArD,OAAd,EAAJA,EAAoBsD,UAE1BC,IAAI,WAIVtB,EAAAA,EAAAA,MAAA,OAAKO,UAAWC,EAAAA,WAAiBN,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,KAAGI,UAAWC,EAAAA,UAAgBN,SACvB,OAAJd,QAAI,IAAJA,GAAAA,EAAM8B,KAAW,OAAJ9B,QAAI,IAAJA,GAAU,QAANpB,EAAJoB,EAAM8B,YAAI,IAAAlD,OAAN,EAAJA,EAAYuD,SAAe,OAAJnC,QAAI,IAAJA,GAAkB,QAAdnB,EAAJmB,EAAMgC,oBAAY,IAAAnD,OAAd,EAAJA,EAAoBuD,QAE3DxB,EAAAA,EAAAA,MAAA,OAAKO,UAAWC,EAAAA,kBAAwBN,SAAA,CACd,QAAnB,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMgC,gBACLpB,EAAAA,EAAAA,MAAA,OACEa,QAAUY,GAjDNC,EACpBD,EACAnD,UAEWqD,IAAPrD,IACFE,EAAQoD,MAAKC,EAAAA,EAAAA,IAAoBvD,IACjCmD,EAAEK,iBACFL,EAAEM,kBACJ,EAyCgCL,CAAcD,EAAO,OAAJrC,QAAI,IAAJA,OAAI,EAAJA,EAAMM,iBACvCa,UAAWC,EAAAA,oBAA0BN,SAAA,EAErCC,EAAAA,EAAAA,KAAA,OACEjB,QAAUuC,IAAMO,EAAAA,EAAAA,IAAWP,GAC3BlB,UAAWC,EAAAA,YACXS,IAAS,OAAJ7B,QAAI,IAAJA,GAAkB,QAAdlB,EAAJkB,EAAMgC,oBAAY,IAAAlD,OAAd,EAAJA,EAAoBmD,UACzBC,IAAI,MAENnB,EAAAA,EAAAA,KAAA,QAAMI,UAAWC,EAAAA,SAAeN,SACzB,OAAJd,QAAI,IAAJA,GAAkB,QAAdjB,EAAJiB,EAAMgC,oBAAY,IAAAjD,OAAd,EAAJA,EAAoBqD,WAI3BrB,EAAAA,EAAAA,KAAA,KAAGI,UAAWC,EAAAA,YAAkBN,UAC7B+B,EAAAA,EAAAA,IAAkC,QAAjB7D,EAAK,OAAJgB,QAAI,IAAJA,OAAI,EAAJA,EAAM8C,kBAAU,IAAA9D,EAAAA,EAAI,gBAK/C+B,EAAAA,EAAAA,KAAA,OAAKI,UAAWC,EAAAA,QAAcN,SAAM,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAM+C,WACtChC,EAAAA,EAAAA,KAAA,OAAKI,UAAWC,EAAAA,YAAkBN,UAC3B,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMgD,aAAiB,OAAJhD,QAAI,IAAJA,GAAe,QAAXf,EAAJe,EAAMgD,iBAAS,IAAA/D,OAAX,EAAJA,EAAiBgE,QAAS,IAC5ClC,EAAAA,EAAAA,KAACmC,EAAAA,GAAM,CAACC,OAAQnD,EAAKgD,WAAa,QAGtCpC,EAAAA,EAAAA,MAAA,OAAKO,UAAWC,EAAAA,YAAkBN,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKO,UAAWC,EAAAA,iBAAuBN,SAAA,EACrCC,EAAAA,EAAAA,KAACS,EAAAA,GAAO,CACNC,QAASA,IAAMtB,IACfyB,SAAU,GACVD,KACEzB,EAAWS,YAAcgB,EAAAA,EAAAA,cAAqBA,EAAAA,EAAAA,WAGlDZ,EAAAA,EAAAA,KAAA,QAAAD,SAAiB,OAAVZ,QAAU,IAAVA,OAAU,EAAVA,EAAYO,qBAErBG,EAAAA,EAAAA,MAAA,OAAKO,UAAWC,EAAAA,iBAAuBN,SAAA,EACrCC,EAAAA,EAAAA,KAACS,EAAAA,GAAO,CAACI,SAAU,GAAID,KAAMA,EAAAA,EAAAA,cAC7BZ,EAAAA,EAAAA,KAAA,QAAAD,SAAW,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMoD,uBAIjBrC,EAAAA,EAAAA,KAAA,OAAKI,UAAWC,EAAAA,oBAA0BN,SACvCd,IACCe,EAAAA,EAAAA,KAACsC,EAAAA,EAAO,CACNC,iBAAiB,OACjBC,eAAoB,OAAJvD,QAAI,IAAJA,OAAI,EAAJA,EAAMd,eAStC,C","sources":["webpack://web-booking/./src/pages/Community/pages/PostDetail/post-detail.module.css?29fa","pages/Community/pages/PostDetail/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"post-detail_container__89kTt\",\"head\":\"post-detail_head__0+aKK\",\"head_left\":\"post-detail_head_left__-GYR6\",\"head_left_btn\":\"post-detail_head_left_btn__iQrfc\",\"head_left_avatar\":\"post-detail_head_left_avatar__YTZT1\",\"head_right\":\"post-detail_head_right__mNzTp\",\"user_name\":\"post-detail_user_name__5Q1Gl\",\"org_name\":\"post-detail_org_name__B7jeb\",\"created_add\":\"post-detail_created_add__dcFYr\",\"post_group_cate\":\"post-detail_post_group_cate__dtlYr\",\"user_avatar\":\"post-detail_user_avatar__wfKoG\",\"post_group_name\":\"post-detail_post_group_name__-vnW1\",\"content\":\"post-detail_content__oSfxG\",\"interactive\":\"post-detail_interactive__DUDAo\",\"interactive_item\":\"post-detail_interactive_item__uEfiH\",\"post_item_head_de\":\"post-detail_post_item_head_de__Jub2q\",\"post_item_head_user\":\"post-detail_post_item_head_user__+it3N\"};","/* eslint-disable react-hooks/exhaustive-deps */\nimport { Container } from \"@mui/system\";\nimport { XButton } from \"components/Layout\";\nimport icon from \"constants/icon\";\nimport HeadTitle from \"features/HeadTitle\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport style from \"./post-detail.module.css\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { QR_KEY } from \"config\";\nimport { postApi } from \"api\";\nimport { formatDateFromNow, onErrorImg } from \"utils\";\nimport { Images, PostLoading } from \"pages/Community/components\";\nimport Comment from \"components/Comment\";\nimport { useFavorite } from \"hooks\";\nimport { formatRouterLinkOrg } from \"utils/formatRouterLink/formatRouter\";\n\nfunction PostDetail() {\n  const { id } = useParams() as any;\n  const history = useHistory();\n  const { data, isLoading } = useQuery({\n    queryKey: [QR_KEY.POSTS, id],\n    queryFn: () => postApi.post(id),\n    enabled: id ? true : false,\n    onError: () => history.replace(\"/error\"),\n  });\n  const post = data?.context;\n  const { favoriteSt, onToggleFavorite } = useFavorite({\n    id: post?.id,\n    org_id: post?.organization_id || 0,\n    type: 'POST',\n    count: post?.favorite_count || 0,\n    favorite: post?.is_favorite || false\n  })\n  const handleGotoORG = (\n    e: React.MouseEvent<HTMLDivElement>,\n    id?: number\n  ) => {\n    if (id !== undefined) {\n      history.push(formatRouterLinkOrg(id));\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n  return (\n    <>\n      <HeadTitle title={\"post?.group?.name\"} />\n      <Container>\n        {isLoading && (\n          <div\n            className={style.container}\n            style={{ padding: \"0px\", boxShadow: \"none\" }}\n          >\n            <PostLoading />\n          </div>\n        )}\n        <div className={style.container}>\n          <div className={style.head}>\n            <div className={style.head_left}>\n              <XButton\n                onClick={() => history.goBack()}\n                className={style.head_left_btn}\n                icon={icon.chevronLeft}\n                iconSize={28}\n              />\n              <div className={style.head_left_avatar}>\n                <img\n                  src={\n                    post?.user.avatar\n                      ? post?.user.avatar\n                      : post?.organization?.image_url\n                  }\n                  alt=\"\"\n                />\n              </div>\n            </div>\n            <div className={style.head_right}>\n              <p className={style.user_name}>\n                {post?.user ? post?.user?.fullname : post?.organization?.name}\n              </p>\n              <div className={style.post_item_head_de}>\n                {post?.organization !== null && (\n                  <div\n                    onClick={(e) => handleGotoORG(e, post?.organization_id)}\n                    className={style.post_item_head_user}\n                  >\n                    <img\n                      onError={(e) => onErrorImg(e)}\n                      className={style.user_avatar}\n                      src={post?.organization?.image_url}\n                      alt=\"\"\n                    />\n                    <span className={style.org_name}>\n                      {post?.organization?.name}\n                    </span>\n                  </div>\n                )}\n                <p className={style.created_add}>\n                  {formatDateFromNow(post?.created_at ?? \"\")}\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className={style.content}>{post?.content}</div>\n          <div className={style.images_cont}>\n            {post?.media_url && post?.media_url?.length > 0 && (\n              <Images images={post.media_url || []} />\n            )}\n          </div>\n          <div className={style.interactive}>\n            <div className={style.interactive_item}>\n              <XButton\n                onClick={() => onToggleFavorite()}\n                iconSize={28}\n                icon={\n                  favoriteSt.is_favorite ? icon.thumbUpPurple : icon.thumbUp\n                }\n              />\n              <span>{favoriteSt?.favorite_count}</span>\n            </div>\n            <div className={style.interactive_item}>\n              <XButton iconSize={28} icon={icon.chatSquare} />\n              <span>{post?.comment_count}</span>\n            </div>\n          </div>\n\n          <div className={style.post_detail_comment}>\n            {post && (\n              <Comment\n                commentable_type=\"POST\"\n                commentable_id={post?.id}\n                // org_id={post?.organization_id}\n              />\n            )}\n          </div>\n        </div>\n      </Container>\n    </>\n  );\n}\n\nexport default PostDetail;\n"],"names":["_post$organization","_post$user","_post$organization2","_post$organization3","_post$organization4","_post$created_at","_post$media_url","id","useParams","history","useHistory","data","isLoading","useQuery","queryKey","QR_KEY","queryFn","postApi","enabled","onError","replace","post","context","favoriteSt","onToggleFavorite","useFavorite","org_id","organization_id","type","count","favorite_count","favorite","is_favorite","_jsxs","_Fragment","children","_jsx","HeadTitle","title","Container","className","style","padding","boxShadow","PostLoading","XButton","onClick","goBack","icon","iconSize","src","user","avatar","organization","image_url","alt","fullname","name","e","handleGotoORG","undefined","push","formatRouterLinkOrg","preventDefault","stopPropagation","onErrorImg","formatDateFromNow","created_at","content","media_url","length","Images","images","comment_count","Comment","commentable_type","commentable_id"],"sourceRoot":""}