"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[479],{94399:function(e,i,t){t.d(i,{rU:function(){return d},Vp:function(){return T},YS:function(){return m}});var n=t(8477),a=t(6652),s=t(91523),o={post_item:"com-cpn_post_item__D1cxn",post_item_head:"com-cpn_post_item_head__U7ryy",post_item_head_group:"com-cpn_post_item_head_group__aAOZH",post_item_head_cnt:"com-cpn_post_item_head_cnt__KYlCQ",post_item_group_name:"com-cpn_post_item_group_name__S0RPq",post_item_head_de:"com-cpn_post_item_head_de__ja0EQ",post_item_head_user:"com-cpn_post_item_head_user__pGrHN",user_avatar:"com-cpn_user_avatar__vxMQM",user_name:"com-cpn_user_name__M1UHR",post_create_at:"com-cpn_post_create_at__p3zzB",post_group_cate:"com-cpn_post_group_cate__ZoOxN",post_item_content:"com-cpn_post_item_content__VqCbm",post_item_interactive:"com-cpn_post_item_interactive__C9yQ5",interactive_item:"com-cpn_interactive_item__KMRgz",post_inp_cnt:"com-cpn_post_inp_cnt__8FJzH",post_inp_head:"com-cpn_post_inp_head__5pFxe",post_inp_head_user:"com-cpn_post_inp_head_user__2e338",post_inp_head_btn:"com-cpn_post_inp_head_btn__HPjyl",images_cnt:"com-cpn_images_cnt__ln3Au",parent_1:"com-cpn_parent_1__BR30g",parent_2:"com-cpn_parent_2__huMWE",parent_3:"com-cpn_parent_3__6zuEv",parent_4:"com-cpn_parent_4__OqZh9",parent_5:"com-cpn_parent_5__ZguZN",image_more:"com-cpn_image_more__0vD3q",img_item:"com-cpn_img_item__24a0i",form_post_cnt:"com-cpn_form_post_cnt__lsyh3",form_media_list_item:"com-cpn_form_media_list_item__hloxE"},l=t(64060),_=t(72791),c=t(80184);const d=e=>{let{images:i}=e;const[t,a]=(0,_.useState)(!1),[s,l]=(0,_.useState)(0);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:o.images_cnt,children:(0,c.jsx)("div",{className:(()=>{let e=o.parent_5;switch(i.length){case 1:e=o.parent_1;break;case 2:e=o.parent_2;break;case 3:e=o.parent_3;break;case 4:e=o.parent_4}return e})(),children:i.slice(0,5).map(((e,t)=>(0,c.jsxs)("div",{onClick:()=>(l(t),void a(!0)),style:{cursor:"pointer"},children:[(0,c.jsx)("img",{className:o.img_item,src:e,alt:""}),4===t&&i.length>5&&(0,c.jsxs)("div",{className:o.image_more,children:["+",i.length-5]})]},t)))})}),(0,c.jsx)(n.OK,{open:t,setOpen:a,src:i,index:s})]})};var r=t(84042);const m=e=>{var i,t;let{post:_}=e;const{favoriteSt:m,onToggleFavorite:p}=(0,r.s4)({id:_.id,org_id:_.organization_id,type:"POST",count:_.comment_count,favorite:_.is_favorite});return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:o.post_item,children:[(0,c.jsxs)("div",{className:o.post_item_head,children:[(0,c.jsx)("div",{className:o.post_item_head_group}),(0,c.jsxs)("div",{className:o.post_item_head_cnt,children:[(0,c.jsx)("p",{className:o.post_item_group_name,children:null===(i=_.user)||void 0===i?void 0:i.fullname}),(0,c.jsxs)("div",{className:o.post_item_head_de,children:[(0,c.jsxs)("div",{className:o.post_item_head_user,children:[(0,c.jsx)("img",{className:o.user_avatar,src:_.user.avatar,alt:""}),(0,c.jsx)("span",{className:o.user_name,children:_.user.fullname})]}),(0,c.jsx)("span",{className:o.post_create_at,children:(0,l.wh)(_.created_at)})]})]})]}),(0,c.jsxs)("div",{className:o.post_item_content,children:[_.content,"...",(0,c.jsx)(s.rU,{to:{pathname:`/bai-viet/${_.id}`},children:"xem th\xeam"})]}),(0,c.jsx)("div",{className:o.post_item_img_cnt,children:(null===(t=_.media_url)||void 0===t?void 0:t.length)>0&&(0,c.jsx)(d,{images:_.media_url})}),(0,c.jsxs)("div",{className:o.post_item_interactive,children:[(0,c.jsxs)("div",{className:o.interactive_item,children:[(0,c.jsx)(n.Rb,{onClick:p,iconSize:28,icon:m.is_favorite?a.Z.thumbUpPurple:a.Z.thumbUp}),(0,c.jsx)("span",{children:m.favorite_count})]}),(0,c.jsxs)("div",{className:o.interactive_item,children:[(0,c.jsx)(n.Rb,{iconSize:28,icon:a.Z.chatSquare}),(0,c.jsx)("span",{children:_.comment_count})]})]})]})})};var p=t(12978),u=t(19598),h=t(29818),v=t(60220),x=t(36520),j=t(81918),g=t(13239),b={container:"input_container__Ku2lv",user:"input_user__wOf8O",user_fullname:"input_user_fullname__b4Qh9",form:"input_form__QrPNp",text_area:"input_text_area__OA3xX",section:"input_section__xOcFh",title:"input_title__rEXLh",control:"input_control__tgUCN",control_btn:"input_control_btn__fVgsf",images_list:"input_images_list__la26j",image_item:"input_image_item__IWrqI",image:"input_image__+bx8m",image_load:"input_image_load__yrWpM",form_bottom:"input_form_bottom__lsTIL",form_bottom_btn:"input_form_bottom_btn__y7lPx",form_bottom_btn_load:"input_form_bottom_btn_load__TlCaa",header:"input_header__QYV5M",body:"input_body__CGNzr",body_input:"input_body_input__3aVCK",finish_btn:"input_finish_btn__B0QsZ",body_list:"input_body_list__3x+Lf",org_name:"input_org_name__LXNc4"},N=t(3444),f=t(65553),y=t(54864),Z=t(98402),C=t(81724),S=t(65223),k=t(73418),z=t(76951),F=t(763);const R=e=>{var i,t;let{value:s,onChange:o=(()=>{}),open:l=!1,setOpen:d=(()=>{})}=e;const m=(0,r.oG)(),{mutate:p,isLoading:u,data:x}=(0,k.D)({mutationFn:e=>z.RX.getAll({keyword:e}).then((e=>e.data))}),j=(0,_.useCallback)((0,F.debounce)((e=>p(e)),400),[]);return(0,c.jsx)(h.Z,{fullScreen:m,open:l,children:(0,c.jsxs)("div",{className:b.container,children:[(0,c.jsxs)("div",{className:b.header,children:[(0,c.jsx)(n.Rb,{onClick:()=>d(!1),icon:a.Z.chevronLeft}),(0,c.jsx)("span",{children:"G\u1eafn th\u1ebb doanh nghi\u1ec7p"}),(0,c.jsx)("div",{})]}),(0,c.jsxs)("div",{className:b.body,children:[(0,c.jsxs)("div",{className:b.body_input,children:[(0,c.jsx)("input",{autoFocus:!0,onFocus:()=>p(""),onChange:e=>j(e.target.value),type:"text",placeholder:(null===s||void 0===s?void 0:s.name)||"T\xecm ki\u1ebfm doanh nghi\u1ec7p..."}),u&&(0,c.jsx)(g.Z,{size:16}),(0,c.jsx)(n.Rb,{onClick:()=>d(!1),className:b.finish_btn,children:"Xong"})]}),(0,c.jsx)("div",{className:b.body_list,children:null===x||void 0===x||null===(i=x.context)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.map((e=>{var i;return(0,c.jsxs)(S.Z,{selected:(null===s||void 0===s?void 0:s.id)===e.id,onClick:()=>o(e),children:[(0,c.jsx)(v.Z,{alt:e.name,src:null!==(i=e.image_url)&&void 0!==i?i:Z.ZP.beautyx}),(0,c.jsx)("span",{className:b.org_name,children:e.name})]},e.id)}))})]})]})})},O=e=>{let{open:i=!1,setOpen:t=(()=>{}),value:s=null,onChange:o=(()=>{})}=e;const{tags:l}=(0,r.e0)(),_=(0,r.oG)();return(0,c.jsx)(h.Z,{fullScreen:_,open:i,children:(0,c.jsxs)("div",{className:b.container,children:[(0,c.jsxs)("div",{className:b.header,children:[(0,c.jsx)(n.Rb,{onClick:()=>t(!1),icon:a.Z.chevronLeft}),(0,c.jsx)("span",{children:"G\u1eafn tag"}),(0,c.jsx)("div",{})]}),(0,c.jsx)("div",{className:b.body,children:(0,c.jsx)("div",{className:b.body_list,children:l.map((e=>(0,c.jsx)(S.Z,{selected:(null===s||void 0===s?void 0:s.id)===e.id,onClick:()=>o(e),children:(0,c.jsx)("span",{className:b.org_name,children:e.name})},e.id)))})})]})})},U=e=>{var i,t,s,o,d;let{open:m=!1,setOpen:u=(()=>!1)}=e;const S=(0,r.oG)(),{USER:F}=(0,p.v9)((e=>e.USER)),{noti:U,resultLoad:T,onCloseNoti:w}=(0,r.D3)(),{handlePostMedia:G}=(0,r.zX)(),[P,V]=(0,_.useState)(!1),[E,D]=(0,_.useState)(!1),{mutate:q,isLoading:L}=(0,k.D)({mutationFn:e=>z.Fv.createPost(e),onSuccess:()=>{T("\u0110\u0103ng b\xe0i th\xe0nh c\xf4ng!"),setTimeout((()=>u(!1)),1e3)},onError:()=>T("C\xf3 l\u1ed7i x\u1ea3y ra !")}),Q=(0,y.TA)({initialValues:{content:"",media_ids:[],organization:null,tag:null},validationSchema:C.Ry({content:C.Z_().required(),organization:C.Ry().shape({}),tag:C.Ry().shape({})}),onSubmit:e=>{var i,t;q({content:e.content.replace(l.mn,""),status:1,media_ids:e.media_ids.map((e=>e.model_id)),organization_id:(null===(i=e.organization)||void 0===i?void 0:i.id)||0,tag_id:null===(t=e.tag)||void 0===t?void 0:t.id})}});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.uD,{open:U.openAlert,onClose:w,title:U.message}),(0,c.jsx)(h.Z,{fullScreen:S,open:m,onClose:()=>u(!1),children:(0,c.jsxs)("div",{className:b.container,children:[S&&(0,c.jsx)(N.Z,{title:"T\u1ea1o b\xe0i vi\u1ebft",onBackFunc:()=>u(!1)}),(0,c.jsxs)("div",{className:b.user,children:[(0,c.jsx)(v.Z,{src:null===F||void 0===F?void 0:F.avatar}),(0,c.jsx)("span",{className:b.user_fullname,children:null===F||void 0===F?void 0:F.fullname})]}),(0,c.jsxs)("form",{className:b.form,autoComplete:"off",onSubmit:Q.handleSubmit,children:[(0,c.jsx)("textarea",{onChange:Q.handleChange,value:Q.values.content,name:"content",autoFocus:!0,className:b.text_area,placeholder:"Vi\u1ebft b\xe0i..."}),(0,c.jsxs)("div",{className:b.control,children:[(0,c.jsx)(x.Z,{title:"\u1ea2nh/video",placement:"top",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{onChange:e=>{G({e:e,callBack:e=>{const{media_ids:i}=Q.values;Q.setFieldValue("media_ids",[...e,...i])}})},type:"file",hidden:!0,accept:f.$m,multiple:!0,id:"file"}),(0,c.jsx)("label",{className:b.control_btn,htmlFor:"file",children:(0,c.jsx)("img",{style:{width:"20px",height:"20px"},src:a.Z.addImg,alt:""})})]})}),(0,c.jsx)(x.Z,{title:"G\u1eafn th\u1ebb doanh nghi\u1ec7p",placement:"top",children:(0,c.jsx)("div",{children:(0,c.jsx)(n.Rb,{iconSize:20,onClick:()=>V(!0),type:"button",className:b.control_btn,icon:a.Z.addBtn})})}),(0,c.jsx)(x.Z,{title:"G\u1eafn tag",placement:"top",children:(0,c.jsx)("div",{children:(0,c.jsx)(n.Rb,{iconSize:20,onClick:()=>D(!0),type:"button",className:b.control_btn,icon:a.Z.tag})})})]}),(0,c.jsx)(R,{open:P,setOpen:V,value:Q.values.organization,onChange:e=>Q.setFieldValue("organization",e)}),(0,c.jsx)(O,{open:E,setOpen:D,value:Q.values.tag,onChange:e=>Q.setFieldValue("tag",e)}),(null===(i=Q.values)||void 0===i?void 0:i.organization)&&(0,c.jsx)("div",{className:b.section,children:(0,c.jsxs)("div",{className:b.organization,children:[(0,c.jsx)("p",{className:b.title,children:"Doanh nghi\u1ec7p"}),(0,c.jsx)(j.Z,{onDelete:()=>Q.setFieldValue("organization",null),style:{backgroundColor:"var(--purple)",color:"var(--white)"},avatar:(0,c.jsx)(v.Z,{src:null!==(t=null===(s=Q.values.organization)||void 0===s?void 0:s.image_url)&&void 0!==t?t:Z.ZP.beautyx}),label:null===(o=Q.values.organization)||void 0===o?void 0:o.name})]})}),Q.values.tag&&(0,c.jsx)("div",{className:b.section,children:(0,c.jsxs)("div",{className:b.organization,children:[(0,c.jsx)("p",{className:b.title,children:"Tag"}),(0,c.jsx)(j.Z,{onDelete:()=>Q.setFieldValue("tag",null),style:{backgroundColor:"var(--purple)",color:"var(--white)"},label:null===(d=Q.values.tag)||void 0===d?void 0:d.name})]})}),Q.values.media_ids.length>0&&(0,c.jsxs)("div",{className:b.section,children:[(0,c.jsx)("p",{className:b.title,children:"\u1ea2nh/video"}),(0,c.jsx)("div",{className:b.images_list,children:Q.values.media_ids.map((e=>(0,c.jsxs)("div",{className:b.image_item,children:[(0,l.ot)(e.model_type)?(0,c.jsx)("img",{className:b.image,src:e.original_url,alt:""}):(0,c.jsx)("video",{"webkit-playsinline":"webkit-playsinline",playsInline:!0,controls:!0,className:b.image,children:(0,c.jsx)("source",{src:e.original_url})}),e.model_id>0?(0,c.jsx)(n.Rb,{onClick:()=>{return i=e.model_id,void Q.setFieldValue("media_ids",Q.values.media_ids.filter((e=>e.model_id!==i)));var i},type:"button",iconSize:20,icon:a.Z.closeCircle}):(0,c.jsx)("div",{className:b.image_load,children:(0,c.jsx)(g.Z,{size:24})})]},e.model_id)))})]}),(0,c.jsx)("button",{id:"btn_submit",type:"submit",hidden:!0,children:"Submit"})]}),(0,c.jsxs)("div",{className:b.form_bottom,children:[(0,c.jsx)("label",{htmlFor:"btn_submit",className:b.form_bottom_btn,children:"\u0110\u0103ng b\xe0i vi\u1ebft"}),L&&(0,c.jsx)("div",{className:b.form_bottom_btn_load,children:(0,c.jsx)(g.Z,{size:20})})]})]})})]})};function T(e){var i;let{group:t}=e;const n=(0,u.k6)(),[s,l]=(0,_.useState)(!1),{USER:d}=(0,p.v9)((e=>e.USER));return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:o.post_inp_cnt,children:(0,c.jsxs)("div",{className:o.post_inp_head,children:[(0,c.jsx)("div",{className:o.post_inp_head_user,children:(0,c.jsx)("img",{src:null!==(i=null===d||void 0===d?void 0:d.avatar)&&void 0!==i?i:a.Z.Avatar,alt:""})}),(0,c.jsx)("div",{onClick:()=>{if(!d)return n.push("/sign-in?1");l(!0)},className:o.post_inp_head_btn,children:(0,c.jsx)("p",{children:"B\u1ea1n vi\u1ebft g\xec \u0111i..."})})]})}),d&&(0,c.jsx)(U,{open:s,setOpen:l})]})}},79479:function(e,i,t){t.r(i),t.d(i,{default:function(){return v}});var n=t(56598),a=t(8477),s=t(6652),o=t(34088),l=t(19598),_={container:"post-detail_container__89kTt",head:"post-detail_head__0+aKK",head_left:"post-detail_head_left__-GYR6",head_left_btn:"post-detail_head_left_btn__iQrfc",head_left_avatar:"post-detail_head_left_avatar__YTZT1",head_right:"post-detail_head_right__mNzTp",user_name:"post-detail_user_name__5Q1Gl",post_group_name:"post-detail_post_group_name__-vnW1",created_add:"post-detail_created_add__dcFYr",content:"post-detail_content__oSfxG",interactive:"post-detail_interactive__DUDAo",interactive_item:"post-detail_interactive_item__uEfiH"},c=t(85439),d=t(83017),r=t(76951),m=t(64060),p=t(94399),u=t(59787),h=t(80184);var v=function(){var e,i,t,v;const{id:x}=(0,l.UO)(),j=(0,l.k6)(),{data:g}=(0,c.a)({queryKey:[d.xG.POSTS,x],queryFn:()=>r.Fv.post(x),enabled:!!x,onError:()=>j.replace("/error")}),b=null===g||void 0===g?void 0:g.context;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.Z,{title:"post?.group?.name"}),(0,h.jsx)(n.Z,{children:(0,h.jsxs)("div",{className:_.container,children:[(0,h.jsxs)("div",{className:_.head,children:[(0,h.jsxs)("div",{className:_.head_left,children:[(0,h.jsx)(a.Rb,{onClick:()=>j.goBack(),className:_.head_left_btn,icon:s.Z.chevronLeft,iconSize:28}),(0,h.jsx)("div",{className:_.head_left_avatar,children:(0,h.jsx)("img",{src:null===b||void 0===b||null===(e=b.user)||void 0===e?void 0:e.avatar,alt:""})})]}),(0,h.jsxs)("div",{className:_.head_right,children:[(0,h.jsx)("p",{className:_.user_name,children:null===b||void 0===b||null===(i=b.user)||void 0===i?void 0:i.fullname}),(0,h.jsx)("p",{className:_.created_add,children:(0,m.wh)(null!==(t=null===b||void 0===b?void 0:b.created_at)&&void 0!==t?t:"")})]})]}),(0,h.jsx)("div",{className:_.content,children:null===b||void 0===b?void 0:b.content}),(0,h.jsx)("div",{className:_.images_cont,children:(null===b||void 0===b?void 0:b.media_url)&&(null===b||void 0===b||null===(v=b.media_url)||void 0===v?void 0:v.length)>0&&(0,h.jsx)(p.rU,{images:b.media_url})}),(0,h.jsxs)("div",{className:_.interactive,children:[(0,h.jsxs)("div",{className:_.interactive_item,children:[(0,h.jsx)(a.Rb,{iconSize:28,icon:null!==b&&void 0!==b&&b.is_favorite?s.Z.thumbUpPurple:s.Z.thumbUp}),(0,h.jsx)("span",{children:null===b||void 0===b?void 0:b.favorite_count})]}),(0,h.jsxs)("div",{className:_.interactive_item,children:[(0,h.jsx)(a.Rb,{iconSize:28,icon:s.Z.chatSquare}),(0,h.jsx)("span",{children:null===b||void 0===b?void 0:b.comment_count})]})]}),(0,h.jsx)("div",{className:_.post_detail_comment,children:b&&(0,h.jsx)(u.Z,{commentable_type:"POST",commentable_id:null===b||void 0===b?void 0:b.id,org_id:null===b||void 0===b?void 0:b.organization_id})})]})})]})}}}]);
//# sourceMappingURL=479.60acc100.chunk.js.map