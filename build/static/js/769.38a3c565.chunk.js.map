{"version":3,"file":"static/js/769.38a3c565.chunk.js","mappings":"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","sources":["webpack://web-booking/./src/pages/Trends/trends.module.css?6c50","pages/Trends/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container_large\":\"trends_container_large__B3usY\",\"trend_list\":\"trends_trend_list__b0stv\",\"video_item_cnt\":\"trends_video_item_cnt__Y04IM\",\"trend_list_video_thumb\":\"trends_trend_list_video_thumb__fiLD0\",\"trend_item_head\":\"trends_trend_item_head__bhL+j\",\"trend_item_center\":\"trends_trend_item_center__LyHmS\",\"trend_item_body\":\"trends_trend_item_body__pIhpM\",\"trend_item_video_thumb\":\"trends_trend_item_video_thumb__QZNby\",\"trend_item_bot_ex\":\"trends_trend_item_bot_ex__3tgm-\",\"trend_item_desc\":\"trends_trend_item_desc__kPdxa\",\"trend_item_bot_org\":\"trends_trend_item_bot_org__Alayd\",\"trend_item_bot_org_img\":\"trends_trend_item_bot_org_img__XSgoS\",\"trend_item_bot_org_name\":\"trends_trend_item_bot_org_name__FHDqR\",\"trend_item_head_org\":\"trends_trend_item_head_org__j14Ob\",\"trend_item_head_name\":\"trends_trend_item_head_name__RXuqV\",\"org_name\":\"trends_org_name__0zme9\",\"create_at\":\"trends_create_at__TG4lF\",\"trend_item_bot\":\"trends_trend_item_bot__GH2bq\",\"item_ex\":\"trends_item_ex__Jx-cl\",\"item_ex_icon\":\"trends_item_ex_icon__zyDMA\",\"item_ex_text\":\"trends_item_ex_text__FYVm1\"};","/* eslint-disable react-hooks/exhaustive-deps */\nimport API_3RD from \"api/3rd-api\";\nimport React, { useRef, useState } from \"react\";\nimport { useDeviceMobile, useElementOnScreen, useFetch } from \"hooks\";\nimport { ITrend } from \"./trend.interface\";\nimport { Container } from \"@mui/system\";\nimport style from \"./trends.module.css\";\nimport dayjs from \"dayjs\";\n// import locate from 'dayjs/locale/vi'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport icon from \"constants/icon\";\nimport { useHistory } from \"react-router-dom\";\nimport { formatRouterLinkOrg } from \"utils/formatRouterLink/formatRouter\";\nimport TrendDetailDia from \"./TrendDetailDia\";\nimport ReactPlayer from \"react-player/lazy\";\nimport HeadMobile from \"features/HeadMobile\";\ndayjs.extend(relativeTime)\n\nfunction Trends() {\n    const history = useHistory()\n    const IS_MB = useDeviceMobile()\n    const { response } = useFetch(\n        true,\n        `${API_3RD.API_NODE}/trends`,\n        {\n            'limit': '20',\n            'include': 'services|tiktok'\n        }\n    );\n\n    const trends: ITrend[] = response?.context?.data ?? [];\n    return (\n        <>\n            {IS_MB && <HeadMobile onBackFunc={() => history.push('/homepage')} title=\"Xu hướng\" />}\n            <Container>\n                <div className={style.container_large}>\n                    <ul className={style.trend_list}>\n                        {\n                            trends.map((item: ITrend, index: number) => (\n                                <li key={index} className={style.trend_list_video_thumb}>\n                                    <VideoItemThumb\n                                        item={item}\n                                    />\n                                </li>\n                            ))\n                        }\n                    </ul>\n                </div>\n            </Container>\n        </>\n    );\n}\n\nexport default Trends;\n\ninterface VideoItemThumbProps {\n    item: ITrend\n}\n\nconst VideoItemThumb = (props: VideoItemThumbProps) => {\n    const { item } = props;\n    const history = useHistory()\n    const videoRef = useRef<HTMLVideoElement>(null)\n    const itemRef = useRef<HTMLDivElement>(null)\n    const [open, setOpen] = useState(false)\n    const IS_MB = useDeviceMobile()\n    const onDetail = () => {\n        if (IS_MB) {\n            videoRef.current?.pause()\n            setOpen(true)\n        } else {\n            history.push(`/video/${item._id}`)\n        }\n    }\n\n    const options = {\n        root: null,\n        rootMargin: \"0px\",\n        threshold: 0.3,\n    };\n    const isVisible = useElementOnScreen(options, itemRef);\n    const onOrgDetail = () => {\n        history.push(formatRouterLinkOrg(item.organization_id))\n    }\n    return (\n        <>\n            <div\n                onClick={!IS_MB ? () => onDetail() : () => { }}\n                className={style.video_item_cnt}\n            >\n                <div ref={itemRef} className={style.trend_item_center} >\n                </div>\n                <div\n                    onClick={onOrgDetail}\n                    className={style.trend_item_head}\n                >\n                    <div className={style.trend_item_head_org}>\n                        <img src={item.organization_image} alt=\"\" />\n                    </div>\n                    <div className={style.trend_item_head_name}>\n                        <p className={style.org_name}>{item.organization_name}</p>\n                        {/* <p className={style.create_at}>{dayjs(item.createdAt).locale(locate.name).fromNow()}</p> */}\n                    </div>\n                </div>\n                <div className={style.trend_item_body}>\n                    <ReactPlayer\n                        className={style.trend_item_video_thumb}\n                        url={`${item.media_url}#t=0.001`}\n                        width={'100%'}\n                        height={'100%'}\n                        playing={isVisible && IS_MB}\n                        muted={true}\n                        playsinline={true}\n                        controls\n                    />\n                </div>\n                <div className={style.trend_item_bot}>\n                    <div onClick={onDetail} className={style.trend_item_bot_ex}>\n                        <div className={style.item_ex}>\n                            <img className={style.item_ex_icon} src={icon.heartBoldBlack} alt=\"\" />\n                            <span className={style.item_ex_text}>{item.tiktok?.digg_count}</span>\n                        </div>\n                        <div className={style.item_ex}>\n                            <img className={style.item_ex_icon} src={icon.commentBoldBlack} alt=\"\" />\n                            <span className={style.item_ex_text}>{item.tiktok?.comment_count}</span>\n                        </div>\n                        <div className={style.item_ex}>\n                            <img className={style.item_ex_icon} src={icon.shareBoldBlack} alt=\"\" />\n                            <span className={style.item_ex_text}>{item.tiktok?.share_count}</span>\n                        </div>\n                    </div>\n                    <p className={style.trend_item_desc}>\n                        {item.content}\n                    </p>\n                    <div className={style.trend_item_bot_org}>\n                        <div className={style.trend_item_bot_org_img}>\n                            <img src={item.organization_image} alt=\"\" />\n                        </div>\n                        <span className={style.trend_item_bot_org_name}>{item.organization_name}</span>\n                    </div>\n                </div>\n            </div>\n            <TrendDetailDia\n                open={open} setOpen={setOpen} _id={item._id}\n            />\n        </>\n    )\n}\n"],"names":["dayjs","relativeTime","history","useHistory","IS_MB","useDeviceMobile","response","useFetch","API_3RD","trends","context","data","HeadMobile","onBackFunc","push","title","Container","className","style","map","item","index","VideoItemThumb","props","videoRef","useRef","itemRef","open","setOpen","useState","onDetail","current","pause","_id","isVisible","useElementOnScreen","root","rootMargin","threshold","onClick","ref","formatRouterLinkOrg","organization_id","src","organization_image","alt","organization_name","url","media_url","width","height","playing","muted","playsinline","controls","icon","tiktok","digg_count","comment_count","share_count","content","TrendDetailDia"],"sourceRoot":""}