"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[479],{28145:function(e,_,t){t.d(_,{rU:function(){return m},y4:function(){return d},Vp:function(){return N}});var i=t(3689),s=t(20181),a=t(91523),n={post_item:"com-cpn_post_item__6Xxuh",post_item_head:"com-cpn_post_item_head__wfHwW",post_item_head_group:"com-cpn_post_item_head_group__s+yZy",post_item_head_cnt:"com-cpn_post_item_head_cnt__GwVwo",post_item_group_name:"com-cpn_post_item_group_name__ctUYx",post_item_head_de:"com-cpn_post_item_head_de__jtg6N",post_item_head_user:"com-cpn_post_item_head_user__WwkU8",user_avatar:"com-cpn_user_avatar__ctpJP",user_name:"com-cpn_user_name__cXz87",post_create_at:"com-cpn_post_create_at__sczhs",post_group_cate:"com-cpn_post_group_cate__xa8yP",post_item_content:"com-cpn_post_item_content__CWrPz",post_item_interactive:"com-cpn_post_item_interactive__QLJJ8",interactive_item:"com-cpn_interactive_item__3f-fN",post_inp_cnt:"com-cpn_post_inp_cnt__Qcauy",post_inp_head:"com-cpn_post_inp_head__nE+EA",post_inp_head_user:"com-cpn_post_inp_head_user__B27eK",post_inp_head_btn:"com-cpn_post_inp_head_btn__tcijC",form_post_cnt:"com-cpn_form_post_cnt__-F5yf",form_post_user:"com-cpn_form_post_user__o7VHu",form_post_user_avt:"com-cpn_form_post_user_avt__Qk1FV",form_post_user_name:"com-cpn_form_post_user_name__XUbJw",form_post_body:"com-cpn_form_post_body__nB4fz",form_post_text:"com-cpn_form_post_text__X1fRz",form_post_btn:"com-cpn_form_post_btn__-TIRP",form_post_btn_img:"com-cpn_form_post_btn_img__HmaCw",form_media_list:"com-cpn_form_media_list__qIq2C",form_media_list_item:"com-cpn_form_media_list_item__+5po0",form_media_img_cnt:"com-cpn_form_media_img_cnt__m7r84",form_media_item_img:"com-cpn_form_media_item_img__XpLmR",form_media_item_load:"com-cpn_form_media_item_load__ZCFlZ",remove_img_btn:"com-cpn_remove_img_btn__AuVoK",form_post_bottom:"com-cpn_form_post_bottom__deg81",images_cnt:"com-cpn_images_cnt__DeuS6",parent_1:"com-cpn_parent_1__+FJzD",parent_2:"com-cpn_parent_2__3hrhj",parent_3:"com-cpn_parent_3__24Gwi",parent_4:"com-cpn_parent_4__o83OJ",parent_5:"com-cpn_parent_5__cAiS4",image_more:"com-cpn_image_more__i9Shr",img_item:"com-cpn_img_item__TdSZu"},o=t(48398),c=t(72791),r=t(80184);const m=e=>{let{images:_}=e;const[t,s]=(0,c.useState)(!1),[a,o]=(0,c.useState)(0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:n.images_cnt,children:(0,r.jsx)("div",{className:(()=>{let e=n.parent_5;switch(_.length){case 1:e=n.parent_1;break;case 2:e=n.parent_2;break;case 3:e=n.parent_3;break;case 4:e=n.parent_4}return e})(),children:_.slice(0,5).map(((e,t)=>(0,r.jsxs)("div",{onClick:()=>(o(t),void s(!0)),style:{cursor:"pointer"},children:[(0,r.jsx)("img",{className:n.img_item,src:e,alt:""}),4===t&&_.length>5&&(0,r.jsxs)("div",{className:n.image_more,children:["+",_.length-5]})]},t)))})}),(0,r.jsx)(i.OK,{open:t,setOpen:s,src:_,index:a})]})};var l=t(3979);function d(e){var _,t;let{post:c}=e;const{favoriteSt:d,onToggleFavorite:p}=(0,l.s4)({id:c.id,org_id:c.organization_id,type:"POST",count:10,favorite:c.is_favorite});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:n.post_item,children:[(0,r.jsxs)("div",{className:n.post_item_head,children:[(0,r.jsx)("div",{className:n.post_item_head_group}),(0,r.jsxs)("div",{className:n.post_item_head_cnt,children:[(0,r.jsx)("p",{className:n.post_item_group_name,children:null===(_=c.user)||void 0===_?void 0:_.fullname}),(0,r.jsxs)("div",{className:n.post_item_head_de,children:[(0,r.jsxs)("div",{className:n.post_item_head_user,children:[(0,r.jsx)("img",{className:n.user_avatar,src:c.user.avatar,alt:""}),(0,r.jsx)("span",{className:n.user_name,children:c.user.fullname})]}),(0,r.jsx)("span",{className:n.post_create_at,children:(0,o.wh)(c.created_at)})]})]})]}),(0,r.jsxs)("div",{className:n.post_item_content,children:[c.content,"...",(0,r.jsx)(a.rU,{to:{pathname:`/bai-viet/${c.id}`},children:"xem th\xeam"})]}),(0,r.jsx)("div",{className:n.post_item_img_cnt,children:(null===(t=c.media_url)||void 0===t?void 0:t.length)>0&&(0,r.jsx)(m,{images:c.media_url})}),(0,r.jsxs)("div",{className:n.post_item_interactive,children:[(0,r.jsxs)("div",{className:n.interactive_item,children:[(0,r.jsx)(i.Rb,{onClick:p,iconSize:28,icon:d.is_favorite?s.Z.thumbUpPurple:s.Z.thumbUp}),(0,r.jsx)("span",{children:d.favorite_count})]}),(0,r.jsxs)("div",{className:n.interactive_item,children:[(0,r.jsx)(i.Rb,{iconSize:28,icon:s.Z.chatSquare}),(0,r.jsx)("span",{children:c.comment_count})]})]})]})})}var p=t(29818),u=t(3444),v=t(12978),h=t(19598),f=t(95594),g=t(97892),x=t.n(g),j=t(24460);function N(e){var _;let{group:t}=e;const i=(0,h.k6)(),[a,o]=(0,c.useState)(!1),{USER:m}=(0,v.v9)((e=>e.USER));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:n.post_inp_cnt,children:(0,r.jsxs)("div",{className:n.post_inp_head,children:[(0,r.jsx)("div",{className:n.post_inp_head_user,children:(0,r.jsx)("img",{src:null!==(_=null===m||void 0===m?void 0:m.avatar)&&void 0!==_?_:s.Z.Avatar,alt:""})}),(0,r.jsx)("div",{onClick:()=>{if(!m)return i.push("/sign-in?1");o(!0)},className:n.post_inp_head_btn,children:(0,r.jsx)("p",{children:"B\u1ea1n vi\u1ebft g\xec \u0111i..."})})]})}),m&&(0,r.jsx)(b,{open:a,setOpen:o,USER:m,group:t})]})}const b=e=>{var _;const t=(0,l.oG)(),{posts:a}=(0,v.v9)((e=>e.COMMUNITY)),{open:o,setOpen:m,USER:d,group:h}=e,[g,N]=(0,c.useState)({body:"",media:[]}),b=(0,c.useRef)(null),S=(0,v.I0)();return(0,r.jsxs)(p.Z,{fullScreen:t,open:o,onClose:()=>m(!1),children:[t&&(0,r.jsx)(u.Z,{title:"T\u1ea1o b\xe0i vi\u1ebft",onBackFunc:()=>m(!1)}),(0,r.jsxs)("div",{className:n.form_post_cnt,children:[(0,r.jsxs)("div",{className:n.form_post_user,children:[(0,r.jsx)("img",{src:null!==(_=null===d||void 0===d?void 0:d.avatar)&&void 0!==_?_:s.Z.Avatar,className:n.form_post_user_avt,alt:""}),(0,r.jsx)("span",{className:n.form_post_user_name,children:null===d||void 0===d?void 0:d.fullname})]}),(0,r.jsxs)("div",{className:n.form_post_body,children:[(0,r.jsx)("textarea",{ref:b,className:n.form_post_text,placeholder:"Vi\u1ebft b\xe0i..."}),(0,r.jsxs)("div",{className:n.form_post_btn,children:[(0,r.jsxs)("label",{className:n.form_post_btn_img,htmlFor:"file_img",children:[(0,r.jsx)("img",{src:s.Z.addImg,className:n.form_post_btn_icon,alt:""}),(0,r.jsx)("p",{className:n.form_post_btn_title,children:"H\xecnh \u1ea3nh"})]}),(0,r.jsx)("input",{multiple:!0,onChange:async e=>{const _=[];for(var t=0;t<e.target.files.length;t++){const e={original_url:"",model_id:t};_.push(e)}N({...g,media:[...g.media,..._]});const{mediaList:i}=await(0,l.rN)(e);N({...g,media:[...g.media,...i]})},hidden:!0,id:"file_img",type:"file",accept:"image/png, image/jpeg, image/jpg"})]}),(0,r.jsx)("div",{className:n.form_post_btn_media,children:(0,r.jsx)("ul",{className:n.form_media_list,children:g.media.map((e=>(0,r.jsx)("li",{className:n.form_media_list_item,children:(0,r.jsxs)("div",{className:n.form_media_img_cnt,children:[""!==e.original_url&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:e.original_url,className:n.form_media_item_img,alt:""}),(0,r.jsx)(i.Rb,{onClick:()=>{return _=e.model_id,void N({...g,media:g.media.filter((e=>e.model_id!==_))});var _},className:n.remove_img_btn,icon:s.Z.closeCircleWhite,iconSize:22})]}),""===e.original_url&&(0,r.jsx)("div",{className:n.form_media_item_load,children:(0,r.jsx)("span",{children:"\u0110ang t\u1ea3i l\xean..."})})]})},e.model_id)))})})]}),(0,r.jsx)("div",{className:n.form_post_bottom,children:(0,r.jsx)(i.Rb,{onClick:()=>{var e,_;const t={id:a.length+1,group:h,groupCate:{id:1,icon:f.Z,name:"M\u1ef9 ph\u1ea9m",total:60,bgColor:"#C9C0FF"},user:{fullname:null===d||void 0===d?void 0:d.fullname,avatar:null===d||void 0===d?void 0:d.avatar},content:null!==(e=null===(_=b.current)||void 0===_?void 0:_.value)&&void 0!==e?e:"",medias:g.media.map((e=>e.original_url)),favorite_count:0,created_at:x()().format("YYYY-MM-DD HH:mm:ss"),comment_count:0,isFavorite:!1};S((0,j.q2)(t)),m(!1)},title:"\u0110\u0103ng b\xe0i vi\u1ebft"})})]})]})}},79479:function(e,_,t){t.r(_),t.d(_,{default:function(){return h}});var i=t(56598),s=t(3689),a=t(20181),n=t(34088),o=t(19598),c=t(91523),r={container:"post-detail_container__89kTt",head:"post-detail_head__0+aKK",head_left:"post-detail_head_left__-GYR6",head_left_btn:"post-detail_head_left_btn__iQrfc",head_left_avatar:"post-detail_head_left_avatar__YTZT1",head_right:"post-detail_head_right__mNzTp",user_name:"post-detail_user_name__5Q1Gl",post_group_name:"post-detail_post_group_name__-vnW1",created_add:"post-detail_created_add__dcFYr",content:"post-detail_content__oSfxG",interactive:"post-detail_interactive__DUDAo",interactive_item:"post-detail_interactive_item__uEfiH"},m=t(85439),l=t(37480),d=t(13930),p=t(48398),u=t(28145),v=t(80184);var h=function(){var e,_,t,h;const{id:f}=(0,o.UO)(),g=(0,o.k6)(),{data:x}=(0,m.a)({queryKey:[l.xG.POSTS,f],queryFn:()=>d.F.post(f),enabled:!!f,onError:()=>g.replace("/error")}),j=null===x||void 0===x?void 0:x.context;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(n.Z,{title:"post?.group?.name"}),(0,v.jsx)(i.Z,{children:(0,v.jsxs)("div",{className:r.container,children:[(0,v.jsxs)("div",{className:r.head,children:[(0,v.jsxs)("div",{className:r.head_left,children:[(0,v.jsx)(s.Rb,{onClick:()=>g.goBack(),className:r.head_left_btn,icon:a.Z.chevronLeft,iconSize:28}),(0,v.jsx)("div",{className:r.head_left_avatar,children:(0,v.jsx)("img",{src:null===j||void 0===j||null===(e=j.user)||void 0===e?void 0:e.avatar,alt:""})})]}),(0,v.jsxs)("div",{className:r.head_right,children:[(0,v.jsx)("p",{className:r.user_name,children:null===j||void 0===j||null===(_=j.user)||void 0===_?void 0:_.fullname}),(0,v.jsxs)("p",{className:r.post_group_name,children:["Trong nh\xf3m ",(0,v.jsx)(c.rU,{to:{pathname:"/"},children:"post?.group?.name"})]}),(0,v.jsx)("p",{className:r.created_add,children:(0,p.wh)(null!==(t=null===j||void 0===j?void 0:j.created_at)&&void 0!==t?t:"")})]})]}),(0,v.jsx)("div",{className:r.content,children:null===j||void 0===j?void 0:j.content}),(0,v.jsx)("div",{className:r.images_cont,children:(null===j||void 0===j?void 0:j.media_url)&&(null===j||void 0===j||null===(h=j.media_url)||void 0===h?void 0:h.length)>0&&(0,v.jsx)(u.rU,{images:j.media_url})}),(0,v.jsxs)("div",{className:r.interactive,children:[(0,v.jsxs)("div",{className:r.interactive_item,children:[(0,v.jsx)(s.Rb,{iconSize:28,icon:null!==j&&void 0!==j&&j.is_favorite?a.Z.thumbUpPurple:a.Z.thumbUp}),(0,v.jsx)("span",{children:null===j||void 0===j?void 0:j.favorite_count})]}),(0,v.jsxs)("div",{className:r.interactive_item,children:[(0,v.jsx)(s.Rb,{iconSize:28,icon:a.Z.chatSquare}),(0,v.jsx)("span",{children:null===j||void 0===j?void 0:j.comment_count})]})]})]})})]})}}}]);
//# sourceMappingURL=479.d65b932b.chunk.js.map