"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[791,674],{24557:function(e,n,s){var a=s(72791),t=s(79265),r=s(81724),o=s(19598),i=s(17983),c=s(93080),l=s(80184);n.Z=function(e){const{t:n}=(0,a.useContext)(i.I),{handlePostTelephone:s,title:d,load:p,isDialog:h,setActiveTabSign:m,prevUrl:u}=e,_=(0,o.k6)(),g=(0,t.TA)({initialValues:{telephone:""},validationSchema:r.Ry({telephone:r.Z_().required(n("form.please_enter_your_phone"))}),onSubmit:e=>{e={...e,telephone:e.telephone.cleanString()},s(e.telephone,!0)}});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{id:"recaptcha-container"}),(0,l.jsxs)("div",{className:"flex-row-sp for-pass-cnt__phone-head",children:[!h&&(0,l.jsx)("button",{onClick:()=>m?m(1):u?_.replace(u):void _.goBack(),children:(0,l.jsx)("img",{src:c.Z.chevronLeft,alt:""})}),(0,l.jsx)("span",{children:d||n("form.reset_password")}),(0,l.jsx)("div",{})]}),(0,l.jsxs)("form",{autoComplete:"off",className:"flex-column for-pass-phone",onSubmit:g.handleSubmit,children:[(0,l.jsx)("input",{name:"telephone",value:g.values.telephone,onChange:g.handleChange,type:"text",className:"for-pass-cnt__phone-ip",placeholder:n("pm.phone_number"),autoFocus:!0}),g.errors.telephone&&g.touched.telephone&&(0,l.jsx)("span",{className:"for-pass-cnt__phone-err",children:g.errors.telephone}),(0,l.jsx)("button",{className:"for-pass-cnt__btn",type:"submit",children:n(p?"form.sending":"form.continue")})]})]})}},6674:function(e,n,s){s.r(n),s.d(n,{default:function(){return j},formatTelephone:function(){return w}});var a=s(72791),t=s(10266),r=(s(15993),s(24557)),o=s(79265),i=s(81724),c=s(15465),l=s(29818),d=s(19598),p=s(80184);var h=function(e){const{errorCode:n,setErrorCode:s}=e,a=(0,d.k6)(),t=()=>{a.replace({pathname:"/sign-in",search:"1"})};return(0,p.jsx)(l.Z,{open:n.open,onClose:()=>s({...n,open:!1}),children:(0,p.jsxs)("div",{className:"flex-column dia-no-cnt",children:[(0,p.jsx)("span",{className:"dia-no-cnt__head",children:"Th\xf4ng b\xe1o"}),(()=>{switch(n.code){case 200:return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"flex-column for-er-no",children:["Trang web s\u1ebd \u0111\u01b0a b\u1ea1n v\u1ec1 trang \u0111\u0103ng nh\u1eadp",(0,p.jsx)("span",{onClick:t,children:"Tr\u1edf v\u1ec1 \u0111\u0103ng nh\u1eadp"})]})});case 400:return(0,p.jsx)("div",{className:"for-er-no",children:n.title})}})()]})})},m=s(93080),u=s(13239),_=s(17983);var g=function(e){const{t:n}=(0,a.useContext)(_.I),{data:s,handlePostTelephone:t,setStep:r}=e,[l,d]=(0,a.useState)({code:0,open:!1,title:"",loading:!1}),[g,f]=(0,a.useState)(90);(0,a.useEffect)((()=>{const e=setInterval((()=>{g>0&&f((e=>e-1))}),1e3);return()=>clearInterval(e)}),[g]);const x=(0,o.TA)({initialValues:{otp:"",new_password:"",confirm_password:""},validationSchema:i.Ry({otp:i.Z_().required(n("form.please_enter_your_verification_code")).matches(/^[0-9]+$/,n("form.verification_invalid")).min(6,n("form.verification_code_of_6_characters")).max(6,n("form.verification_code_of_6_characters")),new_password:i.Z_().min(8,n("form.password_min")).max(32,n("form.password_max")).required(n("Home.Sign_val_password")),confirm_password:i.Z_().required(n("form.please_confirm_password")).oneOf([i.iH("new_password"),null],n("form.password_confirm_invalid"))}),onSubmit:e=>{(async e=>{var s,a,t;d({...l,loading:!0});try{await c.Z.forgotPassword(e),d({code:200,open:!0,title:n("form.change_password_successfully"),loading:!1})}catch(r){const e=r;switch(null===(s=e.response)||void 0===s?void 0:s.status){case 400:return d({open:!0,code:null===(a=e.response)||void 0===a?void 0:a.status,title:"M\xe3 x\xe1c th\u1ef1c kh\xf4ng ch\xednh x\xe1c",loading:!1});case 501:return d({open:!0,code:null===(t=e.response)||void 0===t?void 0:t.status,title:"M\xe3 x\xe1c th\u1ef1c kh\xf4ng ch\xednh x\xe1c",loading:!1})}}})({telephone:`${s.telephone}`,code:e.otp,new_password:e.new_password,verification_id:s.verification_id})}});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h,{errorCode:l,setErrorCode:d}),(0,p.jsx)("div",{id:"recaptcha-container"}),(0,p.jsxs)("div",{className:"flex-row-sp for-pass-cnt__phone-head",children:[(0,p.jsx)("button",{onClick:()=>r(1),children:(0,p.jsx)("img",{src:m.Z.chevronLeft,alt:""})}),(0,p.jsx)("span",{children:n("form.reset_password")}),(0,p.jsx)("div",{})]}),(0,p.jsxs)("div",{className:"flex-column for-pass-cnt__phone-noti",children:[(0,p.jsx)("span",{children:n("form.send_your_code_text")}),(0,p.jsx)("span",{children:s.telephone}),(0,p.jsxs)("form",{autoComplete:"off",className:"flex-column for-pass-phone",onSubmit:x.handleSubmit,children:[(0,p.jsx)("input",{name:"otp",value:x.values.otp,onChange:x.handleChange,type:"number",pattern:"[0-9]*",inputMode:"numeric",style:{textAlign:"center"},className:"for-pass-cnt__phone-ip",placeholder:n("form.verification_code")}),x.errors.otp&&x.touched.otp&&(0,p.jsx)("span",{className:"for-pass-cnt__phone-err",children:x.errors.otp}),(0,p.jsx)("input",{name:"new_password",value:x.values.new_password,onChange:x.handleChange,type:"text",style:{textAlign:"center"},className:"for-pass-cnt__phone-ip",placeholder:n("Home.Sign_in_pl_password")}),x.errors.new_password&&x.touched.new_password&&(0,p.jsx)("span",{className:"for-pass-cnt__phone-err",children:x.errors.new_password}),(0,p.jsx)("input",{name:"confirm_password",value:x.values.confirm_password,onChange:x.handleChange,type:"text",style:{textAlign:"center"},className:"for-pass-cnt__phone-ip",placeholder:n("form.confirm_password")}),x.errors.confirm_password&&x.touched.confirm_password&&(0,p.jsx)("span",{className:"for-pass-cnt__phone-err",children:x.errors.confirm_password}),(0,p.jsx)("div",{className:"for-pass-cnt__time",children:g>0?(0,p.jsxs)(p.Fragment,{children:[n("form.please_wait")," ",(0,p.jsx)("span",{children:g})," ",n("form.to_get_the_verification_code_back")]}):(0,p.jsx)("span",{onClick:()=>{t(s.telephone,!0),f(90)},children:n("form.resend_code")})}),(0,p.jsxs)("button",{className:"for-pass-cnt__btn",type:"submit",children:[!0===l.loading&&(0,p.jsx)("div",{className:"sign-loading",children:(0,p.jsx)(u.Z,{size:"25px",color:"inherit"})}),n("form.continue")]})]})]})]})},f=s(61424),x=s(64192);var v=function(){const e=(0,d.k6)(),{t:n}=(0,a.useContext)(_.I);return(0,p.jsx)("div",{className:"for-head",children:(0,p.jsx)(t.Z,{children:(0,p.jsxs)("div",{className:"flex-row-sp for-head-cnt",children:[(0,p.jsxs)("div",{className:"flex-row for-head-cnt__left",children:[(0,p.jsx)("img",{onClick:()=>e.push("/"),src:x.ZP.beautyX,alt:""}),(0,p.jsx)("span",{className:"text",children:n("form.reset_password")})]}),(0,p.jsx)("div",{})]})})})};const w=e=>"+84"+e.toString().slice(1);var j=function(){const[e,n]=(0,a.useState)({telephone:"",new_password:"",code:"",verification_id:""}),[s,o]=(0,a.useState)(1),[i,c]=(0,a.useState)(!1),l=(s,a)=>{c(!0);const t=w(s);""!==t&&(!0===a&&(()=>{try{window.recaptchaVerifier=new f.lI("recaptcha-container",{size:"invisible",callback:e=>{},"expired-callback":()=>{}},f.m3)}catch(e){console.log(e)}})(),(async(s,a,t)=>{try{const a=await(0,f.$g)(f.m3,s,window.recaptchaVerifier);n({...e,telephone:t,verification_id:null===a||void 0===a?void 0:a.verificationId}),o(2),console.log(null===a||void 0===a?void 0:a.verificationId),c(!1)}catch(r){console.log(r),c(!1)}})(t,0,s))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v,{}),(0,p.jsx)(t.Z,{children:(0,p.jsx)("div",{className:"for-pass-cnt",children:(0,p.jsx)("div",{className:"for-pass-cnt__phone",children:(()=>{switch(s){case 1:return(0,p.jsx)(r.Z,{setValues:n,setStep:o,prevUrl:"/sign-in?1",load:i,handlePostTelephone:l});case 2:return(0,p.jsx)(g,{data:e,setStep:o,handlePostTelephone:l})}})()})})})]})}},93791:function(e,n,s){s.r(n),s.d(n,{default:function(){return pe}});var a=s(72791),t=s(94454),r=s(79265),o=s(81724),i=s(19598),c=s(16030),l=s(97892),d=s.n(l),p=s(24483),h={container:"sign-page_container__WtBAG",left_cnt_icon_mb:"sign-page_left_cnt_icon_mb__7f2uN",left_cnt:"sign-page_left_cnt__KncV1",right_cnt:"sign-page_right_cnt__wlRJ4",right_cnt_tab_btn:"sign-page_right_cnt_tab_btn__c7Cqo",btn_active:"sign-page_btn_active__fybgh",form_container:"sign-page_form_container__FycWu",input_wrapper:"sign-page_input_wrapper__xKjaL",input_column:"sign-page_input_column__5FLDA",btn_change_phone:"sign-page_btn_change_phone__otgFt",input_wrapper_icon_show:"sign-page_input_wrapper_icon_show__UihHl",input_wrapper_error:"sign-page_input_wrapper_error__JRV2B",sign_check:"sign-page_sign_check__nRx86",sign_check_left:"sign-page_sign_check_left__JbZAW",sign_check_forgot:"sign-page_sign_check_forgot__hQzST",form_submit_btn:"sign-page_form_submit_btn__perse",sign_other_setup:"sign-page_sign_other_setup__B6EcF",form_policy:"sign-page_form_policy__CzKtg",input:"sign-page_input__Xtk-E"},m=s(17983),u=s(15465),_=s(29959),g=s(5669),f=s(8137),x=s(47693),v=s(20181),w=s(93080),j=s(80184);var b=function(e){const{t:n}=(0,a.useContext)(m.I),s=(0,c.I0)(),{setActiveTabSign:l}=e,b=(0,i.k6)(),[k,C]=(0,a.useState)(!1),[Z,S]=(0,a.useState)((0,j.jsx)(j.Fragment,{})),{noti:y,firstLoad:N,resultLoad:I,onCloseNoti:T}=(0,v.D3)(),[A,E]=(0,a.useState)(!0),M=e=>{!async function(e){var a,t;N();try{const n=await u.Z.login(e);!0===A?(localStorage.setItem("_WEB_TK",n.data.context.token),localStorage.setItem("_WEB_TK_RE",n.data.context.refresh_token),localStorage.setItem("_WEB_TK_EX",n.data.context.token_expired_at)):(sessionStorage.setItem("_WEB_TK",n.data.context.token),sessionStorage.setItem("_WEB_TK_RE",n.data.context.refresh_token),sessionStorage.setItem("_WEB_TK_EX",n.data.context.token_expired_at));const a=await s((0,_.$8)());null!==a&&void 0!==a&&a.payload&&(s((0,g.om)(d()().format("YYYY-MM"))),s((0,f.SN)({page:1}))),b.goBack()}catch(r){const s=r;switch(null===(a=s.response)||void 0===a?void 0:a.status){case 401:I("M\u1eadt kh\u1ea9u ch\u01b0a ch\xednh x\xe1c. Vui l\xf2ng th\u1eed l\u1ea1i !");break;case 404:I(`Emai "${e.email}" ${n("form.is_not_registered")}`),S((0,j.jsx)(p.Rb,{title:`${n("Home.Sign_up")} ${n("form.now")}`,onClick:()=>b.replace({pathname:"/sign-up",search:"2"})}));break;default:I(`C\xf3 l\u1ed7i x\u1ea3y ra (${null===(t=s.response)||void 0===t?void 0:t.status}).Vui l\xf2ng th\u1eed l\u1ea1i sau!`)}}}(e)},B=(0,r.TA)({initialValues:{email:"",password:""},validationSchema:o.Ry({email:o.Z_().required("Vui l\xf2ng nh\u1eadp email/s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),password:o.Z_().min(6,"M\u1eadt kh\u1ea9u l\u1edbn h\u01a1n 8 k\xfd t\u1ef1").required("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u")}),onSubmit:e=>{M(e)}});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.xE,{}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("form",{onSubmit:B.handleSubmit,autoComplete:"off",className:h.form_container,children:[(0,j.jsxs)("div",{className:h.input_wrapper,children:[(0,j.jsx)(p.II,{className:h.input,icon:w.Z.User,type:"text",placeholder:n("Home.Sign_in_pl_user_name"),name:"email",value:B.values.email,onChange:B.handleChange}),B.errors.email&&B.touched.email&&(0,j.jsx)("p",{className:h.input_wrapper_error,children:B.errors.email})]}),(0,j.jsxs)("div",{className:h.input_wrapper,children:[(0,j.jsx)(p.II,{className:h.input,icon:w.Z.Lock,name:"password",value:B.values.password,onChange:B.handleChange,type:k?"text":"password",placeholder:n("Home.Sign_in_pl_password")}),(0,j.jsx)("img",{onClick:()=>C(!k),className:h.input_wrapper_icon_show,src:k?w.Z.eyeCrossPurple:w.Z.eye,alt:""}),B.errors.password&&B.touched.password&&(0,j.jsx)("p",{className:h.input_wrapper_error,children:B.errors.password})]}),(0,j.jsxs)("div",{className:h.sign_check,children:[(0,j.jsxs)("div",{className:h.sign_check_left,children:[(0,j.jsx)(t.Z,{defaultChecked:!0,onChange:()=>E(!A),sx:{color:"#7161BA","&.Mui-checked":{color:"#7161BA"}}}),(0,j.jsx)("span",{children:n("Home.Sign_remember")})]}),(0,j.jsxs)("span",{className:h.sign_check_forgot,onClick:()=>b.replace("/doi-mat-khau"),children:[n("Home.Sign_forgot")," ?"]})]}),(0,j.jsx)("div",{className:h.form_submit_btn,children:(0,j.jsx)(p.Rb,{title:n("Home.Sign_in"),type:"submit",loading:y.load})})]}),(0,j.jsxs)("p",{className:h.sign_other_setup,children:[n("Home.Sign_no_acc"),"?",(0,j.jsx)("span",{onClick:()=>l(2),children:n("Home.Sign_up_now")})]}),(0,j.jsx)(x.C,{open:y.openAlert,setOpen:T,title:"Th\xf4ng b\xe1o",content:y.message,children:Z})]})]})},k=s(10266),C=s(63366),Z=s(87462),S=s(28182),y=s(94419),N=s(31402),I=s(66934);function T(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}var A=s(14036);var E=function(e,n){return a.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)},M=s(93840),B=s(21217);function V(e){return(0,B.Z)("MuiFormControl",e)}(0,s(75878).Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const F=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],q=(0,I.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,n)=>{let{ownerState:s}=e;return(0,Z.Z)({},n.root,n[`margin${(0,A.Z)(s.margin)}`],s.fullWidth&&n.fullWidth)}})((e=>{let{ownerState:n}=e;return(0,Z.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===n.margin&&{marginTop:16,marginBottom:8},"dense"===n.margin&&{marginTop:8,marginBottom:4},n.fullWidth&&{width:"100%"})})),L=a.forwardRef((function(e,n){const s=(0,N.Z)({props:e,name:"MuiFormControl"}),{children:t,className:r,color:o="primary",component:i="div",disabled:c=!1,error:l=!1,focused:d,fullWidth:p=!1,hiddenLabel:h=!1,margin:m="none",required:u=!1,size:_="medium",variant:g="outlined"}=s,f=(0,C.Z)(s,F),x=(0,Z.Z)({},s,{color:o,component:i,disabled:c,error:l,fullWidth:p,hiddenLabel:h,margin:m,required:u,size:_,variant:g}),v=(e=>{const{classes:n,margin:s,fullWidth:a}=e,t={root:["root","none"!==s&&`margin${(0,A.Z)(s)}`,a&&"fullWidth"]};return(0,y.Z)(t,V,n)})(x),[w,b]=a.useState((()=>{let e=!1;return t&&a.Children.forEach(t,(n=>{if(!E(n,["Input","Select"]))return;const s=E(n,["Select"])?n.props.input:n;s&&s.props.startAdornment&&(e=!0)})),e})),[k,I]=a.useState((()=>{let e=!1;return t&&a.Children.forEach(t,(n=>{E(n,["Input","Select"])&&function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(T(e.value)&&""!==e.value||n&&T(e.defaultValue)&&""!==e.defaultValue)}(n.props,!0)&&(e=!0)})),e})),[B,L]=a.useState(!1);c&&B&&L(!1);const R=void 0===d||c?B:d;const P=a.useCallback((()=>{I(!0)}),[]),H={adornedStart:w,setAdornedStart:b,color:o,disabled:c,error:l,filled:k,focused:R,fullWidth:p,hiddenLabel:h,size:_,onBlur:()=>{L(!1)},onEmpty:a.useCallback((()=>{I(!1)}),[]),onFilled:P,onFocus:()=>{L(!0)},registerEffect:undefined,required:u,variant:g};return(0,j.jsx)(M.Z.Provider,{value:H,children:(0,j.jsx)(q,(0,Z.Z)({as:i,ownerState:x,className:(0,S.Z)(v.root,r),ref:n},f,{children:t}))})}));var R=L,P=s(10765),H=s(39641),W=s(1503),$=s(29818),z=(s(15993),s(6674)),O=s(61424),U=s(24557);var K=function(e){const{open:n,setOpen:s,setDataOtp:t,prevUrl:r,setActiveTabSign:o}=e,[i,c]=(0,a.useState)(!1);return(0,j.jsx)($.Z,{open:n,fullScreen:!0,children:(0,j.jsx)("div",{className:"for-pass-cnt",children:(0,j.jsxs)("div",{className:"for-pass-cnt__phone",children:[(0,j.jsx)("div",{id:"recaptcha-container"}),(0,j.jsx)(U.Z,{setActiveTabSign:o,prevUrl:r,title:"\u0110\u0103ng k\xfd",load:i,handlePostTelephone:e=>{const n=(0,z.formatTelephone)(e);""!==n&&((()=>{try{window.recaptchaVerifier=new O.lI("recaptcha-container",{size:"invisible",callback:e=>{},"expired-callback":()=>{}},O.m3)}catch(e){console.log(e)}})(),c(!0),(0,O.$g)(O.m3,n,window.recaptchaVerifier).then((n=>{t({telephone:e,verification_id:null===n||void 0===n?void 0:n.verificationId}),s(!1),c(!1)})).catch((e=>{console.log(e),c(!1)})))}})]})})})},Y=s(62437);var D=function(e){const{t:n}=(0,a.useContext)(m.I),{setActiveTabSign:s}=e,c=(0,i.k6)(),[l,d]=(0,a.useState)(!1),[_,g]=(0,a.useState)({pass:!1,confirm:!1}),[f,v]=(0,a.useState)({content:"",open:!1,children:(0,j.jsx)(j.Fragment,{})}),[b,k]=(0,a.useState)(!0),[C,Z]=(0,a.useState)({telephone:"",verification_id:""}),S=()=>{s(1),c.replace({pathname:"/sign-in",search:"1"})};async function y(e){const n={fullname:e.name,email:e.email,telephone:C.telephone,code:e.code,verification_id:C.verification_id,password:e.password,platform:"BEAUTYX"};try{await u.Z.register(n),d(!1),v({content:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng",open:!0,children:(0,j.jsx)(p.Rb,{title:"Quay v\xe8 trang \u0111\u0103ng nh\u1eadp",onClick:S})})}catch(t){var s;d(!1);const e=t;var a;if(400===(null===(s=e.response)||void 0===s?void 0:s.status))(async e=>{const n={telephone:e.telephone,new_password:e.password,code:e.code,verification_id:e.verification_id};try{await u.Z.forgotPassword(n),d(!1),v({content:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng",open:!0,children:(0,j.jsx)(p.Rb,{title:"Quay v\xe8 trang \u0111\u0103ng nh\u1eadp",onClick:S})})}catch(t){v({content:"C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i!",open:!0,children:(0,j.jsx)(j.Fragment,{})})}})(n);else v({content:`C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i (${null===(a=e.response)||void 0===a?void 0:a.status})`,open:!0,children:(0,j.jsx)(j.Fragment,{})})}}const N=(0,r.TA)({initialValues:{name:"",email:"",code:"",password:"",confirm_password:"",sex:"",agree:!1},validationSchema:o.Ry({name:o.Z_().min(2,"T\xean l\u1edbn h\u01a1n 2 k\xfd t\u1ef1").required("Vui l\xf2ng nh\u1eadp h\u1ecd v\xe0 t\xean").matches(Y.Z.fullname,"T\xean kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng"),sex:o.Z_().required("Vui l\xf2ng ch\u1ecdn gi\u1edbi t\xednh"),email:o.Z_().required("Vui l\xf2ng nh\u1eadp Email ho\u1eb7c S\u1ed1 \u0111i\u1ec7n tho\u1ea1i").matches(Y.Z.email,"Vui l\xf2ng nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng Email"),code:o.Z_().required("Vui l\xf2ng nh\u1eadp m\xe3 x\xe1c th\u1ef1c").matches(/^[0-9]+$/,"M\xe3 x\xe1c th\u1ef1c kh\xf4ng h\u1ee3p l\u1ec7").min(6,"M\xe3 x\xe1c th\u1ef1c g\u1ed3m 6 k\xfd t\u1ef1").max(6,"M\xe3 x\xe1c th\u1ef1c g\u1ed3m 6 k\xfd t\u1ef1"),password:o.Z_().min(8,"M\u1eadt kh\u1ea9u l\u1edbn h\u01a1n 8 k\xfd t\u1ef1").max(32,"M\u1eadt kh\u1ea9u t\u1ed1i \u0111a 32 k\xed t\u1ef1").required("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"),confirm_password:o.Z_().required("Vui l\xf2ng x\xe1c nh\u1eadn l\u1ea1i m\u1eadt kh\u1ea9u").oneOf([o.iH("password"),null],"M\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp"),agree:o.O7().oneOf([!0],"Vui l\xf2ng \u0111\u1ecdc v\xe0 ch\u1ea5p nh\u1eadn \u0111i\u1ec1u kho\u1ea3n")}),onSubmit:e=>{d(!0),y(e)}});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.xE,{onBackFunc:S}),(0,j.jsxs)("div",{children:[(0,j.jsx)(K,{prevUrl:"/sign-in?1",open:b,setOpen:k,dataOtp:C,setDataOtp:Z,setActiveTabSign:s}),(0,j.jsxs)("form",{onSubmit:N.handleSubmit,autoComplete:"off",className:h.form_container,children:[(0,j.jsxs)("div",{className:h.input_wrapper,children:[(0,j.jsx)(p.II,{className:h.input,icon:w.Z.User,value:N.values.name,onChange:N.handleChange,name:"name",type:"text",placeholder:n("pm.full_name")}),N.errors.name&&N.touched.name&&(0,j.jsx)("p",{className:h.input_wrapper_error,children:N.errors.name})]}),(0,j.jsxs)("div",{className:h.input_wrapper,children:[(0,j.jsx)(R,{component:"fieldset",children:(0,j.jsxs)(P.Z,{row:!0,"aria-label":"gender",name:"sex",value:N.values.sex,onChange:N.handleChange,children:[(0,j.jsx)(H.Z,{value:"male",control:(0,j.jsx)(W.Z,{sx:{color:"#7161BA","&.Mui-checked":{color:"#7161BA"}}}),label:n("form.male")}),(0,j.jsx)(H.Z,{value:"female",control:(0,j.jsx)(W.Z,{sx:{color:"#7161BA","&.Mui-checked":{color:"#7161BA"}}}),label:n("form.female")}),(0,j.jsx)(H.Z,{value:"other",control:(0,j.jsx)(W.Z,{sx:{color:"#7161BA","&.Mui-checked":{color:"#7161BA"}}}),label:n("form.other")})]})}),N.errors.sex&&N.touched.sex&&(0,j.jsx)("p",{className:h.input_wrapper_error,children:N.errors.sex})]}),(0,j.jsxs)("div",{className:h.input_wrapper,children:[(0,j.jsx)(p.II,{className:h.input,icon:w.Z.Message,value:N.values.email,onChange:N.handleChange,name:"email",type:"text",placeholder:"Email"}),N.errors.email&&N.touched.email&&(0,j.jsx)("p",{className:h.input_wrapper_error,children:N.errors.email})]}),(0,j.jsxs)("div",{className:h.input_column,children:[(0,j.jsxs)("div",{className:h.input_wrapper,children:[(0,j.jsx)(p.II,{className:h.input,icon:w.Z.Lock,value:N.values.code,onChange:N.handleChange,name:"code",type:"text",placeholder:"M\xe3 x\xe1c th\u1ef1c"}),N.errors.code&&N.touched.code&&(0,j.jsx)("p",{className:h.input_wrapper_error,children:N.errors.code})]}),(0,j.jsx)(p.Rb,{className:h.btn_change_phone,title:"\u0110\u1ed5i s\u1ed1 \u0111i\u1ec7n tho\u1ea1i",onClick:()=>k(!0)})]}),(0,j.jsxs)("div",{className:h.input_wrapper,children:[(0,j.jsx)(p.II,{className:h.input,icon:w.Z.Lock,value:N.values.password,onChange:N.handleChange,name:"password",type:_.pass?"text":"password",placeholder:n("Home.Sign_in_pl_password")}),(0,j.jsx)("img",{onClick:()=>g({..._,pass:!_.pass}),className:h.input_wrapper_icon_show,src:_.pass?w.Z.eyeCrossPurple:w.Z.eye,alt:""}),N.errors.password&&N.touched.password&&(0,j.jsx)("p",{className:h.input_wrapper_error,children:N.errors.password})]}),(0,j.jsxs)("div",{className:h.input_wrapper,children:[(0,j.jsx)(p.II,{className:h.input,icon:w.Z.Lock,value:N.values.confirm_password,onChange:N.handleChange,name:"confirm_password",type:_.confirm?"text":"password",placeholder:n("form.confirm_password")}),(0,j.jsx)("img",{onClick:()=>g({..._,confirm:!_.confirm}),className:h.input_wrapper_icon_show,src:_.confirm?w.Z.eyeCrossPurple:w.Z.eye,alt:""}),N.errors.confirm_password&&N.touched.confirm_password&&(0,j.jsx)("p",{className:h.input_wrapper_error,children:N.errors.confirm_password})]}),(0,j.jsxs)("div",{className:h.input_wrapper,children:[(0,j.jsxs)("div",{className:h.sign_check_left,children:[(0,j.jsx)(t.Z,{value:N.values.agree,onChange:N.handleChange,name:"agree",sx:{color:"#7161BA","&.Mui-checked":{color:"#7161BA"}}}),(0,j.jsxs)("div",{className:h.form_policy,children:[n("form.i_agree"),(0,j.jsx)("span",{children:n("form.myspa_s_terms")})]})]}),N.errors.agree&&N.touched.agree&&(0,j.jsx)("p",{className:h.input_wrapper_error,children:N.errors.agree})]}),(0,j.jsx)("div",{className:h.form_submit_btn,children:(0,j.jsx)(p.Rb,{title:n("Home.Sign_up"),type:"submit",loading:l})})]}),(0,j.jsx)(x.C,{title:"Th\xf4ng b\xe1o",open:f.open,content:f.content,children:f.children,setOpen:()=>v({...f,open:!1})})]})]})},G=s(21272),X=s(94883),J=s(64192),Q=s(65209),ee=s(54138),ne=s(34879),se=s(39910);const ae=async(e,n)=>{try{se.Z.getLocation(),se.Z.showToast("truy c\u1eadp momo","success"),ne.G.showLoading([""]),ne.G.getUserConsents({permissions:[{role:"name"},{role:"phone"},{role:"email"}]},(async s=>{let{data:a,status:t}=s;const r={email:null===a||void 0===a?void 0:a.email,name:null===a||void 0===a?void 0:a.name,phone:null===a||void 0===a?void 0:a.phone};if(r.phone){const n=await ee.Z.login(r);window.sessionStorage.setItem("_WEB_TK",n.data.context.token),e&&e()}else te(e,n);return{data:a}}))}catch(s){n&&n(!1)}},te=(e,n)=>{alert("requestUserConsents"),ne.G.showLoading([""]),ne.G.requestUserConsents({permissions:[{role:"name",require:!0},{role:"phone",require:!0},{role:"email"}]},(async s=>{let{data:a,status:t}=s;if(a.phone){const n=await ee.Z.login(a);let s=n.data.status,t=n.data.context;200===s&&t&&t.token&&(window.sessionStorage.setItem("_WEB_TK",t.token),e&&e())}else ne.G.showToast({description:"c\xf3 l\u1ed7i khi nh\u1eadn th\xf4ng tin t\u1eeb momo",type:"failure",duration:2e3}),n&&n(!1),ne.G.hideLoading();return{data:a}}))};var re=s(94490),oe=s(19436),ie=s(80997),ce=s(70160),le=s(8955);var de=function(e){const{pathname:n,setClose:s}=e,t=(0,i.k6)(),[r,o]=(0,a.useState)(!1),l=(0,G.E)(),h=(0,c.I0)(),m=async()=>{try{(e=>{const{fetchAsyncUserAndinitApp:n,setLoad:s}=e;ae(n,s)})({fetchAsyncUserAndinitApp:f,setLoad:o})}catch(e){o(!1)}},u=async()=>{const e=sessionStorage.getItem("_loginToken"),n=await h((0,ce.Ak)({token:e}));if(n.meta.requestStatus===Q.T.FULFILLED)f();else if(n.meta.requestStatu===Q.T.REJECTED){const e=n.payload.response.data;"invalid-session-token"!==e.message&&"invalid-session-customer"!==e.message||401!==e.status||(alert("phi\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 h\u1ebft h\u1ea1n!"),(0,le.Zh)())}o(!1)};async function f(){if((await h((0,_.$8)())).payload&&h((0,g.om)(d()().format("YYYY-MM"))),s)return s(!1);n&&"/tai-khoan/thong-tin-ca-nhan"===n?t.push("/home"):t.goBack()}const x=(0,ie.Z)();return(0,a.useMemo)((()=>{null!==x&&void 0!==x&&x.requestId&&"success"===x.result.status?(async e=>{try{const n=await re.Z.login(e);window.sessionStorage.setItem("_WEB_TK",n.data.context.token),f(),o(!1)}catch(n){console.log(n),o(!1)}})(x.result.res):null!==x&&void 0!==x&&x.requestId&&"fail"===x.result.status&&o(!1)}),[x]),(0,j.jsxs)("div",{className:"flex-column login-re-cnt",children:[(0,j.jsx)("img",{src:w.Z.loginReq,alt:""}),(0,j.jsx)("span",{className:"title",children:"Y\xeau c\u1ea7u truy c\u1eadp th\xf4ng tin"}),(0,j.jsxs)("div",{className:"content",children:["Cho ph\xe9p s\u1eed d\u1ee5ng th\xf4ng tin"," ",(0,j.jsx)("span",{children:"H\u1ecd t\xean, S\u1ed1 \u0111i\u1ec7n tho\u1ea1i, Email"})," c\u1ee7a b\u1ea1n."]}),(0,j.jsx)(p.Rb,{title:"Cho ph\xe9p truy c\u1eadp",onClick:async()=>{switch(o(!0),l){case X.v.MOMO:m();break;case X.v.TIKI:(0,oe.ZP)({TYPE:"LOGIN",params:1});break;case X.v.MB:u()}},loading:r})]})};var pe=function(e){var n,s;const{t:t}=(0,a.useContext)(m.I),r=(0,G.E)(),o=(0,i.TH)(),c=null===o||void 0===o||null===(n=o.state)||void 0===n||null===(s=n.from)||void 0===s?void 0:s.pathname,[l,d]=(0,a.useState)(o.search?parseInt(o.search.slice(1,o.search.length)):1),u=[{id:1,title:t("Home.Sign_in")},{id:2,title:t("Home.Sign_up")}];return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"page-sign",children:r===X.v.BEAUTYX?(0,j.jsx)(k.Z,{children:(0,j.jsxs)("div",{className:h.container,children:[(0,j.jsx)("img",{src:J.ZP.beautyx,alt:"",className:h.left_cnt_icon_mb}),(0,j.jsxs)("div",{className:h.left_cnt,children:[(0,j.jsx)("img",{className:h.left_cnt_img,src:J.ZP.beautyX,alt:""}),(0,j.jsx)("img",{className:h.left_cnt_img_partner,src:J.ZP.Partner,alt:""})]}),(0,j.jsxs)("div",{className:h.right_cnt,children:[(0,j.jsx)("div",{className:h.right_cnt_tab_btn,children:u.map((e=>(0,j.jsx)(p.Rb,{className:e.id===l?h.btn_active:"",title:e.title,onClick:()=>d(e.id)},e.id)))}),(()=>{switch(l){case 1:return(0,j.jsx)(b,{activeTabSign:l,setActiveTabSign:d,t:t});case 2:return(0,j.jsx)(D,{activeTabSign:l,setActiveTabSign:d})}})()]})]})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.xE,{}),(0,j.jsx)(k.Z,{children:(0,j.jsx)(de,{pathname:c})})]})})})}},94454:function(e,n,s){s.d(n,{Z:function(){return Z}});var a=s(63366),t=s(87462),r=s(72791),o=s(94419),i=s(12065),c=s(97278),l=s(76189),d=s(80184),p=(0,l.Z)((0,d.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),h=(0,l.Z)((0,d.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=(0,l.Z)((0,d.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),u=s(14036),_=s(31402),g=s(66934),f=s(21217);function x(e){return(0,f.Z)("MuiCheckbox",e)}var v=(0,s(75878).Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]);const w=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],j=(0,g.ZP)(c.Z,{shouldForwardProp:e=>(0,g.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:s}=e;return[n.root,s.indeterminate&&n.indeterminate,"default"!==s.color&&n[`color${(0,u.Z)(s.color)}`]]}})((e=>{let{theme:n,ownerState:s}=e;return(0,t.Z)({color:(n.vars||n).palette.text.secondary},!s.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${"default"===s.color?n.vars.palette.action.activeChannel:n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:(0,i.Fq)("default"===s.color?n.palette.action.active:n.palette[s.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==s.color&&{[`&.${v.checked}, &.${v.indeterminate}`]:{color:(n.vars||n).palette[s.color].main},[`&.${v.disabled}`]:{color:(n.vars||n).palette.action.disabled}})})),b=(0,d.jsx)(h,{}),k=(0,d.jsx)(p,{}),C=(0,d.jsx)(m,{});var Z=r.forwardRef((function(e,n){var s,i;const c=(0,_.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:l=b,color:p="primary",icon:h=k,indeterminate:m=!1,indeterminateIcon:g=C,inputProps:f,size:v="medium"}=c,Z=(0,a.Z)(c,w),S=m?g:h,y=m?g:l,N=(0,t.Z)({},c,{color:p,indeterminate:m,size:v}),I=(e=>{const{classes:n,indeterminate:s,color:a}=e,r={root:["root",s&&"indeterminate",`color${(0,u.Z)(a)}`]},i=(0,o.Z)(r,x,n);return(0,t.Z)({},n,i)})(N);return(0,d.jsx)(j,(0,t.Z)({type:"checkbox",inputProps:(0,t.Z)({"data-indeterminate":m},f),icon:r.cloneElement(S,{fontSize:null!=(s=S.props.fontSize)?s:v}),checkedIcon:r.cloneElement(y,{fontSize:null!=(i=y.props.fontSize)?i:v}),ownerState:N,ref:n},Z,{classes:I}))}))},15993:function(){}}]);
//# sourceMappingURL=791.d0ae81b1.chunk.js.map