"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[95],{47095:function(e,s,t){t.r(s),t.d(s,{default:function(){return u}});var a=t(99431),i=t(77072),l=t(27565),_=t(34328),n=t(46244),c=t(30417),o=t(76397),r=t(58672),d=t(8426),h=t(44015),m=t(69896),g=(t(34262),t(2742),t(35944),t(77113),t(3936)),p=t(27929);const x=()=>(0,p.jsxs)("div",{className:c.A.load,children:["\u0110ang t\u1ea3i...",(0,p.jsx)(g.A,{size:14})]});var f={container:"message_container__AxLpV",left:"message_left__k4A+R",left_head:"message_left_head__T--mk",left_head_top:"message_left_head_top__TNK6L",left_head_txt:"message_left_head_txt__MsKN9",left_head_bot:"message_left_head_bot__gwXBX",left_body:"message_left_body__xLWq0",topic:"message_topic__bGPa4",topic_left_img:"message_topic_left_img__s85aR",topic_left_online:"message_topic_left_online__7lGks",topic_right:"message_topic_right__B9HX4",topic_name:"message_topic_name__VZ3tS",topic_message:"message_topic_message__Cxfkf",right:"message_right__T+jke",left_ch:"message_left_ch__pIzTj",right_ch:"message_right_ch__Yr32q"},v=t(96509),j=t(69530);var u=function(){const{t:e}=(0,l.useContext)(m.BR),{USER:s}=(0,a.As)(),[t]=(0,l.useState)(i.cu),n=(0,_.zy)(),{onSetDebounceKeyword:c}=(0,a.d7)(),[d,g]=(0,l.useState)(""),u=n.pathname.split("/")[2],{resData:b,onLoadMore:k,totalItem:y,isValidating:A,revalidate:w}=(0,a.wX)({API_URL:"topics",enable:s,params:Object.assign(t,{s:d}),dedupingInterval:0});return(0,a.dV)({onListenerMsg:e=>{w()}}),(0,p.jsxs)("div",{className:f.container,children:[(0,p.jsxs)("div",{className:u?`${f.left} ${f.left_ch}`:f.left,children:[(0,p.jsxs)("div",{className:f.left_head,children:[(0,p.jsxs)("div",{className:f.left_head_top,children:[(0,p.jsx)("span",{className:f.left_head_txt,children:"Chat"}),(0,p.jsx)("div",{className:f.left_head_ctl})]}),(0,p.jsxs)("div",{className:f.left_head_bot,children:[(0,p.jsx)("img",{src:r.A.searchGray,alt:""}),(0,p.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm trong tin nh\u1eafn...",onChange:e=>{return s=e.target.value,void c({text:s,callback:e=>g(e)});var s}})]})]}),(0,p.jsxs)("div",{className:f.left_body,children:[!A&&0===b.length&&(0,p.jsx)(o.Wy,{isRecommend:!1,title:e("Search_result.emty_message")}),(0,p.jsx)(h.A,{hasMore:!0,height:"calc(100vh - 172px)",dataLength:b.length,loader:b.length<y&&(0,p.jsx)(x,{}),next:()=>{b.length<y&&k()},children:(0,p.jsx)("ul",{className:f.topic_list,children:b.map((e=>(0,p.jsx)("li",{className:f.topic_cnt,children:(0,p.jsx)(N,{item:e})},e._id)))})})]})]}),(0,p.jsx)(_.dO,{children:(0,p.jsx)(v.A,{children:(0,p.jsx)(_.qh,{path:"/messages/:_id",children:(0,p.jsx)("div",{style:{backgroundColor:"var(--white)"},className:u?`${f.right} ${f.right_ch}`:f.right,children:(0,p.jsx)(j.y,{})})})})})]})};const N=e=>{var s,t,a,i;let{item:l}=e;const c=(0,_.zy)();let o=l.name;var r;0!==(null===(s=l.name)||void 0===s?void 0:s.trim().length)&&l.name||(o=(0,d.Am)(null===(r=l.topic_user)||void 0===r?void 0:r.map((e=>{var s;return null===(s=e.user)||void 0===s?void 0:s.fullname})).filter(Boolean)).join(", "));const h=c.pathname.split("/")[2];return(0,p.jsxs)(n.N_,{style:l._id===h?{backgroundColor:"var(--bg-color)"}:{},to:{pathname:`/messages/${l._id}`,state:l},className:f.topic,children:[(0,p.jsx)("div",{className:f.topic_left,children:(0,p.jsxs)("div",{className:f.topic_left_img,children:[(0,p.jsx)("img",{src:(null===(t=l.organization)||void 0===t?void 0:t.image_url)||"",onError:d.fi,alt:""}),(0,p.jsx)("span",{className:f.topic_left_online})]})}),(0,p.jsxs)("div",{className:f.topic_right,children:[(0,p.jsx)("span",{className:f.topic_name,children:(null===(a=l.organization)||void 0===a?void 0:a.name)||o}),(0,p.jsxs)("div",{className:f.topic_message,children:[(0,p.jsx)("span",{children:null===(i=l.messages[0])||void 0===i?void 0:i.msg}),(0,p.jsx)("span",{children:(0,d.i1)(l.updated_at)})]})]})]})}}}]);
//# sourceMappingURL=95.6f9e819c.chunk.js.map