{"version":3,"file":"static/js/588.4b2338c6.chunk.js","mappings":"iMACA,EAA4B,2BAA5B,EAA0E,kCAA1E,EAAwL,4B,sBCAxL,GAAgB,eAAiB,8BAA8B,KAAO,oBAAoB,UAAY,0B,WCI/F,SAASA,EAAeC,GAAmC,IAAlC,OAAEC,GAA6BD,EAC3D,OACIE,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACIF,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAAA,KAAWF,UACvBF,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAAA,eAAqBF,UAC1B,OAANH,QAAM,IAANA,OAAM,EAANA,EAAQM,gBAAgBC,EAAAA,EAAAA,IAAMP,EAAOM,mBAK1D,C,cCTO,SAASE,EAAgBT,GAAmC,IAADU,EAAAC,EAAAC,EAAA,IAAjC,OAAEX,GAA6BD,EAC5D,MAAMa,IAAYZ,EACZa,EAAiB,QAAdJ,EAAS,OAANT,QAAM,IAANA,OAAM,EAANA,EAAQa,WAAG,IAAAJ,EAAAA,EAAI,IACrB,SAAEK,IAAaC,EAAAA,EAAAA,IAASH,EAAWC,GACzC,OACIZ,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACIF,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAAA,KAAWF,UACvBF,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAAA,eAAqBF,UACjCF,EAAAA,EAAAA,KAAA,MAAIG,UAAWC,EAAAA,UAAgBF,SAEf,OAARW,QAAQ,IAARA,GAAiB,QAATJ,EAARI,EAAUE,eAAO,IAAAN,GAAM,QAANC,EAAjBD,EAAmBO,YAAI,IAAAN,OAAf,EAARA,EAAyBO,KAAI,CAACC,EAAmBC,KAC7CnB,EAAAA,EAAAA,KAAA,MAAgBG,UAAWC,EAAAA,eAAqBF,UAC5CF,EAAAA,EAAAA,KAACoB,EAAAA,GAAe,CACZC,YAAaH,KAFZC,YAYzC,C,0DChBO,MAAMG,EAAgCxB,IAAiB,IAADU,EAAAe,EAAA,IAAf,OAAExB,GAAQD,EACtD,MAAM0B,EAASC,EAAAA,MAA4B,QAAXjB,EAACT,EAAOa,WAAG,IAAAJ,EAAAA,EAAI,KACzC,KAAEQ,IAASU,EAAAA,EAAAA,GAAiB,CAChCC,SAAU,CAAC,gBAAiB5B,EAAOa,KACnCgB,QAASC,IAAA,IAAC,UAAEC,EAAY,GAAGD,EAAA,OAAKE,EAAAA,EAAAA,IAAUP,EAAOQ,IAAK,CACpDR,OAAQ,CACNS,KAAMH,KACHN,KAEJU,MAAKC,GAAOA,EAAInB,KAAKD,SAAQ,EAChCqB,UAASZ,EAAOQ,IAChBK,UAAWC,EAAAA,KAEPC,GAAgB,OAAJvB,QAAI,IAAJA,GAAW,QAAPO,EAAJP,EAAMwB,aAAK,IAAAjB,OAAP,EAAJA,EAAaN,KAAIwB,GAAKA,EAAEzB,OAAM0B,OAAOC,QAAOF,GAAoB,YAAfA,EAAEG,aAA2B,GAChG,OACE5C,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAAA,KAAWF,UACzBF,EAAAA,EAAAA,KAAC6C,EAAAA,EAAY,CACXN,UAAWA,EACXO,UAAWP,EAAUQ,YAGxB,E,oCCWP,MAjCA,WAAuB,IAADvC,EAAAwC,EAClB,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAAUC,EAAAA,EAAAA,MAEVC,GADcC,EAAAA,EAAAA,MACFD,IACZ,SAAExC,EAAQ,aAAE0C,IAAiBC,EAAAA,EAAAA,IAAO,CAAEC,QAAU,YAAWJ,IAAMK,OAAQL,IAC/E,IAAIM,GAAS,EACRN,IAAQxC,GAAa0C,KAAeI,GAAS,GAClD,MAAM5D,EAAkBc,GACxB+C,EAAAA,EAAAA,YAAU,KACe,kBAAX,OAAN7D,QAAM,IAANA,OAAM,EAANA,EAAQ8D,OAAyBV,EAAQW,QAAS,aAAY/D,EAAOgE,YAAY,GACtF,CAAChE,IACJ,MAAMiE,EAAWvC,EAAAA,MAA6B,QAAZjB,EAAO,OAANT,QAAM,IAANA,OAAM,EAANA,EAAQa,WAAG,IAAAJ,EAAAA,EAAI,IAClD,OACIyD,EAAAA,EAAAA,MAAAhE,EAAAA,SAAA,CAAAC,SAAA,EACI+D,EAAAA,EAAAA,MAAAhE,EAAAA,SAAA,CAAAC,SAAA,CACK+C,IAASjD,EAAAA,EAAAA,KAACkE,EAAAA,EAAU,CAACC,MAAmB,QAAdnB,EAAQ,OAANjD,QAAM,IAANA,OAAM,EAANA,EAAQqE,YAAI,IAAApB,EAAAA,EAAI,MAC7ChD,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAgBF,UAC5B+D,EAAAA,EAAAA,MAACI,EAAAA,EAAS,CAAAnE,SAAA,EACNF,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAuBF,UACnCF,EAAAA,EAAAA,KAAA,OAAKG,UAAWC,EAAkBkE,IAAKN,EAASO,YAAmB,OAANxE,QAAM,IAANA,OAAM,EAANA,EAAQyE,UAAUC,IAAI,OAErE,mBAAX,OAAN1E,QAAM,IAANA,OAAM,EAANA,EAAQ8D,QAA4B7D,EAAAA,EAAAA,KAACO,EAAgB,CAACR,OAAQA,IAC7C,UAAX,OAANA,QAAM,IAANA,OAAM,EAANA,EAAQ8D,QAAmB7D,EAAAA,EAAAA,KAACH,EAAe,CAACE,OAAQA,IACnC,WAAX,OAANA,QAAM,IAANA,OAAM,EAANA,EAAQ8D,QAAoB7D,EAAAA,EAAAA,KAACsB,EAAS,CAACvB,OAAQA,aAI1D4D,IAAU3D,EAAAA,EAAAA,KAAC0E,EAAAA,EAAY,MAGrC,C","sources":["webpack://web-booking/./src/pages/LandingPage/landing.module.css?1e02","webpack://web-booking/./src/pages/LandingPage/components/style.module.css?8ea2","pages/LandingPage/components/TypeLandingPage.tsx","pages/LandingPage/components/TypeSearchResult.tsx","pages/LandingPage/components/TypePopup.tsx","pages/LandingPage/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"landing_container__NIgt1\",\"banner_container\":\"landing_banner_container__XqG1L\",\"banner_container_load\":\"landing_banner_container_load__hO02x\",\"banner_img\":\"landing_banner_img__XYIht\"};","// extracted by mini-css-extract-plugin\nexport default {\"body_container\":\"style_body_container__Uaxxb\",\"body\":\"style_body__9FKpr\",\"list_item\":\"style_list_item__pFGXm\"};","import { IBanner } from 'interface/banner';\nimport React from 'react';\nimport parse from 'html-react-parser'\nimport style from './style.module.css'\n\nexport function TypeLandingPage({ banner }: { banner: IBanner }) {\n    return (\n        <>\n            <div className={style.body}>\n                <div className={style.body_container}>\n                    {banner?.htmlTemplate && parse(banner.htmlTemplate)}\n                </div>\n            </div>\n        </>\n    );\n}","import { IBanner } from 'interface/banner';\nimport { useFetch } from 'hooks';\nimport { ProductableItem } from 'components/Layout'\nimport style from \"./style.module.css\"\nimport { Productable } from 'interface';\n\nexport function TypeSearchResult({ banner }: { banner: IBanner }) {\n    const condition = banner ? true : false\n    const url = banner?.url ?? \"\"\n    const { response } = useFetch(condition, url)\n    return (\n        <>\n            <div className={style.body}>\n                <div className={style.body_container}>\n                    <ul className={style.list_item}>\n                        {\n                            response?.context?.data?.map((item: Productable, index: number) => (\n                                <li key={index} className={style.item_container}>\n                                    <ProductableItem\n                                        productable={item}\n                                    />\n                                </li>\n                            ))\n                        }\n                    </ul>\n                </div>\n            </div>\n        </>\n    );\n}","import { IBanner } from \"interface\";\nimport { FC } from \"react\";\nimport style from './style.module.css'\nimport queryString from \"query-string\"\nimport { useInfiniteQuery } from \"@tanstack/react-query\";\nimport axios from \"axios\";\nimport { STALE_TIME } from \"config\";\nimport { DiscountList } from \"pages/Discounts\";\n\ninterface TypePopupProps {\n  banner: IBanner\n}\n\nexport const TypePopup: FC<TypePopupProps> = ({ banner }) => {\n  const params = queryString.parse(banner.url ?? '') as any\n  const { data } = useInfiniteQuery({\n    queryKey: ['LANDING_POPUP', banner.url],\n    queryFn: ({ pageParam = 1 }) => axios.get(params.api, {\n      params: {\n        page: pageParam,\n        ...params\n      }\n    }).then(res => res.data.context),\n    enabled: params.api ? true : false,\n    staleTime: STALE_TIME\n  })\n  const discounts = data?.pages?.map(i => i.data).flat().filter(i => i.platform === \"BEAUTYX\") || []\n  return (\n    <>\n      <div className={style.body}>\n        <DiscountList\n          discounts={discounts}\n          totalItem={discounts.length}\n        />\n      </div>\n    </>\n  )\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport { useDeviceMobile, useSwr } from 'hooks'\nimport PageNotFound from 'components/PageNotFound';\nimport { IBanner } from 'interface/banner'\nimport style from './landing.module.css'\nimport { Container } from '@mui/material';\nimport { TypeLandingPage, TypeSearchResult, TypePopup } from \"./components\"\nimport { useHistory } from 'react-router-dom';\nimport HeadMobile from 'features/HeadMobile';\nimport { extraParamsUrl } from 'utils';\nimport queryString from \"query-string\"\n\nfunction LadingPage() {\n    const IS_MB = useDeviceMobile()\n    const history = useHistory()\n    const params: any = extraParamsUrl()\n    const id = params.id\n    const { response, isValidating } = useSwr({ API_URL: `/banners/${id}`, enable: id })\n    let render = true\n    if (!id || (!response && !isValidating)) render = false\n    const banner: IBanner = response\n    useEffect(() => {\n        if (banner?.type === \"ORGANIZATION\") history.replace(`/cua-hang/${banner.origin_id}`)\n    }, [banner])\n    const qrParams = queryString.parse(banner?.url ?? '') as any\n    return (\n        <>\n            <>\n                {IS_MB && <HeadMobile title={banner?.name ?? \"\"} />}\n                <div className={style.container}>\n                    <Container>\n                        <div className={style.banner_container}>\n                            <img className={style.banner_img} src={qrParams.thumbnail || banner?.imageURL} alt=\"\" />\n                        </div>\n                        {banner?.type === \"SEARCH_RESULT\" && <TypeSearchResult banner={banner} />}\n                        {banner?.type === \"HTML\" && <TypeLandingPage banner={banner} />}\n                        {banner?.type === \"POPUP\" && <TypePopup banner={banner} />}\n                    </Container>\n                </div>\n            </>\n            {!render && <PageNotFound />}\n        </>\n    );\n}\n\nexport default LadingPage;"],"names":["TypeLandingPage","_ref","banner","_jsx","_Fragment","children","className","style","htmlTemplate","parse","TypeSearchResult","_banner$url","_response$context","_response$context$dat","condition","url","response","useFetch","context","data","map","item","index","ProductableItem","productable","TypePopup","_data$pages","params","queryString","useInfiniteQuery","queryKey","queryFn","_ref2","pageParam","axios","api","page","then","res","enabled","staleTime","STALE_TIME","discounts","pages","i","flat","filter","platform","DiscountList","totalItem","length","_banner$name","IS_MB","useDeviceMobile","history","useHistory","id","extraParamsUrl","isValidating","useSwr","API_URL","enable","render","useEffect","type","replace","origin_id","qrParams","_jsxs","HeadMobile","title","name","Container","src","thumbnail","imageURL","alt","PageNotFound"],"sourceRoot":""}