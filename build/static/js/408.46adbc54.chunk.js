"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[408],{89408:function(e,i,a){a.r(i),a.d(i,{default:function(){return z}});var t=a(61450),r=a(34328),s=a(27565),n=a(4086),l=a(32461),c="list-reflect_wrapper__r-TCG",o="list-reflect_header__S8msS",d="list-reflect_tableWrapper__E0cW4",p="list-reflect_table__rzGP+",m="list-reflect_paginationButton__X+MHg",h="list-reflect_pagination__MoTKW",u="list-reflect_pageInfo__+BaG9",x=a(58672),_=a(23691),j=a(94605),N=a(27929);var g=function(){const[e,i]=(0,s.useState)(1),{t:a}=(0,j.B)(),{data:t,isLoading:r,isError:g}=(0,n.I)({queryKey:["feedback-org-socials",e],queryFn:async()=>(await l.gy.get(`${_.A.API_NODE}/feedback-org-socials?page=${e}&limit=15`)).data.data.context,keepPreviousData:!0});return(0,N.jsxs)("div",{className:c,children:[(0,N.jsx)("h1",{className:o,children:a("reception.headerTitle")}),(0,N.jsx)("div",{className:d,children:(0,N.jsxs)("table",{className:p,children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{children:a("reception.theadCreatedDate")}),(0,N.jsx)("th",{children:a("reception.theadOrgName")}),(0,N.jsx)("th",{children:a("reception.theadOrgNumber")}),(0,N.jsx)("th",{children:a("reception.theadContent")})]})}),(0,N.jsx)("tbody",{children:r?(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:4,children:a("reception.loadingData")})}):g?(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:4,children:a("reception.errorLoadingData")})}):(null===t||void 0===t?void 0:t.data.length)>0?t.data.map((e=>(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString("vi-VN")}),(0,N.jsx)("td",{children:e.org_social_name}),(0,N.jsx)("td",{children:e.org_social_number}),(0,N.jsx)("td",{children:e.org_social_content})]},e._id))):(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:4,children:a("reception.noData")})})})]})}),t&&t.total_page>1&&(0,N.jsxs)("div",{className:h,children:[(0,N.jsx)("button",{onClick:()=>{e>1&&i((e=>e-1))},disabled:1===e,className:m,children:(0,N.jsx)("img",{src:x.A.arrownLeftWhite,alt:""})}),(0,N.jsxs)("p",{className:u,children:[a("reception.paginationPage")," ",e," /"," ",t.total_page]}),(0,N.jsx)("button",{onClick:()=>{t&&e<t.total_page&&i((e=>e+1))},disabled:e===t.total_page,className:m,children:(0,N.jsx)("img",{src:x.A.arrownRightWhite,alt:""})})]})]})},f={wrapper:"reception_wrapper__L0S44",title:"reception_title__Gzalp",container:"reception_container__bpDwg",info:"reception_info__NAsym",infoText:"reception_infoText__Qfgil",socialIcons:"reception_socialIcons__4ll0o",required:"reception_required__bY4rF",form:"reception_form__32y0-",formGroup:"reception_formGroup__6LbFa",input:"reception_input__98I3G",textarea:"reception_textarea__CLL32",error:"reception_error__laerK",uploadBox:"reception_uploadBox__8gqOU",uploadText:"reception_uploadText__duU6V",submitButton:"reception_submitButton__Fa3gm",previewList:"reception_previewList__CGyFN",previewContainer:"reception_previewContainer__yzEKs",previewImage:"reception_previewImage__phfXH",removeButton:"reception_removeButton__vK5P0"},b=a(96483),v=a(95150),L=a(5135),w=a(76397),y=a(6e4),C=a(57633),q=a(80201);const D={organizationName:"",decisionNumber:"",email:"",content:"",files:[]},k=e=>q.A.post(`${_.A.API_NODE}/feedback-org-socials`,e,{headers:{"Content-Type":"application/json"}});var F=function(){const{handlePostMedia:e,isLoading:i}=(0,v.jJ)(),[a,t]=(0,s.useState)([]),{mutate:r}=(0,C.n)({mutationFn:e=>k(e)}),{t:n}=(0,j.B)(),l=L.Ik({organizationName:L.Yj().required(n("receptionList.validateOrganizationNameRequired")),decisionNumber:L.Yj().required(n("receptionList.validateDecisionNumberRequired")),email:L.Yj().email(n("receptionList.validateEmailFormat")).required(n("receptionList.validateEmailRequired")),content:L.Yj().required(n("receptionList.validateContentRequired")),files:L.YO().min(1,n("receptionList.validateFilesMin")).required(n("receptionList.validateFilesRequired"))}),{recaptcha_key:c,recaptcha:o,refreshReCaptcha:d,onRefreshRecaptcha:p,verifyRecaptchaCallback:m}=(0,v.Vq)();return(0,N.jsxs)("div",{className:f.wrapper,children:[(0,N.jsx)("h2",{className:f.title,children:n("receptionList.pageTitle")}),(0,N.jsxs)("div",{className:f.container,children:[(0,N.jsxs)("div",{className:f.info,children:[(0,N.jsx)("h4",{children:n("receptionList.companyName")}),(0,N.jsxs)("p",{className:f.infoText,children:[(0,N.jsxs)("strong",{children:[n("receptionList.taxCode"),":"]}),(0,N.jsx)("p",{children:"0110721653"})]}),(0,N.jsxs)("p",{className:f.infoText,children:[(0,N.jsxs)("strong",{children:["\ud83d\udccd ",n("receptionList.address"),":"]}),(0,N.jsx)("p",{children:n("receptionList.addressDetail")})]}),(0,N.jsxs)("p",{className:f.infoText,children:[(0,N.jsxs)("strong",{children:["\ud83d\udcde ",n("receptionList.phone"),":"]}),(0,N.jsx)("p",{children:n("receptionList.phoneNumber")})]}),(0,N.jsxs)("p",{className:f.infoText,children:[(0,N.jsxs)("strong",{children:["\ud83d\udce7 ",n("receptionList.email"),":"]}),(0,N.jsx)("p",{children:n("receptionList.emailAddress")})]})]}),(0,N.jsxs)(y.G3,{reCaptchaKey:c,scriptProps:{async:!0,defer:!0,appendTo:"head",nonce:void 0},children:[(0,N.jsx)(b.l1,{initialValues:D,validationSchema:l,onSubmit:async(e,i)=>{let{resetForm:a}=i;if(p(),!o)return void w.W1.open({title:n("receptionList.validateRecaptchaWarning"),type:"warning"});const s={org_social_name:e.organizationName,org_social_number:e.decisionNumber,org_social_email:e.email,org_social_content:e.content,org_social_files:e.files.map((e=>e.original_url)),recaptcha:o||""};r(s,{onSuccess:()=>{w.W1.open({title:n("receptionList.submitSuccess"),type:"success"}),a(),t([]),p()},onError:e=>{w.W1.open({title:n("receptionList.submitError"),type:"error"}),console.error("Submit error:",e),p()}})},children:r=>{let{setFieldValue:s,values:l}=r;return(0,N.jsxs)(b.lV,{className:f.form,children:[(0,N.jsxs)("div",{className:f.formGroup,children:[(0,N.jsxs)("label",{htmlFor:"organizationName",className:f.label,children:[n("receptionList.fieldOrganizationName"),(0,N.jsx)("span",{className:f.required,children:"*"})]}),(0,N.jsx)(b.D0,{id:"organizationName",name:"organizationName",type:"text",placeholder:n("receptionList.placeholderOrganizationName"),className:f.input}),(0,N.jsx)(b.Kw,{name:"organizationName",component:"div",className:f.error})]}),(0,N.jsxs)("div",{className:f.formGroup,children:[(0,N.jsxs)("label",{htmlFor:"decisionNumber",className:f.label,children:[n("receptionList.fieldDecisionNumber"),(0,N.jsx)("span",{className:f.required,children:"*"})]}),(0,N.jsx)(b.D0,{id:"decisionNumber",name:"decisionNumber",type:"text",placeholder:n("receptionList.placeholderDecisionNumber"),className:f.input}),(0,N.jsx)(b.Kw,{name:"decisionNumber",component:"div",className:f.error})]}),(0,N.jsxs)("div",{className:f.formGroup,children:[(0,N.jsxs)("label",{htmlFor:"email",className:f.label,children:[n("receptionList.fieldEmail"),(0,N.jsx)("span",{className:f.required,children:"*"})]}),(0,N.jsx)(b.D0,{id:"email",name:"email",type:"email",placeholder:n("receptionList.placeholderEmail"),className:f.input}),(0,N.jsx)(b.Kw,{name:"email",component:"div",className:f.error})]}),(0,N.jsxs)("div",{className:f.formGroup,children:[(0,N.jsxs)("label",{htmlFor:"content",className:f.label,children:[n("receptionList.fieldContent"),(0,N.jsx)("span",{className:f.required,children:"*"})]}),(0,N.jsx)(b.D0,{id:"content",name:"content",as:"textarea",placeholder:n("receptionList.placeholderContent"),rows:5,className:f.textarea}),(0,N.jsx)(b.Kw,{name:"content",component:"div",className:f.error})]}),(0,N.jsxs)("div",{className:f.formGroup,children:[(0,N.jsxs)("label",{htmlFor:"files",className:f.label,children:[n("receptionList.fieldAttachImages"),(0,N.jsx)("span",{className:f.required,children:"*"})]}),(0,N.jsxs)("div",{className:f.uploadBox,children:[(0,N.jsx)("input",{id:"files",name:"files",type:"file",accept:"image/*",multiple:!0,onChange:i=>((i,a,r)=>{e({e:i,callBack:e=>{const i=[...r,...e];a("files",i),t(i)}})})(i,s,l.files),className:f.uploadInput}),(0,N.jsx)("span",{className:f.uploadText,children:(0,N.jsx)("img",{src:x.A.addImg,alt:n("receptionList.uploadPlaceholder"),className:f.uploadIcon})})]}),(0,N.jsx)(b.Kw,{name:"files",component:"div",className:f.error})]}),a.length>0&&(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("div",{className:f.previewList,children:a.map(((e,a)=>(0,N.jsxs)("div",{className:f.previewContainer,children:[(0,N.jsx)("img",{src:e.original_url,alt:`preview-${a}`,className:f.previewImage}),(0,N.jsx)("button",{type:"button",className:f.removeButton,disabled:i,onClick:()=>((e,i,a)=>{const r=[...a];r.splice(e,1),i("files",r),t(r)})(a,s,l.files),children:(0,N.jsx)("img",{src:x.A.xCircleRed,alt:""})})]},a)))})}),(0,N.jsx)(w.b2,{type:"submit",className:f.submitButton,loading:i,title:n("receptionList.submitButton")})]})}}),(0,N.jsx)(y.z2,{refreshReCaptcha:d,onVerify:m})]})]})]})};var z=function(){const e=(0,r.zy)().pathname.endsWith("/list");return(0,N.jsx)(t.A,{children:e?(0,N.jsx)(g,{}):(0,N.jsx)(F,{})})}}}]);
//# sourceMappingURL=408.46adbc54.chunk.js.map