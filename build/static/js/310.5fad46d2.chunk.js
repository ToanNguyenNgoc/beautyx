"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[310,770],{92750:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});var i=t(72791),s=t(34088),l=t(20030),n=t(10266),r=t(43896),d=t(83449),c=t(59064),_=t(82851),o=t(15394),p=t(93080),m=t(19598),h=t(30167),v=t(17983),u=t(72426),x=t.n(u),j=t(97892),g=t.n(j),f=t(76012),N=t(20181),b=t(96755),y=t(16030),k=t(66875),Z=t(24483),w={cal_cnt:"app_cal_cnt__hbfkg",cal_left_cnt:"app_cal_left_cnt__BZQnJ",cal_left_date:"app_cal_left_date__-G-i7",cal_left_status:"app_cal_left_status__YUc3+",cal_left_status_title:"app_cal_left_status_title__n5z9u",list_status:"app_list_status__7q99w",status_item:"app_status_item__bz--z",status_item_text:"app_status_item_text__nFhGq",cal_right_cnt:"app_cal_right_cnt__DCeY6",week_cont:"app_week_cont__Xuk93",week_day_item:"app_week_day_item__5dMNh",week_apps_cnt:"app_week_apps_cnt__WOwoe",week_app_item:"app_week_app_item__OqdrA",app_item_qr:"app_app_item_qr__27r8y",app_item:"app_app_item__IK5o4",app_item_info:"app_app_item_info__nS1gx",app_item_status:"app_app_item_status__OoNwm",app_item_time:"app_app_item_time__zoQES",app_item_org:"app_app_item_org__n0kIP",app_item_address:"app_app_item_address__B1+Vo",app_item_bottom:"app_app_item_bottom__CWTRu",app_item_bottom_qr:"app_app_item_bottom_qr__SsAWc",app_item_org_img:"app_app_item_org_img__8Yh+V",app_item_icon:"app_app_item_icon__U57nj",app_icon_scan_btn:"app_app_icon_scan_btn__+vqx4",app_item_services:"app_app_item_services__bhmwr",app_item_head:"app_app_item_head__-dHRL",app_item_detail:"app_app_item_detail__-sYBa",app_item_service_name:"app_app_item_service_name__kbfEK"},C=t(29818),S={app_detail_cnt:"appdetail_app_detail_cnt__alg1K",app_detail_head:"appdetail_app_detail_head__t0as-",app_detail_head_text:"appdetail_app_detail_head_text__20maN",app_detail_head_time:"appdetail_app_detail_head_time__ajHmm",app_detail_date:"appdetail_app_detail_date__6md-l",app_detail_head_status:"appdetail_app_detail_head_status__KnVY4",app_detail_body:"appdetail_app_detail_body__mYPog",app_detail_body_left:"appdetail_app_detail_body_left__QjIK5",app_detail_body_right:"appdetail_app_detail_body_right__PAUN+",app_detail_title:"appdetail_app_detail_title__y8OIt",app_services:"appdetail_app_services__N0zL4",app_service_item:"appdetail_app_service_item__3yi9Y",app_service_item_img:"appdetail_app_service_item_img__lmpoa",app_service_item_de:"appdetail_app_service_item_de__Hhr6x",service_name:"appdetail_service_name__UWw6f",service_detail_item:"appdetail_service_detail_item__pXa3u",app_service_item_price:"appdetail_app_service_item_price__ESjG2",app_detail_body_right_section:"appdetail_app_detail_body_right_section__vuBZP",app_detail_body_right_text:"appdetail_app_detail_body_right_text__iPrA4",app_detail_head_left:"appdetail_app_detail_head_left__Z6yeX",mb_right:"appdetail_mb_right__IJzQZ"},E=t(71269),Y=t(80184);var I=function(e){var a,t,i,s;const{open:l,setOpen:n,app:r}=e,d=(0,N.oG)();return(0,Y.jsx)(C.Z,{open:l,onClose:()=>n(!1),fullScreen:d&&!0,children:(0,Y.jsxs)("div",{className:S.app_detail_cnt,children:[(0,Y.jsxs)("div",{className:S.app_detail_head,children:[(0,Y.jsxs)("div",{className:S.app_detail_head_left,children:[(0,Y.jsx)("button",{onClick:()=>n(!1),children:(0,Y.jsx)("img",{src:p.Z.chevronLeft,alt:"",width:26,height:26})}),(0,Y.jsx)("span",{className:S.app_detail_head_text,children:"Th\xf4ng tin l\u1ecbch h\u1eb9n"}),(0,Y.jsx)("div",{className:S.mb_right})]}),(0,Y.jsxs)("div",{className:S.app_detail_head_time,children:[(0,Y.jsxs)("div",{style:{display:"flex"},children:[(0,Y.jsxs)("div",{className:S.app_detail_date,children:["ng\xe0y: ",(0,Y.jsx)("span",{children:g()(r.time_start).format("DD/MM/YYYY")})]}),(0,Y.jsxs)("div",{className:S.app_detail_date,children:["Gi\u1edd: ",(0,Y.jsx)("span",{children:g()(r.time_start).format("hh:mm A")})]})]}),(0,Y.jsx)("div",{className:S.app_detail_head_status,children:r.status})]})]}),(0,Y.jsxs)("div",{className:S.app_detail_body,children:[(0,Y.jsxs)("div",{className:S.app_detail_body_left,children:[(0,Y.jsx)("span",{className:S.app_detail_title,children:"Danh s\xe1ch d\u1ecbch v\u1ee5"}),(0,Y.jsx)("ul",{className:S.app_services,children:null===(a=r.services)||void 0===a?void 0:a.map(((e,a)=>{var t;return(0,Y.jsxs)("li",{className:S.app_service_item,children:[(0,Y.jsx)("div",{className:S.app_service_item_img,children:(0,Y.jsx)("img",{src:e.image?e.image_url:null===(t=r.organization)||void 0===t?void 0:t.image_url,alt:"",width:"100%",height:"100%"})}),(0,Y.jsxs)("div",{className:S.app_service_item_de,children:[(0,Y.jsxs)("div",{children:[(0,Y.jsx)("span",{className:S.service_name,children:e.service_name}),(0,Y.jsxs)("div",{className:S.service_detail,children:[e.duration>0&&(0,Y.jsxs)("div",{className:S.service_detail_item,children:[(0,Y.jsx)("span",{children:"Th\u1eddi gian:"}),(0,Y.jsxs)("h4",{children:[e.duration," ph\xfat"]})]}),(0,Y.jsx)("div",{className:S.service_detail_item,children:(0,Y.jsx)("h5",{children:e.description})})]})]}),(0,Y.jsx)("div",{className:S.app_service_item_price,children:(0,E.g)(e.special_price,e.special_price_momo)>0?`${(0,E.Z)((0,E.g)(e.special_price,e.special_price_momo))}\u0111`:`${(0,E.Z)(e.price)}\u0111`})]})]},a)}))})]}),(0,Y.jsxs)("div",{className:S.app_detail_body_right,children:[(0,Y.jsxs)("div",{className:S.app_detail_body_right_section,children:[(0,Y.jsx)("span",{className:S.app_detail_title,children:"\u0110\u1ecba ch\u1ec9"}),(0,Y.jsx)("span",{className:S.app_detail_body_right_text,children:null!==(t=null===(i=r.branch)||void 0===i?void 0:i.full_address)&&void 0!==t?t:null===(s=r.organization)||void 0===s?void 0:s.full_address})]}),(0,Y.jsxs)("div",{className:S.app_detail_body_right_section,children:[(0,Y.jsx)("span",{className:S.app_detail_title,children:"Ghi ch\xfa"}),(0,Y.jsx)("span",{className:S.app_detail_body_right_text,children:""!==r.note&&r.note})]})]})]})]})})},R=t(47693);const O=e=>{const a=[];return[1,2,3,4,5,6,7].map(((t,i)=>a.push(g()(e.day(i)).format("YYYY-MM-DD")))),a};function M(){const{USER:e}=(0,y.v9)((e=>e.USER)),[a,t]=(0,i.useState)(f.cY),[s,l]=(0,i.useState)(g()().format("YYYY-MM-DD")),[n,r]=(0,i.useState)(O(g()())),d=[{title:"\u0110\xe3 x\xe1c nh\u1eadn",img:p.Z.Exclude},{title:"Ch\u01b0a x\xe1c nh\u1eadn x\xe1c nh\u1eadn",img:p.Z.Exclude2},{title:"Ho\xe0n th\xe0nh",img:p.Z.Exclude3},{title:"H\u1ee7y",img:p.Z.Exclude4}],c=(0,N.H9)(e,"/appointments",a).resData,_=c.map((e=>({...e,short_time:x()(e.time_start).format("YYYY-MM-DD"),short_month_year:x()(e.time_start).format("MM-YYYY"),start_at:parseInt((0,k.mr)(e.time_start).slice(0,2))}))),o=(0,b.Tw)(c.map((e=>x()(e.time_start).format("YYYY-MM-DD")))).map((e=>({date_start:e,year_month:x()(e).format("YYYY-MM"),month_day:x()(e).format("MM-DD"),apps:_.filter((a=>a.short_time===e))}))),m=e=>e.startOf("week").month()!==e.month()?e.startOf("month"):e.startOf("week"),h=e=>6===e.day()?e:e.endOf("week").add(1,"day").month()!==e.month()?e.endOf("month"):e.endOf("week");return(0,Y.jsxs)("div",{className:w.cal_cnt,children:[(0,Y.jsxs)("div",{className:w.cal_left_cnt,children:[(0,Y.jsx)("div",{className:w.cal_left_date,children:(0,Y.jsx)(Z.Mt,{onChangeMonth:e=>{t({...a,"filter[time_start]":e})},appointments:o,onChange:e=>{const a=g()(e);l(e),m(a),h(a);const t=O(a);r(t)}})}),(0,Y.jsxs)("div",{className:w.cal_left_status,children:[(0,Y.jsx)("span",{className:w.cal_left_status_title,children:"Tr\u1ea1ng th\xe1i \u0111\u1eb7t h\u1eb9n"}),(0,Y.jsx)("ul",{className:w.list_status,children:d.map((e=>(0,Y.jsxs)("li",{className:w.status_item,children:[(0,Y.jsx)("img",{src:e.img,alt:"",width:18,height:18}),(0,Y.jsx)("span",{className:w.status_item_text,children:e.title})]},e.title)))})]})]}),(0,Y.jsx)("div",{className:w.cal_right_cnt,children:(0,Y.jsx)(B,{days:n,datePick:s,new_appointments:o})})]})}const B=e=>{const{days:a,new_appointments:t,datePick:s}=e,{t:l}=(0,i.useContext)(v.I),n=(0,N.oG)(),r=[{d:l("Home.Sunday"),date:a[0]},{d:l("Home.Monday"),date:a[1]},{d:l("Home.Tuesday"),date:a[2]},{d:l("Home.Wednesday"),date:a[3]},{d:l("Home.Thursday"),date:a[4]},{d:l("Home.Friday"),date:a[5]},{d:l("Home.Saturday"),date:a[6]}];let d=a.map((e=>({day:e,apps:t.filter((a=>a.date_start===e))}))),c=d;return n&&(c=d.filter((e=>e.day===s))),(0,Y.jsxs)("div",{className:w.cal_app_week,children:[(0,Y.jsx)("div",{className:w.week_cont,children:r.map((e=>(0,Y.jsxs)("div",{style:e.date===s?{color:"var(--purple)"}:{},className:w.week_day_item,children:[(0,Y.jsx)("h3",{children:g()(e.date).format("D")}),(0,Y.jsx)("span",{style:e.date===s?{color:"var(--purple)"}:{},children:e.d})]},e.d)))}),(0,Y.jsx)("div",{className:w.week_apps_cnt,children:c.map((e=>(0,Y.jsx)("div",{className:w.week_app_item,children:(0,Y.jsxs)("ul",{className:w.week_day_list_app,children:[e.apps.map(((e,a)=>(0,Y.jsx)("li",{className:w.week_day_item_app,children:e.apps.sort(((e,a)=>e.start_at-a.start_at)).map(((e,a)=>(0,Y.jsx)(z,{item:e},a)))},a))),(0,Y.jsx)("li",{style:{width:"auto",height:"100px"}})]})},e.day)))})]})},z=e=>{var a,t,s,l,n,r;let{item:d}=e;const[c,_]=(0,i.useState)(!1),[o,m]=(0,i.useState)(!1);return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(I,{app:d,open:c,setOpen:_}),(0,Y.jsxs)("div",{className:w.app_item,onClick:()=>_(!0),children:[(0,Y.jsx)("img",{className:w.app_item_org_img,src:null===(a=d.organization)||void 0===a?void 0:a.image_url,onError:e=>(0,b.bW)(e),alt:""}),(0,Y.jsx)("span",{className:w.app_item_status,children:d.status}),(0,Y.jsx)(Z.Rb,{className:w.app_icon_scan_btn,icon:p.Z.scanQrBtn,iconSize:20,onClick:e=>{m(!0),e.preventDefault(),e.stopPropagation()}}),(0,Y.jsxs)("div",{className:w.app_item_head,children:[(0,Y.jsxs)("div",{className:w.app_item_info,children:[(0,Y.jsx)("img",{src:p.Z.clockAppGray,className:w.app_item_icon,alt:""}),(0,Y.jsx)("h3",{children:(0,k.mr)(d.time_start)}),(0,Y.jsx)("h5",{children:g()(d.time_start).format("DD/MM/YYYY")})]}),(0,Y.jsxs)("div",{className:w.app_item_detail,children:[(0,Y.jsxs)("span",{className:w.app_item_time,children:[(0,k.mr)(d.time_start),"-",(0,k.mr)(d.time_end)]}),(0,Y.jsx)("span",{className:w.app_item_org,children:null===(t=d.organization)||void 0===t?void 0:t.name}),(0,Y.jsx)("span",{className:w.app_item_address,children:null!==(s=null===(l=d.branch)||void 0===l?void 0:l.full_address)&&void 0!==s?s:null===(n=d.organization)||void 0===n?void 0:n.full_address}),(0,Y.jsxs)("div",{className:w.app_item_bottom,children:[(0,Y.jsx)("button",{onClick:e=>{m(!0),e.preventDefault(),e.stopPropagation()},children:"Qu\xe9t m\xe3 QR"}),(0,Y.jsx)("button",{onClick:e=>{_(!0),e.preventDefault(),e.stopPropagation()},children:"Xem chi ti\u1ebft"})]})]})]}),(0,Y.jsx)("ul",{className:w.app_item_services,children:null===(r=d.services)||void 0===r?void 0:r.map((e=>(0,Y.jsx)("li",{className:w.app_item_service_name,children:e.service_name},e.id)))})]}),(0,Y.jsx)(R.C,{open:o,setOpen:m,title:"Qu\xe9t m\xe3 d\xe0nh cho c\u1eeda h\xe0ng",children:(0,Y.jsx)("div",{className:w.app_item_bottom_qr,children:(0,Y.jsx)("img",{src:d.qr_link,alt:""})})})]})};var D=function(){const{t:e}=(0,i.useContext)(v.I),a=(0,N.oG)(),t=(0,m.k6)(),u=(0,m.TH)(),x=(0,h.q)(),j=[{value:"1",title:e("Bottom.appointment")},{value:"2",title:e("\u0110\u1eb7t l\u1ecbch")},{value:"3",title:e("my_ser.booking_his")}],[g,f]=(0,i.useState)((null===x||void 0===x?void 0:x.tab)||"1");return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(s.Z,{title:"L\u1ecbch h\u1eb9n"}),!a&&(0,Y.jsx)(l.Z,{}),(0,Y.jsx)("div",{className:"cal-cnt",children:(0,Y.jsx)("div",{className:"cal-cnt__tab-cnt",children:(0,Y.jsx)(d.ZP,{value:g,children:(0,Y.jsxs)(n.Z,{children:[(0,Y.jsxs)("div",{className:"cal-cnt__tab-cnt-head",children:[(0,Y.jsx)("button",{onClick:()=>{var e,a;null!==(e=u.state)&&void 0!==e&&e.prevUrl?t.goBack(`${null===(a=u.state)||void 0===a?void 0:a.prevUrl}`):t.push("/")},className:"back-btn",children:(0,Y.jsx)("img",{src:p.Z.chevronLeft,alt:""})}),(0,Y.jsx)(c.Z,{className:"cal-cnt__tab-list",onChange:(e,a)=>{f(a),t.push(`/lich-hen?tab=${a}`)},children:j.map(((e,a)=>(0,Y.jsx)(r.Z,{label:e.title,value:e.value},a)))}),(0,Y.jsx)("div",{style:{width:"24px",height:"24px"}})]}),(0,Y.jsx)(_.Z,{value:"1",children:(0,Y.jsx)(M,{})}),(0,Y.jsx)(_.Z,{value:"2",children:(0,Y.jsx)(o.default,{})})]})})})}),(0,Y.jsx)(Z.z,{})]})}},15394:function(e,a,t){t.r(a),t.d(a,{default:function(){return I}});var i=t(72791),s=t(10266),l=t(16030),n=t(16002),r=t(17983),d=t(65209),c=t(8137),_=t(94454),o=t(80315),p=t(66875),m=t(6214),h=t(4358),v=t(29818),u=t(763),x=t(96755),j=t(19598),g=t(93080),f=t(25605),N=t(3444),b=t(24483),y=t(20181),k=t(80184);var Z=function(e){const{open:a,setOpen:t,service:s,org:n}=e,r=(0,y.oG)(),c=(0,l.I0)(),_=(0,j.k6)(),{USER:o}=(0,l.v9)((e=>e.USER)),{status_cmt:p}=(0,l.v9)((e=>e.SERVICE.COMMENTS)),Z=(0,l.v9)((e=>e.COMMENT)),w=[{id:1,icon:g.Z.star,iconActive:g.Z.starLine,title:"R\u1ea5t t\u1ec7"},{id:2,icon:g.Z.star,iconActive:g.Z.starLine,title:"T\u1ec7"},{id:3,icon:g.Z.star,iconActive:g.Z.starLine,title:"B\xecnh th\u01b0\u1eddng"},{id:4,icon:g.Z.star,iconActive:g.Z.starLine,title:"T\u1ed1t"},{id:5,icon:g.Z.star,iconActive:g.Z.starLine,title:"R\u1ea5t t\u1ed1t"}],[C,S]=(0,i.useState)({text:"",image_url:null,star:0,used:!0}),[E,Y]=(0,i.useState)(!1),I=async e=>{(new FormData).append("file",e);try{S({...C,image_url:Z.image_url})}catch(a){console.log(a)}};let R=!1;return p===d.Q.LOADING&&(R=!0),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(m.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:E,autoHideDuration:4e3,onClose:()=>Y(!1),children:(0,k.jsxs)(h.Z,{onClose:()=>Y(!1),severity:"success",sx:{width:"100%"},children:["C\u1ea3m \u01a1n ",null===o||void 0===o?void 0:o.fullname," \u0111\xe3 \u0111\xe1nh gi\xe1 d\u1ecbch v\u1ee5"]})}),(0,k.jsxs)(v.Z,{fullScreen:r,open:a,onClose:()=>t(!1),children:[r&&a&&(0,k.jsx)(N.Z,{onBack:()=>t(!1),title:"\u0110\xe1nh gi\xe1"}),(0,k.jsxs)("div",{className:"review-service",children:[(0,k.jsxs)("div",{className:"review-service-head",children:[(0,k.jsx)("div",{className:"review-service__title",children:"\u0110\xe1nh gi\xe1 d\u1ecbch v\u1ee5"}),(0,k.jsxs)("div",{className:"flex-row-sp review-service__item",children:[(0,k.jsx)("img",{src:null!==s&&void 0!==s&&s.image?null===s||void 0===s?void 0:s.image_url:null===n||void 0===n?void 0:n.image_url,alt:"",className:"left",onError:e=>(0,x.bW)(e)}),(0,k.jsxs)("div",{className:"right",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:"service-name",children:null===s||void 0===s?void 0:s.service_name}),(0,k.jsx)("span",{className:"service-desc",children:null===s||void 0===s?void 0:s.description})]}),(0,k.jsxs)("div",{className:"flex-row right_org",children:[(0,k.jsx)("img",{src:null===n||void 0===n?void 0:n.image_url,alt:"",className:"right_org_img",onError:e=>(0,x.bW)(e)}),(0,k.jsx)("span",{className:"right_org_name",children:null===n||void 0===n?void 0:n.name})]})]})]}),(0,k.jsxs)("div",{className:"review-service__star",children:[(0,k.jsx)("span",{className:"title",children:"B\u1ea1n c\u1ea3m th\u1ea5y d\u1ecbch v\u1ee5 th\u1ebf n\xe0o ?"}),(0,k.jsx)("ul",{className:"star-list",children:w.map((e=>(0,k.jsxs)("li",{onClick:()=>{return a=e.id,void S({...C,star:a});var a},className:"flex-column",children:[(0,k.jsx)("img",{src:e.id<=C.star?e.icon:e.iconActive,alt:"",className:"start-icon"}),(0,k.jsx)("span",{className:"star-feed",children:e.title})]},e.id)))})]}),(0,k.jsxs)("div",{className:"review-service__text",children:[(0,k.jsx)("textarea",{placeholder:"Vui l\xf2ng \u0111\u1ec3 l\u1ea1i \u0111\xe1nh gi\xe1 c\u1ee7a b\u1ea1n ...",value:C.text,onChange:e=>(e=>{S({...C,text:e.target.value})})(e),rows:4,className:"review-service__ip"}),(0,k.jsx)("div",{className:"review-service__upload",children:(0,k.jsxs)("div",{style:{width:"20px"},className:"upload-img",children:[(0,k.jsx)("label",{htmlFor:"file",children:(0,k.jsx)("img",{src:g.Z.addImg,alt:""})}),(0,k.jsx)("input",{hidden:!0,id:"file",type:"file",name:"file",accept:"image/png, image/jpeg, video/mp4",onChange:e=>(e=>{const a=e.target.files[0];!0===C.used&&a?I(a):_.push("/sign-in?1")})(e)})]})})]}),Z&&Z.image_url&&(0,k.jsxs)("div",{style:{marginTop:"24px"},className:"evaluate-input__upload",children:[(0,k.jsx)("img",{src:Z.image_url,className:"evaluate-upload__img",alt:""}),(0,k.jsx)("button",{className:"btn-close",onClick:()=>{S({...C,image_url:null})},children:(0,k.jsx)("img",{src:g.Z.closeCircle,alt:""})})]})]}),(0,k.jsx)("div",{className:"review-service__btn",children:(0,k.jsx)(b.Rb,{title:"G\u1eedi \u0111\xe1nh gi\xe1",loading:R,onClick:async()=>{const e={type:"SERVICE",id:null===s||void 0===s?void 0:s.id,org_id:null===n||void 0===n?void 0:n.id,body:JSON.stringify({...C,image_url:Z.image_url})},a=(0,u.pickBy)(e,u.identity);if(o&&C.text.length>0){var i;const e=await c((0,f.y_)({values:a,user:o.USER}));"fulfilled"===(null===e||void 0===e||null===(i=e.meta)||void 0===i?void 0:i.requestStatus)&&(t(!1),S({...C,text:"",image_url:null,star:0,used:!0}))}}})})]})]})]})};var w=function(e){const{t:a}=(0,i.useContext)(r.I),{service:t,handleServiceBook:s,order_id:n,org:d}=e,[c,m]=(0,i.useState)(!1),h=(0,l.v9)((e=>e.SERVICES_BOOK)).servicesBook.map((e=>e.ser_book_id)),v=(0,p.yp)(null===t||void 0===t?void 0:t.time_expired),u=(0,i.useCallback)((()=>{m(!0)}),[]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Z,{open:c,setOpen:m,service:t,org:d}),(0,k.jsxs)("div",{children:[0===t.remain_time&&(0,k.jsx)("span",{onClick:u,className:"treatment-ser-item__out",style:{marginRight:"4px"},children:"D\u1ecbch v\u1ee5 \u0111\xe3 s\u1eed d\u1ee5ng | \u0110\xe1nh gi\xe1"}),v&&t.remain_time>0&&(0,k.jsx)("span",{style:{backgroundColor:"var(--red-cl)",color:"var(--white)"},className:"treatment-ser-item__out",children:"D\u1ecbch v\u1ee5 \u0111\xe3 h\u1ebft h\u1ea1n"}),(0,k.jsxs)("div",{className:"treatment-ser-item",onClick:()=>{s&&!1===v&&s(t)},children:[(0,k.jsx)(_.Z,{size:"small",sx:{color:"#7161BA","&.Mui-checked":{color:"#7161BA"},marginLeft:"-10px"},checked:h.includes(parseInt(`${n}${t.id}`))}),(0,k.jsx)("div",{className:"treatment-ser-item__img",children:(0,k.jsx)("img",{style:{width:"100%",height:"100%"},src:null===t||void 0===t?void 0:t.image_url,onError:e=>(0,o.ZP)(e),alt:""})}),(0,k.jsxs)("div",{className:"treatment-ser-item__cnt",children:[(0,k.jsx)("span",{className:"ser-name",children:null===t||void 0===t?void 0:t.service_name}),(0,k.jsx)("span",{className:"ser-desc",children:null!==t.description&&t.description}),(0,k.jsxs)("div",{className:"flex-row-sp",children:[t.time_expired&&(0,k.jsxs)("div",{className:"quantity-text__time-ex",children:["H\u1ebft h\u1ea1n | ",(0,p.p6)(t.time_expired)]}),(0,k.jsx)("div",{className:"flex-row quantity",children:(0,k.jsx)("div",{className:"quantity-text",children:!0===t.unlimited?(0,k.jsx)("span",{children:"Kh\xf4ng gi\u1edbi h\u1ea1n"}):(0,k.jsxs)("span",{children:["\u0110\xe3 s\u1eed d\u1ee5ng ",t.times-t.remain_time,"/",t.times]})})})]})]})]})]})]})},C=t(37683);var S=function(e){var a,t;const s=(0,l.I0)(),{service_sold:n,card_items:r,org:d,setEnableCart:c}=e,_=null===(a=r.items[0])||void 0===a?void 0:a.order_id,o=(0,l.v9)((e=>e.SERVICES_BOOK)).order_id;(0,i.useEffect)((()=>{!1===n.unlimited?n.total_remain_time>0&&c(!1):c(!1)}),[]);const p=e=>{const a=(0,C.M3)({...e,ser_book_id:parseInt(`${_}${e.id}`),org_id:null===r||void 0===r?void 0:r.organization_id,order_id:_,org:d});null===o||o===_||s((0,C.jV)()),s(a)},m=e=>{!1===n.unlimited?n.total_remain_time>0&&p(e):p(e)};return(0,k.jsx)(k.Fragment,{children:null===n||void 0===n||null===(t=n.services)||void 0===t?void 0:t.map(((e,a)=>(0,k.jsx)(w,{org:d,service_sold:n,service:e,order_id:_,handleServiceBook:m},a)))})};var E=function(e){var a,t,s;const n=(0,j.k6)(),{card_items:d}=e,c=d.organization,{t:_}=(0,i.useContext)(r.I),[o,m]=(0,i.useState)(!0),h=(0,l.v9)((e=>e.SERVICES_BOOK)),v=h.servicesBook,u=null===h||void 0===h?void 0:h.order_id;return(0,k.jsxs)("div",{className:"treat-card-item",children:[0===(null===(a=d.appointments)||void 0===a?void 0:a.length)&&(0,k.jsx)("div",{className:"treat-card-item__dot"}),(0,k.jsxs)("div",{style:u===(null===d||void 0===d?void 0:d.id)&&v.length>0?{height:"24px"}:{},className:"flex-row treat-card-item__book",onClick:()=>{if(v.length>0){const e=v.map((e=>({service:e,quantity:1})));n.push({pathname:"/dat-hen",state:{org:c,services:e,order_id:u}})}},children:[_("detail_item.booking_now"),(0,k.jsx)("img",{src:g.Z.calendarWhite,alt:""})]}),(0,k.jsxs)("div",{className:"treat-card-item__head",children:[(0,k.jsx)("span",{className:"org-name",children:null===c||void 0===c?void 0:c.name}),(0,k.jsxs)("div",{className:"head_detail",children:[(0,k.jsxs)("div",{className:"time",children:[`${_("acc.date_created")}:`,(0,k.jsx)("span",{children:(0,p.p6)(null===d||void 0===d?void 0:d.created_at)})," ",(0,k.jsx)("span",{children:(0,p.mr)(null===d||void 0===d?void 0:d.created_at)})]}),(0,k.jsxs)("div",{className:"code",children:[`${_("pm.code_orders")}: `,(0,k.jsx)("span",{children:null===d||void 0===d||null===(t=d.payment_gateway)||void 0===t?void 0:t.transaction_uuid})]})]})]}),(0,k.jsxs)("span",{className:"flex-row-sp treat-card-item__ser-count",children:[(0,k.jsx)("span",{className:"title",children:`${_("pm.service_list")}`}),!1===o?(0,k.jsxs)("div",{className:"title",children:[`${_("pr.quantity")}: `," ",(0,k.jsx)("span",{children:null===d||void 0===d?void 0:d.items_count})]}):(0,k.jsx)("div",{style:{color:"var(--red-cl)"},className:"title",children:_("pr.end_of_use")})]}),null===d||void 0===d||null===(s=d.items)||void 0===s?void 0:s.map(((e,a)=>(0,k.jsx)(S,{setEnableCart:m,card_items:d,org:c,service_sold:e.services_sold},a)))]})},Y=t(5492);var I=function(){const e=(0,l.I0)(),{t:a}=(0,i.useContext)(r.I),t=(0,y.oG)(),{services:_,status:o,totalItem:p,page:m}=(0,l.v9)((e=>e.ORDER.ORDER_SERVICES));(0,i.useEffect)((()=>{o!==d.Q.SUCCESS&&e((0,c.SN)({page:1}))}),[]);let h=!1;return o===d.Q.LOADING&&(h=!0),(0,k.jsxs)(k.Fragment,{children:[0===m&&o!==d.Q.SUCCESS&&(0,k.jsx)(Y.K,{}),(0,k.jsx)(s.Z,{children:(0,k.jsx)("div",{className:"flex-row-sp my-ser",children:(0,k.jsx)("div",{className:"my-ser__right",children:(0,k.jsx)("div",{className:"my-ser-book__cnt",children:(0,k.jsxs)("div",{className:"my-ser-book",children:[(0,k.jsx)(n.ZP,{columns:t?1:2,spacing:t?1:3,children:_.map(((e,a)=>(0,k.jsx)(E,{card_items:e},a)))}),_.length>=15&&_.length<p&&(0,k.jsx)("div",{className:"my-ser-bot",children:(0,k.jsx)(b.Rb,{title:`${a("trending.watch_all")}`,onClick:()=>{e((0,c.SN)({page:m+1}))},loading:h})})]})})})})})]})}},94454:function(e,a,t){t.d(a,{Z:function(){return Z}});var i=t(63366),s=t(87462),l=t(72791),n=t(94419),r=t(12065),d=t(97278),c=t(76189),_=t(80184),o=(0,c.Z)((0,_.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,c.Z)((0,_.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=(0,c.Z)((0,_.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),h=t(14036),v=t(31402),u=t(66934),x=t(21217);function j(e){return(0,x.Z)("MuiCheckbox",e)}var g=(0,t(75878).Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]);const f=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],N=(0,u.ZP)(d.Z,{shouldForwardProp:e=>(0,u.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:t}=e;return[a.root,t.indeterminate&&a.indeterminate,"default"!==t.color&&a[`color${(0,h.Z)(t.color)}`]]}})((e=>{let{theme:a,ownerState:t}=e;return(0,s.Z)({color:(a.vars||a).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:a.vars?`rgba(${"default"===t.color?a.vars.palette.action.activeChannel:a.vars.palette.primary.mainChannel} / ${a.vars.palette.action.hoverOpacity})`:(0,r.Fq)("default"===t.color?a.palette.action.active:a.palette[t.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${g.checked}, &.${g.indeterminate}`]:{color:(a.vars||a).palette[t.color].main},[`&.${g.disabled}`]:{color:(a.vars||a).palette.action.disabled}})})),b=(0,_.jsx)(p,{}),y=(0,_.jsx)(o,{}),k=(0,_.jsx)(m,{});var Z=l.forwardRef((function(e,a){var t,r;const d=(0,v.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=b,color:o="primary",icon:p=y,indeterminate:m=!1,indeterminateIcon:u=k,inputProps:x,size:g="medium"}=d,Z=(0,i.Z)(d,f),w=m?u:p,C=m?u:c,S=(0,s.Z)({},d,{color:o,indeterminate:m,size:g}),E=(e=>{const{classes:a,indeterminate:t,color:i}=e,l={root:["root",t&&"indeterminate",`color${(0,h.Z)(i)}`]},r=(0,n.Z)(l,j,a);return(0,s.Z)({},a,r)})(S);return(0,_.jsx)(N,(0,s.Z)({type:"checkbox",inputProps:(0,s.Z)({"data-indeterminate":m},x),icon:l.cloneElement(w,{fontSize:null!=(t=w.props.fontSize)?t:g}),checkedIcon:l.cloneElement(C,{fontSize:null!=(r=C.props.fontSize)?r:g}),ownerState:S,ref:a},Z,{classes:E}))}))},93840:function(e,a,t){const i=t(72791).createContext();a.Z=i},52930:function(e,a,t){t.d(a,{Z:function(){return l}});var i=t(72791),s=t(93840);function l(){return i.useContext(s.Z)}},97278:function(e,a,t){t.d(a,{Z:function(){return g}});var i=t(63366),s=t(87462),l=t(72791),n=t(28182),r=t(94419),d=t(14036),c=t(66934),_=t(48744),o=t(52930),p=t(23701),m=t(21217);function h(e){return(0,m.Z)("PrivateSwitchBase",e)}(0,t(75878).Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var v=t(80184);const u=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],x=(0,c.ZP)(p.Z)((e=>{let{ownerState:a}=e;return(0,s.Z)({padding:9,borderRadius:"50%"},"start"===a.edge&&{marginLeft:"small"===a.size?-3:-12},"end"===a.edge&&{marginRight:"small"===a.size?-3:-12})})),j=(0,c.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1});var g=l.forwardRef((function(e,a){const{autoFocus:t,checked:l,checkedIcon:c,className:p,defaultChecked:m,disabled:g,disableFocusRipple:f=!1,edge:N=!1,icon:b,id:y,inputProps:k,inputRef:Z,name:w,onBlur:C,onChange:S,onFocus:E,readOnly:Y,required:I,tabIndex:R,type:O,value:M}=e,B=(0,i.Z)(e,u),[z,D]=(0,_.Z)({controlled:l,default:Boolean(m),name:"SwitchBase",state:"checked"}),P=(0,o.Z)();let F=g;P&&"undefined"===typeof F&&(F=P.disabled);const q="checkbox"===O||"radio"===O,H=(0,s.Z)({},e,{checked:z,disabled:F,disableFocusRipple:f,edge:N}),$=(e=>{const{classes:a,checked:t,disabled:i,edge:s}=e,l={root:["root",t&&"checked",i&&"disabled",s&&`edge${(0,d.Z)(s)}`],input:["input"]};return(0,r.Z)(l,h,a)})(H);return(0,v.jsxs)(x,(0,s.Z)({component:"span",className:(0,n.Z)($.root,p),centerRipple:!0,focusRipple:!f,disabled:F,tabIndex:null,role:void 0,onFocus:e=>{E&&E(e),P&&P.onFocus&&P.onFocus(e)},onBlur:e=>{C&&C(e),P&&P.onBlur&&P.onBlur(e)},ownerState:H,ref:a},B,{children:[(0,v.jsx)(j,(0,s.Z)({autoFocus:t,checked:l,defaultChecked:m,className:$.input,disabled:F,id:q&&y,name:w,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const a=e.target.checked;D(a),S&&S(e,a)},readOnly:Y,ref:Z,required:I,ownerState:H,tabIndex:R,type:O},"checkbox"===O&&void 0===M?{}:{value:M},k)),z?c:b]}))}))}}]);
//# sourceMappingURL=310.5fad46d2.chunk.js.map