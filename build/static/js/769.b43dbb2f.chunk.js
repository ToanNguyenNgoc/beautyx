"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[769,930],{18769:function(e,t,i){i.r(t),i.d(t,{default:function(){return D}});var n=i(10117),_=i(72791),s=i(20181),a=i(56598),l="trends_container_large__B3usY",d="trends_trend_list__b0stv",r="trends_video_item_cnt__Y04IM",c="trends_trend_list_video_thumb__fiLD0",o="trends_trend_item_head__bhL+j",m="trends_trend_item_center__LyHmS",v="trends_trend_item_body__pIhpM",h="trends_trend_item_video_thumb__QZNby",x="trends_trend_item_bot_ex__3tgm-",u="trends_trend_item_desc__kPdxa",j="trends_trend_item_bot_org__Alayd",N="trends_trend_item_bot_org_img__XSgoS",p="trends_trend_item_bot_org_name__FHDqR",g="trends_trend_item_head_org__j14Ob",b="trends_trend_item_head_name__RXuqV",k="trends_org_name__0zme9",f="trends_create_at__TG4lF",y="trends_trend_item_bot__GH2bq",z="trends_item_ex__Jx-cl",Z="trends_item_ex_icon__zyDMA",w="trends_item_ex_text__FYVm1",B=i(72426),C=i.n(B),R=i(93080),E=i(19598),S=i(24483),A=i(68915),I=i(29818),F=i(73930),H=i(80184);var P=function(e){const{open:t,setOpen:i,_id:n}=e;return(0,H.jsx)(I.Z,{fullScreen:!0,open:t,children:t&&(0,H.jsx)(F.default,{id:n,onClose:()=>i(!1)})})};var D=function(){var e,t;const{response:i}=(0,s.ib)(!0,`${n.Z.API_NODE}/trends`,{include:"services|tiktok"}),r=null!==(e=null===i||void 0===i||null===(t=i.context)||void 0===t?void 0:t.data)&&void 0!==e?e:[],[o,m]=(0,_.useState)(0);return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(a.Z,{children:(0,H.jsx)("div",{className:l,children:(0,H.jsx)("ul",{className:d,children:r.map(((e,t)=>(0,H.jsx)("li",{className:c,children:(0,H.jsx)(U,{item:e,playVideo:o,setPlayVideo:m,index:t})},t)))})})})})};const U=e=>{var t,i,n;const{item:a,index:l,playVideo:d,setPlayVideo:c}=e,B=(0,E.k6)(),I=(0,_.useRef)(null),F=(0,_.useRef)(null),[D,U]=(0,_.useState)(!1),V=(0,s.oG)(),q=()=>{var e;V?(null===(e=I.current)||void 0===e||e.pause(),U(!0)):B.push(`/video/${a._id}`)},L=()=>{if(V&&l===d)return c(-1);c(l)},O=(0,s.W7)({root:null,rootMargin:"0px",threshold:.3},F);(0,_.useEffect)((()=>{O&&c(l)}),[O]),(0,_.useEffect)((()=>{var e,t;d===l?null===(e=I.current)||void 0===e||e.play():null===(t=I.current)||void 0===t||t.pause()}),[d]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{onMouseEnter:V?()=>{}:()=>L(),onClick:V?()=>{}:()=>q(),className:r,children:[(0,H.jsx)("div",{ref:F,className:m,children:d!==l&&(0,H.jsx)(S.Rb,{icon:R.Z.playCircle,iconSize:42})}),(0,H.jsxs)("div",{onClick:()=>{B.push((0,A.Hs)(a.organization_id))},className:o,children:[(0,H.jsx)("div",{className:g,children:(0,H.jsx)("img",{src:a.organization_image,alt:""})}),(0,H.jsxs)("div",{className:b,children:[(0,H.jsx)("p",{className:k,children:a.organization_name}),(0,H.jsx)("p",{className:f,children:C()(a.createdAt).fromNow()})]})]}),(0,H.jsx)("div",{className:v,children:(0,H.jsx)("video",{onClick:V?()=>L():()=>{},ref:I,className:h,"webkit-playsinline":"webkit-playsinline",playsInline:!0,children:(0,H.jsx)("source",{type:"video/mp4",src:`${a.media_url}#t=0.001`})})}),(0,H.jsxs)("div",{className:y,children:[(0,H.jsxs)("div",{onClick:q,className:x,children:[(0,H.jsxs)("div",{className:z,children:[(0,H.jsx)("img",{className:Z,src:R.Z.heartBoldBlack,alt:""}),(0,H.jsx)("span",{className:w,children:null===(t=a.tiktok)||void 0===t?void 0:t.digg_count})]}),(0,H.jsxs)("div",{className:z,children:[(0,H.jsx)("img",{className:Z,src:R.Z.commentBoldBlack,alt:""}),(0,H.jsx)("span",{className:w,children:null===(i=a.tiktok)||void 0===i?void 0:i.comment_count})]}),(0,H.jsxs)("div",{className:z,children:[(0,H.jsx)("img",{className:Z,src:R.Z.shareBoldBlack,alt:""}),(0,H.jsx)("span",{className:w,children:null===(n=a.tiktok)||void 0===n?void 0:n.share_count})]})]}),(0,H.jsx)("p",{className:u,children:a.content}),(0,H.jsxs)("div",{className:j,children:[(0,H.jsx)("div",{className:N,children:(0,H.jsx)("img",{src:a.organization_image,alt:""})}),(0,H.jsx)("span",{className:p,children:a.organization_name})]})]})]}),(0,H.jsx)(P,{open:D,setOpen:U,_id:a._id})]})}},73930:function(e,t,i){i.r(t),i.d(t,{default:function(){return N}});var n=i(10117),_=i(24483),s=i(93080),a=i(20181),l=i(72426),d=i.n(l),r=i(72791),c=i(16030),o=i(19598),m=i(91523),v=i(61423),h=i(68915),x={back_btn:"trend-detail_back_btn__cAjmb",container:"trend-detail_container__LW5aw",left:"trend-detail_left__zkPEH",video_container:"trend-detail_video_container__NJTaI",video_blur:"trend-detail_video_blur__BJ7VA",video_wrapper:"trend-detail_video_wrapper__16p74",video:"trend-detail_video__UtiV1",right:"trend-detail_right__zzi54",right_top:"trend-detail_right_top__s6Pbt",right_top_org:"trend-detail_right_top_org__W77YF",org_detail:"trend-detail_org_detail__NhzaH",org_detail_img:"trend-detail_org_detail_img__tYN5Z",org_detail_right:"trend-detail_org_detail_right__PcIwP",org_detail_name:"trend-detail_org_detail_name__iZmAq",time_late:"trend-detail_time_late__lC1tj",right_top_org_btn:"trend-detail_right_top_org_btn__mjg6i",title:"trend-detail_title__2lUzd",content:"trend-detail_content__tKhqX",right_top_services:"trend-detail_right_top_services__ruvvm",service_link_text:"trend-detail_service_link_text__AU6Dx",interactive:"trend-detail_interactive__pKqNC",interactive_item:"trend-detail_interactive_item__z49BQ",interactive_icon_btn:"trend-detail_interactive_icon_btn__8ItPJ",interactive_item_text:"trend-detail_interactive_item_text__jwUkK",comment_container:"trend-detail_comment_container__fcxFH",comment_list:"trend-detail_comment_list__rx5JH",comment_item_cnt:"trend-detail_comment_item_cnt__-K1Rg",comment_item_par:"trend-detail_comment_item_par__C4g1p",comment_user_avatar:"trend-detail_comment_user_avatar__xmqjw",comment_item_par_right:"trend-detail_comment_item_par_right__RXhjR",comment_item_box:"trend-detail_comment_item_box__cXnYc",comment_text:"trend-detail_comment_text__lrFWT",comment_user_name:"trend-detail_comment_user_name__QaZjT",comment_bot:"trend-detail_comment_bot__sSat5",comment_bot_create:"trend-detail_comment_bot_create__zNGBX",comment_bot_reply:"trend-detail_comment_bot_reply__ueWEn",comment_item_child:"trend-detail_comment_item_child__grHQ+",comment_item_child_item:"trend-detail_comment_item_child_item__ZN2fE",comment_input:"trend-detail_comment_input__YOZCG",detail_comment_list:"trend-detail_detail_comment_list__Iz0Jf",load_item:"trend-detail_load_item__UZLN5",load_item_left:"trend-detail_load_item_left__5Lf8c",load_item_right:"trend-detail_load_item_right__aUnBa"},u=i(2579),j=i(80184);var N=function(e){var t,i,l,u,N;let{id:g,onClose:k}=e;const f=(0,o.UO)(),y=null!==g&&void 0!==g?g:null===f||void 0===f?void 0:f.id,z=(0,o.k6)(),{response:Z}=(0,a.ib)(y,`${n.Z.API_NODE}/trends/${y}`,{include:"services|tiktok"}),w=null===Z||void 0===Z?void 0:Z.context,{_id:B,comments:C}=(0,c.v9)((e=>e.TREND_DETAIL)),R=(0,c.I0)();return(0,r.useEffect)((()=>{null!==w&&void 0!==w&&w.trend_url&&B!==y&&(async()=>{R((0,v.f)({video_url:null===w||void 0===w?void 0:w.trend_url,_id:y}))})()}),[null===w||void 0===w?void 0:w.trend_url]),w?(0,j.jsxs)("div",{className:x.container,children:[(0,j.jsx)(_.Rb,{onClick:()=>{k?k():z.goBack()},className:x.back_btn,icon:s.Z.backWhite,iconSize:24}),(0,j.jsx)("div",{className:x.left,children:(0,j.jsxs)("div",{className:x.video_container,children:[(0,j.jsx)("video",{className:x.video_blur,src:`${w.media_url}#t=0.001`}),(0,j.jsx)("div",{className:x.video_wrapper,children:(0,j.jsx)("video",{className:x.video,loop:!0,controls:!0,"webkit-playsinline":"webkit-playsinline",playsInline:!0,children:(0,j.jsx)("source",{type:"video/mp4",src:`${w.media_url}#t=0.001`})})})]})}),(0,j.jsxs)("div",{className:x.right,children:[(0,j.jsxs)("div",{className:x.right_top,children:[(0,j.jsxs)("div",{className:x.right_top_org,children:[(0,j.jsxs)("div",{onClick:()=>z.push((0,h.Hs)(null===w||void 0===w?void 0:w.organization_id)),className:x.org_detail,children:[(0,j.jsx)("div",{className:x.org_detail_img,children:(0,j.jsx)("img",{src:w.organization_image,alt:""})}),(0,j.jsxs)("div",{className:x.org_detail_right,children:[(0,j.jsx)("p",{className:x.org_detail_name,children:w.organization_name}),(0,j.jsx)("p",{className:x.time_late,children:d()(w.createdAt).locale("vi").fromNow()})]})]}),(0,j.jsx)(_.Rb,{className:x.right_top_org_btn,title:"\u0110ang theo d\xf5i"})]}),(0,j.jsxs)("div",{className:x.right_top_content,children:[(0,j.jsx)("p",{className:x.title,children:w.title}),(0,j.jsx)("p",{className:x.content,children:w.content})]}),(0,j.jsx)("div",{className:x.right_top_services,children:null===(t=w.services)||void 0===t?void 0:t.map((e=>(0,j.jsx)(m.rU,{to:{pathname:(0,h.ro)(e.id,w.organization_id,e.service_name)},children:(0,j.jsxs)("span",{className:x.service_link_text,children:["#",e.service_name]})},e.id)))}),(0,j.jsxs)("div",{className:x.interactive,children:[(0,j.jsxs)("div",{className:x.interactive_item,children:[(0,j.jsx)(_.Rb,{iconSize:16,className:x.interactive_icon_btn,icon:s.Z.eyeBoldBlack}),(0,j.jsx)("span",{className:x.interactive_item_text,children:null===w||void 0===w||null===(i=w.tiktok)||void 0===i?void 0:i.play_count})]}),(0,j.jsxs)("div",{className:x.interactive_item,children:[(0,j.jsx)(_.Rb,{iconSize:16,className:x.interactive_icon_btn,icon:s.Z.heartBoldBlack}),(0,j.jsx)("span",{className:x.interactive_item_text,children:null===w||void 0===w||null===(l=w.tiktok)||void 0===l?void 0:l.digg_count})]}),(0,j.jsxs)("div",{className:x.interactive_item,children:[(0,j.jsx)(_.Rb,{iconSize:16,className:x.interactive_icon_btn,icon:s.Z.commentBoldBlack}),(0,j.jsx)("span",{className:x.interactive_item_text,children:null===w||void 0===w||null===(u=w.tiktok)||void 0===u?void 0:u.comment_count})]}),(0,j.jsxs)("div",{className:x.interactive_item,children:[(0,j.jsx)(_.Rb,{iconSize:16,className:x.interactive_icon_btn,icon:s.Z.shareBoldBlack}),(0,j.jsx)("span",{className:x.interactive_item_text,children:null===w||void 0===w||null===(N=w.tiktok)||void 0===N?void 0:N.share_count})]})]})]}),null!==w&&void 0!==w&&w.trend_url&&B!==f.id?(0,j.jsx)(b,{}):(0,j.jsx)(p,{comments:C})]})]}):(0,j.jsx)(j.Fragment,{})};const p=e=>{const{comments:t}=e;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:x.comment_container,children:(0,j.jsx)("ul",{className:x.comment_list,children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,j.jsx)("li",{className:x.comment_list_item,children:(0,j.jsx)(g,{comment:e})},t)))})})})},g=e=>{var t,i,n,_;let{comment:a}=e;return(0,j.jsx)("div",{className:x.comment_item_cnt,children:(0,j.jsxs)("div",{className:x.comment_item_par,children:[(0,j.jsx)("div",{className:x.comment_user_avatar,children:(0,j.jsx)("img",{src:null!==(t=null===(i=a.user)||void 0===i?void 0:i.avatar)&&void 0!==t?t:s.Z.userCircle,alt:""})}),(0,j.jsxs)("div",{className:x.comment_item_par_right,children:[(0,j.jsxs)("div",{className:x.comment_item_box,children:[(0,j.jsxs)("p",{className:x.comment_text,children:[(0,j.jsx)("span",{className:x.comment_user_name,children:null===(n=a.user)||void 0===n?void 0:n.fullname}),a.body]}),(0,j.jsxs)("div",{className:x.comment_bot,children:[(0,j.jsx)("span",{className:x.comment_bot_create,children:d()("2022-10-11 11:22:00").locale("vi").fromNow()}),(0,j.jsx)("span",{className:x.comment_bot_reply,children:"Reply"})]})]}),(0,j.jsx)("ul",{className:x.comment_item_child,children:null===(_=a.children)||void 0===_?void 0:_.map(((e,t)=>{var i,n,_;return(0,j.jsxs)("li",{className:x.comment_item_child_item,children:[(0,j.jsx)("div",{className:x.comment_user_avatar,children:(0,j.jsx)("img",{src:null!==(i=null===(n=e.user)||void 0===n?void 0:n.avatar)&&void 0!==i?i:s.Z.userCircle,alt:""})}),(0,j.jsx)("div",{className:x.comment_item_par_right,children:(0,j.jsxs)("div",{style:{backgroundColor:"#EAE9F5"},className:x.comment_item_box,children:[(0,j.jsxs)("p",{className:x.comment_text,children:[(0,j.jsx)("span",{className:x.comment_user_name,children:null===(_=e.user)||void 0===_?void 0:_.fullname}),e.body]}),(0,j.jsx)("div",{className:x.comment_bot,children:(0,j.jsx)("span",{className:x.comment_bot_create,children:d()("2022-10-11 11:22:00").locale("vi").fromNow()})})]})})]},t)}))})]})]})})},b=()=>(0,j.jsx)("ul",{className:x.detail_comment_list,children:[1,2,3,4].map((e=>(0,j.jsxs)("li",{className:x.load_item,children:[(0,j.jsx)("div",{className:x.load_item_left,children:(0,j.jsx)(u.Z,{width:"100%",height:"100%",style:{borderRadius:"100%"}})}),(0,j.jsx)("div",{className:x.load_item_right,children:(0,j.jsx)(u.Z,{width:"100%",height:"100%"})})]},e)))})}}]);
//# sourceMappingURL=769.b43dbb2f.chunk.js.map