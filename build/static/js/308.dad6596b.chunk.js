"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[308],{10308:function(e,s,t){t.r(s),t.d(s,{default:function(){return f}});var a=t(63763),i=t(77072),l=t(27565),_=t(34328),n=t(46244),c=t(22041),o={container:"message_container__AxLpV",left:"message_left__k4A+R",left_head:"message_left_head__T--mk",left_head_top:"message_left_head_top__TNK6L",left_head_txt:"message_left_head_txt__MsKN9",left_head_bot:"message_left_head_bot__gwXBX",left_body:"message_left_body__xLWq0",topic:"message_topic__bGPa4",topic_left_img:"message_topic_left_img__s85aR",topic_left_online:"message_topic_left_online__7lGks",topic_right:"message_topic_right__B9HX4",topic_name:"message_topic_name__VZ3tS",topic_message:"message_topic_message__Cxfkf",right:"message_right__T+jke",left_ch:"message_left_ch__pIzTj",right_ch:"message_right_ch__Yr32q"},r=t(98713),d=t(44015),h=t(8426),m=t(96509),g=t(56204),p=t(69896),x=t(27929);var f=function(){const{t:e}=(0,l.useContext)(p.BR),{USER:s}=(0,a.As)(),[t]=(0,l.useState)(i.cu),n=(0,_.zy)(),{onSetDebounceKeyword:h}=(0,a.d7)(),[f,v]=(0,l.useState)(""),j=n.pathname.split("/")[2],{resData:N,onLoadMore:b,totalItem:k,isValidating:y}=(0,a.wX)({API_URL:"topics",enable:s,params:Object.assign(t,{s:f}),dedupingInterval:0});return(0,x.jsxs)("div",{className:o.container,children:[(0,x.jsxs)("div",{className:j?`${o.left} ${o.left_ch}`:o.left,children:[(0,x.jsxs)("div",{className:o.left_head,children:[(0,x.jsxs)("div",{className:o.left_head_top,children:[(0,x.jsx)("span",{className:o.left_head_txt,children:"Chat"}),(0,x.jsx)("div",{className:o.left_head_ctl})]}),(0,x.jsxs)("div",{className:o.left_head_bot,children:[(0,x.jsx)("img",{src:r.A.searchGray,alt:""}),(0,x.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm trong tin nh\u1eafn...",onChange:e=>{return s=e.target.value,void h({text:s,callback:e=>v(e)});var s}})]})]}),(0,x.jsxs)("div",{className:o.left_body,children:[!y&&0===N.length&&(0,x.jsx)(g.Wy,{isRecommend:!1,title:e("Search_result.emty_message")}),(0,x.jsx)(d.A,{hasMore:!0,height:"calc(100vh - 172px)",dataLength:N.length,loader:N.length<k&&(0,x.jsx)(c.a,{}),next:()=>{N.length<k&&b()},children:(0,x.jsx)("ul",{className:o.topic_list,children:N.map((e=>(0,x.jsx)("li",{className:o.topic_cnt,children:(0,x.jsx)(u,{item:e})},e._id)))})})]})]}),(0,x.jsx)(_.dO,{children:(0,x.jsx)(m.A,{children:(0,x.jsx)(_.qh,{path:"/messages/:_id",children:(0,x.jsx)("div",{style:{backgroundColor:"var(--white)"},className:j?`${o.right} ${o.right_ch}`:o.right,children:(0,x.jsx)(c.x,{})})})})})]})};const u=e=>{var s,t,a,i;let{item:l}=e;const c=(0,_.zy)();let r=l.name;var d;0!==(null===(s=l.name)||void 0===s?void 0:s.trim().length)&&l.name||(r=(0,h.Am)(null===(d=l.topic_user)||void 0===d?void 0:d.map((e=>{var s;return null===(s=e.user)||void 0===s?void 0:s.fullname})).filter(Boolean)).join(", "));const m=c.pathname.split("/")[2];return(0,x.jsxs)(n.N_,{style:l._id===m?{backgroundColor:"var(--bg-color)"}:{},to:{pathname:`/messages/${l._id}`,state:l},className:o.topic,children:[(0,x.jsx)("div",{className:o.topic_left,children:(0,x.jsxs)("div",{className:o.topic_left_img,children:[(0,x.jsx)("img",{src:(null===(t=l.organization)||void 0===t?void 0:t.image_url)||"",onError:h.fi,alt:""}),(0,x.jsx)("span",{className:o.topic_left_online})]})}),(0,x.jsxs)("div",{className:o.topic_right,children:[(0,x.jsx)("span",{className:o.topic_name,children:(null===(a=l.organization)||void 0===a?void 0:a.name)||r}),(0,x.jsxs)("div",{className:o.topic_message,children:[(0,x.jsx)("span",{children:null===(i=l.messages[0])||void 0===i?void 0:i.msg}),(0,x.jsx)("span",{children:(0,h.i1)(l.updated_at)})]})]})]})}}}]);
//# sourceMappingURL=308.dad6596b.chunk.js.map