"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[637],{85203:function(e,t,n){n.d(t,{rU:function(){return m},Vp:function(){return D},YS:function(){return p},v2:function(){return y}});var i=n(8477),a=n(6652),_=n(19598),s=n(91523),o={post_item:"com-cpn_post_item__D1cxn",post_item_head:"com-cpn_post_item_head__U7ryy",post_item_head_group:"com-cpn_post_item_head_group__aAOZH",post_item_head_cnt:"com-cpn_post_item_head_cnt__KYlCQ",post_item_group_name:"com-cpn_post_item_group_name__S0RPq",post_item_head_de:"com-cpn_post_item_head_de__ja0EQ",post_item_head_user:"com-cpn_post_item_head_user__pGrHN",user_avatar:"com-cpn_user_avatar__vxMQM",user_name:"com-cpn_user_name__M1UHR",post_create_at:"com-cpn_post_create_at__p3zzB",post_group_cate:"com-cpn_post_group_cate__ZoOxN",post_item_content:"com-cpn_post_item_content__VqCbm",post_item_interactive:"com-cpn_post_item_interactive__C9yQ5",interactive_item:"com-cpn_interactive_item__KMRgz",post_inp_cnt:"com-cpn_post_inp_cnt__8FJzH",post_inp_head:"com-cpn_post_inp_head__5pFxe",post_inp_head_user:"com-cpn_post_inp_head_user__2e338",post_inp_head_btn:"com-cpn_post_inp_head_btn__HPjyl",images_cnt:"com-cpn_images_cnt__ln3Au",parent_1:"com-cpn_parent_1__BR30g",parent_2:"com-cpn_parent_2__huMWE",parent_3:"com-cpn_parent_3__6zuEv",parent_4:"com-cpn_parent_4__OqZh9",parent_5:"com-cpn_parent_5__ZguZN",image_more:"com-cpn_image_more__0vD3q",img_item:"com-cpn_img_item__24a0i",video_item:"com-cpn_video_item__lSsmy",form_post_cnt:"com-cpn_form_post_cnt__lsyh3",form_media_list_item:"com-cpn_form_media_list_item__hloxE"},c=n(64060),l=n(72791),r=n(80184);const m=e=>{let{images:t}=e;const[n,a]=(0,l.useState)(!1),[_,s]=(0,l.useState)(0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:o.images_cnt,children:(0,r.jsx)("div",{className:(()=>{let e=o.parent_5;switch(t.length){case 1:e=o.parent_1;break;case 2:e=o.parent_2;break;case 3:e=o.parent_3;break;case 4:e=o.parent_4}return e})(),children:t.slice(0,5).map(((e,n)=>(0,r.jsxs)("div",{onClick:()=>(s(n),void a(!0)),style:{cursor:"pointer"},children:["IMAGE"===(0,c.wo)(e)?(0,r.jsx)("img",{className:o.img_item,src:e,alt:""}):(0,r.jsx)("video",{className:o.video_item,controls:!0,"webkit-playsinline":"webkit-playsinline",playsInline:!0,children:(0,r.jsx)("source",{src:e})}),4===n&&t.length>5&&(0,r.jsxs)("div",{className:o.image_more,children:["+",t.length-5]})]},n)))})}),(0,r.jsx)(i.OK,{open:n,setOpen:a,src:t,index:_})]})};var d=n(84042);const p=e=>{var t,n;let{post:l}=e;const p=(0,_.k6)(),{favoriteSt:u,onToggleFavorite:h}=(0,d.s4)({id:l.id,org_id:l.organization_id,type:"POST",count:l.favorite_count,favorite:l.is_favorite});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:o.post_item,children:[(0,r.jsxs)("div",{className:o.post_item_head,children:[(0,r.jsx)("div",{className:o.post_item_head_group}),(0,r.jsxs)("div",{className:o.post_item_head_cnt,children:[(0,r.jsx)("p",{className:o.post_item_group_name,children:null===(t=l.user)||void 0===t?void 0:t.fullname}),(0,r.jsxs)("div",{className:o.post_item_head_de,children:[(0,r.jsxs)("div",{className:o.post_item_head_user,children:[(0,r.jsx)("img",{className:o.user_avatar,src:l.user.avatar,alt:""}),(0,r.jsx)("span",{className:o.user_name,children:l.user.fullname})]}),(0,r.jsx)("span",{className:o.post_create_at,children:(0,c.wh)(l.created_at)})]})]})]}),(0,r.jsxs)("div",{className:o.post_item_content,children:[l.content,"...",(0,r.jsx)(s.rU,{onClick:()=>(0,c.SM)("auto"),to:{pathname:`/bai-viet/${l.id}`},children:"xem th\xeam"})]}),(0,r.jsx)("div",{className:o.post_item_img_cnt,children:(null===(n=l.media_url)||void 0===n?void 0:n.length)>0&&(0,r.jsx)(m,{images:l.media_url||[]})}),(0,r.jsxs)("div",{className:o.post_item_interactive,children:[(0,r.jsxs)("div",{className:o.interactive_item,children:[(0,r.jsx)(i.Rb,{onClick:h,iconSize:28,icon:u.is_favorite?a.Z.thumbUpPurple:a.Z.thumbUp}),(0,r.jsx)("span",{children:u.favorite_count})]}),(0,r.jsxs)("div",{className:o.interactive_item,children:[(0,r.jsx)(i.Rb,{onClick:()=>{(0,c.SM)("auto"),p.push(`/bai-viet/${l.id}`)},iconSize:28,icon:a.Z.chatSquare}),(0,r.jsx)("span",{children:l.comment_count})]})]})]})})};var u="post-loading_cnt__rrCFV",h="post-loading_head__6jELu",g="post-loading_head_left__oqvVU",v="post-loading_head_right__JNU6N",x="post-loading_content__Id1aI",j="post-loading_content_item__BLjoo",b="post-loading_grid_img__U7fS3",N="post-loading_grid__lXakq",f=n(2579);const y=()=>(0,r.jsxs)("div",{className:u,children:[(0,r.jsxs)("div",{className:h,children:[(0,r.jsx)("div",{className:g,children:(0,r.jsx)(f.Z,{style:{width:"100%",height:"100%"}})}),(0,r.jsxs)("div",{className:v,children:[" ",(0,r.jsx)(f.Z,{style:{width:"100%",height:"100%"}})]})]}),(0,r.jsx)("div",{className:x,children:Array(8).fill(null).map(((e,t)=>(0,r.jsxs)("p",{className:j,children:[" ",(0,r.jsx)(f.Z,{style:{width:"100%",height:"100%"}})]},t)))}),(0,r.jsx)("div",{className:b,children:(0,r.jsx)("div",{className:N,children:Array(5).fill(null).map(((e,t)=>(0,r.jsxs)("div",{children:[" ",(0,r.jsx)(f.Z,{style:{width:"100%",height:"100%"}})]},t)))})})]});var C=n(12978),Z=n(29818),k=n(60220),S=n(36520),F=n(81918),z=n(13239),w={container:"input_container__Ku2lv",user:"input_user__wOf8O",user_fullname:"input_user_fullname__b4Qh9",form:"input_form__QrPNp",text_area:"input_text_area__OA3xX",section:"input_section__xOcFh",title:"input_title__rEXLh",control:"input_control__tgUCN",control_btn:"input_control_btn__fVgsf",images_list:"input_images_list__la26j",image_item:"input_image_item__IWrqI",image:"input_image__+bx8m",image_load:"input_image_load__yrWpM",form_bottom:"input_form_bottom__lsTIL",form_bottom_btn:"input_form_bottom_btn__y7lPx",form_bottom_btn_load:"input_form_bottom_btn_load__TlCaa",header:"input_header__QYV5M",body:"input_body__CGNzr",body_input:"input_body_input__3aVCK",finish_btn:"input_finish_btn__B0QsZ",body_list:"input_body_list__3x+Lf",org_name:"input_org_name__LXNc4"},R=n(3444),O=n(65553),E=n(54864),U=n(98402),V=n(81724),L=n(65223),P=n(73418),q=n(76951),A=n(763);const G=e=>{var t,n;let{value:_,onChange:s=(()=>{}),open:o=!1,setOpen:c=(()=>{})}=e;const m=(0,d.oG)(),{mutate:p,isLoading:u,data:h}=(0,P.D)({mutationFn:e=>q.RX.getAll({keyword:e}).then((e=>e.data))}),g=(0,l.useCallback)((0,A.debounce)((e=>p(e)),400),[]);return(0,r.jsx)(Z.Z,{fullScreen:m,open:o,children:(0,r.jsxs)("div",{className:w.container,children:[(0,r.jsxs)("div",{className:w.header,children:[(0,r.jsx)(i.Rb,{onClick:()=>c(!1),icon:a.Z.chevronLeft}),(0,r.jsx)("span",{children:"G\u1eafn th\u1ebb doanh nghi\u1ec7p"}),(0,r.jsx)("div",{})]}),(0,r.jsxs)("div",{className:w.body,children:[(0,r.jsxs)("div",{className:w.body_input,children:[(0,r.jsx)("input",{autoFocus:!0,onFocus:()=>p(""),onChange:e=>g(e.target.value),type:"text",placeholder:(null===_||void 0===_?void 0:_.name)||"T\xecm ki\u1ebfm doanh nghi\u1ec7p..."}),u&&(0,r.jsx)(z.Z,{size:16}),(0,r.jsx)(i.Rb,{onClick:()=>c(!1),className:w.finish_btn,children:"Xong"})]}),(0,r.jsx)("div",{className:w.body_list,children:null===h||void 0===h||null===(t=h.context)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((e=>{var t;return(0,r.jsxs)(L.Z,{selected:(null===_||void 0===_?void 0:_.id)===e.id,onClick:()=>s(e),children:[(0,r.jsx)(k.Z,{alt:e.name,src:null!==(t=e.image_url)&&void 0!==t?t:U.ZP.beautyx}),(0,r.jsx)("span",{className:w.org_name,children:e.name})]},e.id)}))})]})]})})},T=e=>{let{open:t=!1,setOpen:n=(()=>{}),value:_=null,onChange:s=(()=>{})}=e;const{tags:o}=(0,d.e0)(),c=(0,d.oG)();return(0,r.jsx)(Z.Z,{fullScreen:c,open:t,children:(0,r.jsxs)("div",{className:w.container,children:[(0,r.jsxs)("div",{className:w.header,children:[(0,r.jsx)(i.Rb,{onClick:()=>n(!1),icon:a.Z.chevronLeft}),(0,r.jsx)("span",{children:"G\u1eafn tag"}),(0,r.jsx)("div",{})]}),(0,r.jsx)("div",{className:w.body,children:(0,r.jsx)("div",{className:w.body_list,children:o.map((e=>(0,r.jsx)(L.Z,{selected:(null===_||void 0===_?void 0:_.id)===e.id,onClick:()=>s(e),children:(0,r.jsx)("span",{className:w.org_name,children:e.name})},e.id)))})})]})})},I=e=>{var t,n,_,s,o;let{open:m=!1,setOpen:p=(()=>!1)}=e;const u=(0,d.oG)(),{USER:h}=(0,C.v9)((e=>e.USER)),{noti:g,resultLoad:v,onCloseNoti:x}=(0,d.D3)(),{handlePostMedia:j}=(0,d.zX)(),[b,N]=(0,l.useState)(!1),[f,y]=(0,l.useState)(!1),{mutate:L,isLoading:A}=(0,P.D)({mutationFn:e=>q.Fv.createPost(e),onSuccess:()=>{v("\u0110\u0103ng b\xe0i th\xe0nh c\xf4ng!"),setTimeout((()=>p(!1)),1e3)},onError:()=>v("C\xf3 l\u1ed7i x\u1ea3y ra !")}),I=(0,E.TA)({initialValues:{content:"",media_ids:[],organization:null,tag:null},validationSchema:V.Ry({content:V.Z_().required(),organization:V.Ry().shape({}),tag:V.Ry().shape({})}),onSubmit:e=>{var t,n;L({content:e.content.replace(c.mn,""),status:1,media_ids:e.media_ids.map((e=>e.model_id)),organization_id:(null===(t=e.organization)||void 0===t?void 0:t.id)||0,tag_id:null===(n=e.tag)||void 0===n?void 0:n.id})}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.uD,{open:g.openAlert,onClose:x,title:g.message}),(0,r.jsx)(Z.Z,{fullScreen:u,open:m,onClose:()=>p(!1),children:(0,r.jsxs)("div",{className:w.container,children:[u&&(0,r.jsx)(R.Z,{title:"T\u1ea1o b\xe0i vi\u1ebft",onBackFunc:()=>p(!1)}),(0,r.jsxs)("div",{className:w.user,children:[(0,r.jsx)(k.Z,{src:null===h||void 0===h?void 0:h.avatar}),(0,r.jsx)("span",{className:w.user_fullname,children:null===h||void 0===h?void 0:h.fullname})]}),(0,r.jsxs)("form",{className:w.form,autoComplete:"off",onSubmit:I.handleSubmit,children:[(0,r.jsx)("textarea",{onChange:I.handleChange,value:I.values.content,name:"content",autoFocus:!0,className:w.text_area,placeholder:"Vi\u1ebft b\xe0i..."}),(0,r.jsxs)("div",{className:w.control,children:[(0,r.jsx)(S.Z,{title:"\u1ea2nh/video",placement:"top",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{onChange:e=>{j({e:e,callBack:e=>{const{media_ids:t}=I.values;I.setFieldValue("media_ids",[...e,...t])}})},type:"file",hidden:!0,accept:O.$m,multiple:!0,id:"file"}),(0,r.jsx)("label",{className:w.control_btn,htmlFor:"file",children:(0,r.jsx)("img",{style:{width:"20px",height:"20px"},src:a.Z.addImg,alt:""})})]})}),(0,r.jsx)(S.Z,{title:"G\u1eafn th\u1ebb doanh nghi\u1ec7p",placement:"top",children:(0,r.jsx)("div",{children:(0,r.jsx)(i.Rb,{iconSize:20,onClick:()=>N(!0),type:"button",className:w.control_btn,icon:a.Z.addBtn})})}),(0,r.jsx)(S.Z,{title:"G\u1eafn tag",placement:"top",children:(0,r.jsx)("div",{children:(0,r.jsx)(i.Rb,{iconSize:20,onClick:()=>y(!0),type:"button",className:w.control_btn,icon:a.Z.tag})})})]}),(0,r.jsx)(G,{open:b,setOpen:N,value:I.values.organization,onChange:e=>I.setFieldValue("organization",e)}),(0,r.jsx)(T,{open:f,setOpen:y,value:I.values.tag,onChange:e=>I.setFieldValue("tag",e)}),(null===(t=I.values)||void 0===t?void 0:t.organization)&&(0,r.jsx)("div",{className:w.section,children:(0,r.jsxs)("div",{className:w.organization,children:[(0,r.jsx)("p",{className:w.title,children:"Doanh nghi\u1ec7p"}),(0,r.jsx)(F.Z,{onDelete:()=>I.setFieldValue("organization",null),style:{backgroundColor:"var(--purple)",color:"var(--white)"},avatar:(0,r.jsx)(k.Z,{src:null!==(n=null===(_=I.values.organization)||void 0===_?void 0:_.image_url)&&void 0!==n?n:U.ZP.beautyx}),label:null===(s=I.values.organization)||void 0===s?void 0:s.name})]})}),I.values.tag&&(0,r.jsx)("div",{className:w.section,children:(0,r.jsxs)("div",{className:w.organization,children:[(0,r.jsx)("p",{className:w.title,children:"Tag"}),(0,r.jsx)(F.Z,{onDelete:()=>I.setFieldValue("tag",null),style:{backgroundColor:"var(--purple)",color:"var(--white)"},label:null===(o=I.values.tag)||void 0===o?void 0:o.name})]})}),I.values.media_ids.length>0&&(0,r.jsxs)("div",{className:w.section,children:[(0,r.jsx)("p",{className:w.title,children:"\u1ea2nh/video"}),(0,r.jsx)("div",{className:w.images_list,children:I.values.media_ids.map((e=>(0,r.jsxs)("div",{className:w.image_item,children:[(0,c.ot)(e.model_type)?(0,r.jsx)("img",{className:w.image,src:e.original_url,alt:""}):(0,r.jsx)("video",{"webkit-playsinline":"webkit-playsinline",playsInline:!0,controls:!0,className:w.image,children:(0,r.jsx)("source",{src:e.original_url})}),e.model_id>0?(0,r.jsx)(i.Rb,{onClick:()=>{return t=e.model_id,void I.setFieldValue("media_ids",I.values.media_ids.filter((e=>e.model_id!==t)));var t},type:"button",iconSize:20,icon:a.Z.closeCircle}):(0,r.jsx)("div",{className:w.image_load,children:(0,r.jsx)(z.Z,{size:24})})]},e.model_id)))})]}),(0,r.jsx)("button",{id:"btn_submit",type:"submit",hidden:!0,children:"Submit"})]}),(0,r.jsxs)("div",{className:w.form_bottom,children:[(0,r.jsx)("label",{htmlFor:"btn_submit",className:w.form_bottom_btn,children:"\u0110\u0103ng b\xe0i vi\u1ebft"}),A&&(0,r.jsx)("div",{className:w.form_bottom_btn_load,children:(0,r.jsx)(z.Z,{size:20})})]})]})})]})};function D(e){var t;let{group:n}=e;const i=(0,_.k6)(),[s,c]=(0,l.useState)(!1),{USER:m}=(0,C.v9)((e=>e.USER));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:o.post_inp_cnt,children:(0,r.jsxs)("div",{className:o.post_inp_head,children:[(0,r.jsx)("div",{className:o.post_inp_head_user,children:(0,r.jsx)("img",{src:null!==(t=null===m||void 0===m?void 0:m.avatar)&&void 0!==t?t:a.Z.Avatar,alt:""})}),(0,r.jsx)("div",{onClick:()=>{if(!m)return i.push("/sign-in?1");c(!0)},className:o.post_inp_head_btn,children:(0,r.jsx)("p",{children:"B\u1ea1n vi\u1ebft g\xec \u0111i..."})})]})}),m&&(0,r.jsx)(I,{open:s,setOpen:c})]})}},6637:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var i=n(56598),a=n(3444),_=n(84042),s=n(19598),o=n(91523),c={container:"community_container__d12sw",header_tab:"community_header_tab__c1tXl",header_tab_item:"community_header_tab_item__qaKFd",header_tab_item_act:"community_header_tab_item_act__dCZFR",section_title:"community_section_title__qfnPz",com_container:"community_com_container__42gb9",com_container_left:"community_com_container_left__EViBi",com_container_right:"community_com_container_right__0CA1E",cate_chanel:"community_cate_chanel__F1oHD",cate_chanel_item_act:"community_cate_chanel_item_act__YfZ82",cate_chanel_item:"community_cate_chanel_item__l-R9E",com_container_left_title:"community_com_container_left_title__Nnf5N",group_cate_list:"community_group_cate_list__wncbu",group_cate_list_item:"community_group_cate_list_item__p8GKc",group_item_icon:"community_group_item_icon__+CfIE",group_item_info:"community_group_item_info__ZDVEz",group_item_info_name:"community_group_item_info_name__f1kSp",group_item_info_count:"community_group_item_info_count__iRy-L",com_container_center:"community_com_container_center__FI10S",center_group_recommend:"community_center_group_recommend__PDlAx",group_recommend_list:"community_group_recommend_list__9gJPh",group_recommend_li:"community_group_recommend_li__M45Xg",group_card_item:"community_group_card_item__3AIUp",group_cover:"community_group_cover__1jTTB",group_cover_img:"community_group_cover_img__WFtza",group_detail:"community_group_detail__5qnWY",group_detail_name:"community_group_detail_name__75yUQ",group_detail_member:"community_group_detail_member__I45C9",head_tab_cnt:"community_head_tab_cnt__Uftst",center_post_cnt:"community_center_post_cnt__1qNwK",center_post_head:"community_center_post_head__crXLQ"},l=n(85203),r=n(47858),m=n(83017),d=n(76951),p=n(80184);var u=function(){var e;const{data:t,isLoading:n,fetchNextPage:i}=(0,r.N)({queryKey:[m.xG.POSTS],queryFn:e=>{let{pageParam:t=1}=e;return d.Fv.posts({page:t,limit:10,append:"media_url",sort:"-created_at"})}}),a=null!==(e=null===t||void 0===t?void 0:t.pages.map((e=>e.context.data)).flat())&&void 0!==e?e:[];return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:c.com_container,children:[(0,p.jsx)("div",{className:c.com_container_left}),(0,p.jsx)("div",{className:c.com_container_center,children:(0,p.jsxs)("div",{className:c.center_post_cnt,children:[(0,p.jsx)("div",{className:c.center_post_head,children:(0,p.jsx)("span",{className:c.section_title,children:"B\xe0i vi\u1ebft"})}),(0,p.jsx)("ul",{className:c.center_post,children:a.map(((e,t)=>(0,p.jsx)("li",{className:c.center_post_li,children:(0,p.jsx)(l.YS,{post:e})},t)))}),n&&(0,p.jsx)("ul",{className:c.center_post,children:Array(4).fill(null).map(((e,t)=>(0,p.jsx)(l.v2,{},t)))})]})}),(0,p.jsx)("div",{className:c.com_container_right})]})})};n(72791);var h=function(){return(0,p.jsx)("div",{children:"TabGroup"})};var g=function(){var e;const t=e=>e.pageComponent,n=[{path:"/cong-dong/trang-chu",component:(0,p.jsx)(u,{})},{path:"/cong-dong/nhom",component:(0,p.jsx)(h,{})}],l=null===(e=(0,s.TH)().pathname)||void 0===e?void 0:e.split("/")[2],r=(0,_.oG)();return(0,p.jsxs)(p.Fragment,{children:[r&&(0,p.jsx)(a.Z,{title:"C\u1ed9ng \u0111\u1ed3ng"}),(0,p.jsxs)("div",{className:c.container,children:[r&&(0,p.jsx)("div",{className:c.header_tab,children:(0,p.jsx)(i.Z,{children:(0,p.jsxs)("div",{className:c.head_tab_cnt,children:[(0,p.jsx)(o.OL,{activeClassName:"trang-chu"===l?c.header_tab_item_act:"",className:c.header_tab_item,to:{pathname:"/cong-dong/trang-chu"},children:"C\u1ed9ng \u0111\u1ed3ng"}),(0,p.jsx)(o.OL,{activeClassName:"nhom"===l?c.header_tab_item_act:"",className:c.header_tab_item,to:{pathname:"/cong-dong/nhom"},children:"Nh\xf3m c\u1ee7a t\xf4i"})]})})}),(0,p.jsxs)(s.rs,{children:[(0,p.jsx)(s.l_,{exact:!0,from:"/cong-dong",to:"/cong-dong/trang-chu"}),n.map(((e,n)=>(0,p.jsx)(t,{path:e.path,pageComponent:e.component},n)))]})]})]})}}}]);
//# sourceMappingURL=637.8b3476b9.chunk.js.map