"use strict";(self.webpackChunkweb_booking=self.webpackChunkweb_booking||[]).push([[769],{16769:function(e,t,_){_.r(t),_.d(t,{default:function(){return b}});var n=_(10117),i=_(72791),r=_(82728),s=_(56598),d={container_large:"trends_container_large__B3usY",trend_list:"trends_trend_list__b0stv",video_item_cnt:"trends_video_item_cnt__Y04IM",trend_list_video_thumb:"trends_trend_list_video_thumb__fiLD0",trend_item_head:"trends_trend_item_head__bhL+j",trend_item_center:"trends_trend_item_center__LyHmS",trend_item_body:"trends_trend_item_body__pIhpM",trend_item_img_thumb:"trends_trend_item_img_thumb__xQ2c9",trend_item_video_thumb:"trends_trend_item_video_thumb__QZNby",trend_item_bot_ex:"trends_trend_item_bot_ex__3tgm-",trend_item_desc:"trends_trend_item_desc__kPdxa",trend_item_bot_org:"trends_trend_item_bot_org__Alayd",trend_item_bot_org_img:"trends_trend_item_bot_org_img__XSgoS",trend_item_bot_org_name:"trends_trend_item_bot_org_name__FHDqR",trend_item_head_org:"trends_trend_item_head_org__j14Ob",trend_item_head_name:"trends_trend_item_head_name__RXuqV",org_name:"trends_org_name__0zme9",create_at:"trends_create_at__TG4lF",trend_item_bot:"trends_trend_item_bot__GH2bq",item_ex:"trends_item_ex__Jx-cl",item_ex_icon:"trends_item_ex_icon__zyDMA",item_ex_text:"trends_item_ex_text__FYVm1"},a=_(20181),m=_(19598),l=_(68915),o=_(54742),c=_(3444),u=_(85439),x=_(31243),h=_(37480),v=_(48398),g=_(80184);var b=function(){var e,t,_,i;const a=(0,m.k6)(),l=(0,r.oG)(),o={limit:"20",include:"services|tiktok"},{data:v}=(0,u.a)({queryKey:["TRENDS",o],queryFn:()=>x.Z.get(`${n.Z.API_NODE}/trends`,{params:o}),staleTime:h.ip}),b=null!==(e=null===v||void 0===v||null===(t=v.data)||void 0===t||null===(_=t.data)||void 0===_||null===(i=_.context)||void 0===i?void 0:i.data)&&void 0!==e?e:[];return(0,g.jsxs)(g.Fragment,{children:[l&&(0,g.jsx)(c.Z,{onBackFunc:()=>a.push("/homepage"),title:"Xu h\u01b0\u1edbng"}),(0,g.jsx)(s.Z,{children:(0,g.jsx)("div",{className:d.container_large,children:(0,g.jsx)("ul",{className:d.trend_list,children:b.map(((e,t)=>(0,g.jsx)("li",{className:d.trend_list_video_thumb,children:(0,g.jsx)(j,{item:e})},t)))})})})]})};const j=e=>{var t,_,n;const{item:s}=e,c=(0,m.k6)(),u=(0,i.useRef)(null),x=(0,i.useRef)(null),[h,b]=(0,i.useState)(!1),j=(0,r.oG)(),p=()=>{var e;j?(null===(e=u.current)||void 0===e||e.pause(),b(!0)):c.push(`/video/${s._id}`)},N=(0,r.W7)({root:null,rootMargin:"0px",threshold:.3},x);(0,i.useEffect)((()=>(j&&(()=>{var e,t;N?null===(e=u.current)||void 0===e||e.play():null===(t=u.current)||void 0===t||t.pause()})(),()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.pause()})),[N]);const k=e=>{if(!j){var t,_;if(e)null===(t=u.current)||void 0===t||t.play();if(!e)null===(_=u.current)||void 0===_||_.pause()}};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),onClick:j?()=>{}:()=>p(),className:d.video_item_cnt,children:[(0,g.jsx)("div",{ref:x,className:d.trend_item_center}),(0,g.jsxs)("div",{onClick:()=>{c.push((0,l.Hs)(s.organization_id))},className:d.trend_item_head,children:[(0,g.jsx)("div",{className:d.trend_item_head_org,children:(0,g.jsx)("img",{src:s.organization_image,alt:""})}),(0,g.jsxs)("div",{className:d.trend_item_head_name,children:[(0,g.jsx)("p",{className:d.org_name,children:s.organization_name}),(0,g.jsx)("p",{className:d.create_at,children:(0,v.wh)(s.createdAt)})]})]}),(0,g.jsx)("div",{className:d.trend_item_body,children:(0,g.jsx)("video",{ref:u,className:d.trend_item_video_thumb,muted:!0,controls:j,"webkit-playsinline":"webkit-playsinline",playsInline:!0,poster:s.image_thumb,children:(0,g.jsx)("source",{src:s.media_url})})}),(0,g.jsxs)("div",{className:d.trend_item_bot,children:[(0,g.jsxs)("div",{onClick:p,className:d.trend_item_bot_ex,children:[(0,g.jsxs)("div",{className:d.item_ex,children:[(0,g.jsx)("img",{className:d.item_ex_icon,src:a.Z.heartBoldBlack,alt:""}),(0,g.jsx)("span",{className:d.item_ex_text,children:null===(t=s.tiktok)||void 0===t?void 0:t.digg_count})]}),(0,g.jsxs)("div",{className:d.item_ex,children:[(0,g.jsx)("img",{className:d.item_ex_icon,src:a.Z.commentBoldBlack,alt:""}),(0,g.jsx)("span",{className:d.item_ex_text,children:null===(_=s.tiktok)||void 0===_?void 0:_.comment_count})]}),(0,g.jsxs)("div",{className:d.item_ex,children:[(0,g.jsx)("img",{className:d.item_ex_icon,src:a.Z.shareBoldBlack,alt:""}),(0,g.jsx)("span",{className:d.item_ex_text,children:null===(n=s.tiktok)||void 0===n?void 0:n.share_count})]})]}),(0,g.jsx)("p",{className:d.trend_item_desc,children:s.content}),(0,g.jsxs)("div",{className:d.trend_item_bot_org,children:[(0,g.jsx)("div",{className:d.trend_item_bot_org_img,children:(0,g.jsx)("img",{src:s.organization_image,alt:""})}),(0,g.jsx)("span",{className:d.trend_item_bot_org_name,children:s.organization_name})]})]})]}),(0,g.jsx)(o.Z,{open:h,setOpen:b,_id:s._id})]})}}}]);
//# sourceMappingURL=769.c9a66716.chunk.js.map